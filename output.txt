
================================================================================
File: pom.xml
Size: 3.31 kB
================================================================================

<?xml version="1.0" encoding="UTF-8"?>
<project xmlns="http://maven.apache.org/POM/4.0.0"
         xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
         xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 
         http://maven.apache.org/xsd/maven-4.0.0.xsd">
    <modelVersion>4.0.0</modelVersion>

    <parent>
        <groupId>org.springframework.boot</groupId>
        <artifactId>spring-boot-starter-parent</artifactId>
        <version>3.3.5</version>
        <relativePath/>
    </parent>

    <groupId>com.mindmate</groupId>
    <artifactId>mindmate</artifactId>
    <version>1.0.0</version>
    <packaging>war</packaging>

    <name>MindMate</name>
    <description>University Project - MindMate Mental Health Platform</description>

    <properties>
        <java.version>17</java.version>
        <maven.compiler.source>17</maven.compiler.source>
        <maven.compiler.target>17</maven.compiler.target>
        <project.build.sourceEncoding>UTF-8</project.build.sourceEncoding>
    </properties>

    <dependencies>
        <!-- Spring Boot Web Starter -->
        <dependency>
            <groupId>org.springframework.boot</groupId>
            <artifactId>spring-boot-starter-web</artifactId>
        </dependency>

        <!-- JSP Support -->
        <dependency>
            <groupId>org.apache.tomcat.embed</groupId>
            <artifactId>tomcat-embed-jasper</artifactId>
            <scope>provided</scope>
        </dependency>

        <!-- JSTL for JSP -->
        <dependency>
            <groupId>jakarta.servlet.jsp.jstl</groupId>
            <artifactId>jakarta.servlet.jsp.jstl-api</artifactId>
            <version>3.0.0</version>
        </dependency>
        <dependency>
            <groupId>org.glassfish.web</groupId>
            <artifactId>jakarta.servlet.jsp.jstl</artifactId>
            <version>3.0.1</version>
        </dependency>

        <!-- Spring Boot DevTools -->
        <dependency>
            <groupId>org.springframework.boot</groupId>
            <artifactId>spring-boot-devtools</artifactId>
            <scope>runtime</scope>
            <optional>true</optional>
        </dependency>

        <!-- Embedded Tomcat (provided scope for WAR deployment) -->
        <dependency>
            <groupId>org.springframework.boot</groupId>
            <artifactId>spring-boot-starter-tomcat</artifactId>
            <scope>provided</scope>
        </dependency>

        <dependency>
            <groupId>jakarta.servlet</groupId>
            <artifactId>jakarta.servlet-api</artifactId>
            <scope>provided</scope> 
        </dependency>
    </dependencies>

    <build>
        <plugins>
            <plugin>
                <groupId>org.springframework.boot</groupId>
                <artifactId>spring-boot-maven-plugin</artifactId>
            </plugin>
            <plugin>
                <groupId>org.apache.maven.plugins</groupId>
                <artifactId>maven-war-plugin</artifactId>
                <version>3.3.2</version>
                <configuration>
                    <warSourceDirectory>src/main/webapp</warSourceDirectory>
                </configuration>
            </plugin>
        </plugins>
    </build>
</project>



================================================================================
File: README.md
Size: 6.8 kB
================================================================================

# MindMate - Mental Health Platform

**University Project - Spring Boot JSP Web Application**

---

## üö® CRITICAL: How to Port Lovable Code (Read Before Coding)

We are porting a React (Lovable) prototype into a JSP environment. You **cannot** simply copy-paste React code. Follow these 3 rules to ensure your pages work.

### Rule 1: No React Logic allowed
JSP is HTML-based. React logic will break the build.
* **DELETE** all `import` statements at the top of the file.
* **REMOVE** any `const`, `useState`, or `useEffect` hooks.
* **CONVERT** navigation:
    * ‚ùå React: `<button onClick={() => navigate('/student/assessment')}>`
    * ‚úÖ JSP: `<a href="/student/assessment" class="...">`

### Rule 2: How to use Icons
React components like `<Calendar />` do not work in JSP. We are using **Lucide Icons** via CDN (already configured in `header.jsp`).
* **CONVERT** the tag:
    * ‚ùå React: `<Calendar className="h-4 w-4" />`
    * ‚úÖ JSP: `<i data-lucide="calendar" class="h-4 w-4"></i>`
* *Note: Use lowercase names (e.g., `BellRing` becomes `bell-ring`).*

### Rule 3: Handling Images
Images referenced in Lovable live on their server. For our app, they must be local.
1.  **SAVE** the image from the prototype to: `src/main/resources/static/images/`
2.  **UPDATE** the source path:
    * ‚ùå React: `<img src="/lovable-uploads/hero.png" />`
    * ‚úÖ JSP: `<img src="/images/hero.png" />`

---

## Overview

MindMate is a mental health platform built with Spring Boot 3.3.5 and JSP views. This is a "Potemkin Village" (facade) implementation for the Phase 2 demo, featuring working navigation and UI without full backend logic.

## Technical Stack

-   **Framework:** Spring Boot 3.3.5
-   **Language:** Java 17
-   **Build Tool:** Maven
-   **View Engine:** JSP (JavaServer Pages)
-   **Styling:** Tailwind CSS (via CDN)
-   **Packaging:** WAR (Web Application Archive)

## Project Structure

```text
src/main/
‚îú‚îÄ‚îÄ java/com/mindmate/
‚îÇ   ‚îú‚îÄ‚îÄ MindMateApplication.java
‚îÇ   ‚îî‚îÄ‚îÄ controller/
‚îÇ       ‚îú‚îÄ‚îÄ AuthController.java
‚îÇ       ‚îú‚îÄ‚îÄ StudentController.java
‚îÇ       ‚îú‚îÄ‚îÄ CounselorController.java
‚îÇ       ‚îî‚îÄ‚îÄ AdminController.java
‚îî‚îÄ‚îÄ webapp/WEB-INF/jsp/
    ‚îú‚îÄ‚îÄ common/
    ‚îÇ   ‚îú‚îÄ‚îÄ header.jsp            <-- Includes Tailwind & Lucide CDN
    ‚îÇ   ‚îî‚îÄ‚îÄ footer.jsp            <-- Includes Icon Activation Script
    ‚îú‚îÄ‚îÄ auth/
    ‚îÇ   ‚îú‚îÄ‚îÄ login.jsp
    ‚îÇ   ‚îî‚îÄ‚îÄ register.jsp
    ‚îú‚îÄ‚îÄ student/
    ‚îÇ   ‚îú‚îÄ‚îÄ dashboard.jsp
    ‚îÇ   ‚îú‚îÄ‚îÄ assessment-list.jsp
    ‚îÇ   ‚îú‚îÄ‚îÄ assessment-questions.jsp
    ‚îÇ   ‚îú‚îÄ‚îÄ assessment-result.jsp
    ‚îÇ   ‚îú‚îÄ‚îÄ content-library.jsp
    ‚îÇ   ‚îú‚îÄ‚îÄ content-view.jsp
    ‚îÇ   ‚îú‚îÄ‚îÄ forum-list.jsp
    ‚îÇ   ‚îú‚îÄ‚îÄ forum-thread.jsp
    ‚îÇ   ‚îú‚îÄ‚îÄ chatbot.jsp
    ‚îÇ   ‚îú‚îÄ‚îÄ telehealth-book.jsp
    ‚îÇ   ‚îî‚îÄ‚îÄ telehealth-my-appointments.jsp
    ‚îú‚îÄ‚îÄ counselor/
    ‚îÇ   ‚îú‚îÄ‚îÄ dashboard.jsp
    ‚îÇ   ‚îú‚îÄ‚îÄ schedule.jsp
    ‚îÇ   ‚îî‚îÄ‚îÄ content-manager.jsp
    ‚îî‚îÄ‚îÄ admin/
        ‚îî‚îÄ‚îÄ dashboard.jsp
````

## Prerequisites

  - Java 17 or higher
  - Maven 3.6 or higher
  - IDE (IntelliJ IDEA, Eclipse, or VS Code recommended)

## Setup Instructions

### 1\. Clone the Repository

```bash
git clone <repository-url>
cd IPman-MindMate
```

### 2\. Build the Project

```bash
mvn clean install
```

### 3\. Run the Application

**Option A: Using Maven Spring Boot Plugin (RECOMMENDED)**

```bash
mvn spring-boot:run
```

**Option B: Using Java**

```bash
java -jar target/mindmate-1.0.0.war
```

**Option C: Deploy as WAR**

  - Build the WAR file: `mvn clean package`
  - Deploy `target/mindmate-1.0.0.war` to your application server (Tomcat, etc.)

### 4\. Access the Application

  - Open your browser and navigate to: `http://localhost:8080`
  - You will be redirected to the login page

## Demo Access

The login page includes three demo buttons to bypass authentication:

  - **Login as Student** ‚Üí `/student/dashboard`
  - **Login as Counselor** ‚Üí `/counselor/dashboard`
  - **Login as Admin** ‚Üí `/admin/dashboard`

## Available Routes

### Authentication

  - `GET /` ‚Üí Redirects to `/login`
  - `GET /login` ‚Üí Login page
  - `GET /register` ‚Üí Registration page
  - `POST /login` ‚Üí Mock login (redirects to student dashboard)

### Student Routes (`/student`)

  - `GET /student/dashboard` ‚Üí Student dashboard
  - `GET /student/assessment` ‚Üí Assessment list
  - `GET /student/assessment/take` ‚Üí Take assessment
  - `GET /student/library` ‚Üí Content library
  - `GET /student/forum` ‚Üí Forum list (with dummy threads)
  - `GET /student/forum/thread` ‚Üí Forum thread view
  - `GET /student/chatbot` ‚Üí Chatbot interface
  - `GET /student/telehealth` ‚Üí Book telehealth appointment
  - `GET /student/telehealth/my-appointments` ‚Üí View appointments

### Counselor Routes (`/counselor`)

  - `GET /counselor/dashboard` ‚Üí Counselor dashboard
  - `GET /counselor/content` ‚Üí Content manager
  - `GET /counselor/schedule` ‚Üí Schedule manager

### Admin Routes (`/admin`)

  - `GET /admin/dashboard` ‚Üí Admin dashboard

## Development Notes

### Hot Reload

Spring Boot DevTools is included. Changes to Java files will trigger an automatic server restart.

### JSP Development

  - JSP files are located in `src/main/webapp/WEB-INF/jsp/`
  - Tailwind CSS is loaded via CDN in `common/header.jsp`
  - **Always** include `<jsp:include page="../common/header.jsp" />` at the top of new pages.

## Configuration

Application properties are configured in `src/main/resources/application.properties`:

```properties
spring.mvc.view.prefix=/WEB-INF/jsp/
spring.mvc.view.suffix=.jsp
server.port=8080
```

## Generation Report

### Structure Verification

‚úÖ All folders created as specified
‚úÖ Complete directory structure matches requirements

### Controller Check

‚úÖ **AuthController:** `/`, `/login`, `/register`, `POST /login`
‚úÖ **StudentController:** All 9 student modules mapped.
‚úÖ **CounselorController:** Dashboard, Content Management, and Schedule mapped.
‚úÖ **AdminController:** Dashboard mapped.

### Next Steps Checklist

  - [x] Project structure created
  - [x] Dependencies configured in pom.xml
  - [x] Controllers implemented
  - [x] JSP views created
  - [ ] Run `mvn clean install` to build
  - [ ] Run `mvn spring-boot:run` to start server
  - [ ] Navigate to `http://localhost:8080` in browser
  - [ ] Test navigation using demo login buttons

## License

University Project - Internal Use Only

```
```

================================================================================
File: src\main\java\com\mindmate\controller\AdminController.java
Size: 4.65 kB
================================================================================

package com.mindmate.controller;

import org.springframework.stereotype.Controller;
import org.springframework.ui.Model;
import org.springframework.web.bind.annotation.GetMapping;
import org.springframework.web.bind.annotation.PostMapping;
import org.springframework.web.bind.annotation.RequestMapping;
import org.springframework.web.bind.annotation.RequestParam;
import org.springframework.web.bind.annotation.ResponseBody; 

import java.util.ArrayList;
import java.util.Arrays;
import java.util.List;
import java.util.Map;
import java.util.stream.Collectors;

@Controller
@RequestMapping("/admin")
public class AdminController {

    // 1. üî• MOCK DATA STRUCTURE (Using standard HashMap for null-safe values) üî•
    private final List<Map<String, Object>> mockPosts = new ArrayList<>(Arrays.asList(
        // Post 1: Approved 
        createPost("1", "Tips for stress relief", "Take deep breaths.", false, null, true, "AnonUser1", "2025-11-20"),
        
        // Post 2: Flagged (Hate speech)
        createPost("2", "Inappropriate comment", "This comment contains offensive language.", true, "Hate speech", false, "JohnDoe", "2025-11-25"),

        // Post 3: Flagged (Self-harm concern)
        createPost("3", "Need serious help", "Feeling hopeless and overwhelmed.", true, "Self-harm concern", true, "AnonUser3", "2025-11-29")
    ));

    // Helper method to create a HashMap with null-safe values (to prevent NPE from Map.of())
    private Map<String, Object> createPost(String id, String title, String content, boolean isFlagged, String flagReason, boolean isAnonymous, String author, String createdAt) {
        // Use Map.of() for non-null items, then convert to HashMap
        // to safely put the potentially null 'flag_reason'.
        Map<String, Object> post = new java.util.HashMap<>(Map.of(
            "id", id, 
            "title", title, 
            "content", content, 
            "is_flagged", isFlagged, 
            "is_anonymous", isAnonymous, 
            "author", author, 
            "created_at", createdAt
        ));
        // This is safe even if flagReason is null
        post.put("flag_reason", flagReason); 
        return post;
    }

    // Helper method to find a post by ID in the mock list
    private Map<String, Object> findPostById(String postId) {
        return mockPosts.stream()
                .filter(post -> postId.equals(post.get("id")))
                .findFirst()
                .orElse(null);
    }
    
    //---------------------------------------------------------

    @GetMapping("/dashboard")
    public String dashboard(Model model) {
        model.addAttribute("role", "admin");
        return "admin/dashboard";
    }

    @GetMapping("/profile")
    public String profile(Model model) {
        model.addAttribute("role", "admin");
        return "admin/profile";
    }

    // --- Admin Moderation View ---
    @GetMapping("/forum-moderation")
    public String forumModeration(Model model) {
        
        model.addAttribute("role", "admin");
        List<Map<String, Object>> allPosts = mockPosts;
        
        // Filter flagged posts for the table
        List<Map<String, Object>> flaggedPosts = allPosts.stream()
            .filter(post -> (Boolean) post.get("is_flagged"))
            .collect(Collectors.toList());

        // Calculate stats
        int totalPosts = allPosts.size();
        int totalFlagged = flaggedPosts.size();
        
        // Add required model attributes for the JSP
        model.addAttribute("posts", allPosts); 
        model.addAttribute("flaggedPosts", flaggedPosts);
        model.addAttribute("totalApprovedPosts", totalPosts - totalFlagged);
        
        return "admin/forum-moderation"; // Your JSP page
    }

    // --- Admin Actions (Approve/Unflag) ---
    @PostMapping("/forum/approve")
    public String approvePost(@RequestParam("postId") String postId) {
        Map<String, Object> post = findPostById(postId);
        if (post != null) {
            // Since mockPosts are now HashMaps, we can modify them
            post.put("is_flagged", false);
            post.put("flag_reason", null);
        }
        return "redirect:/admin/moderation/forum";
    }

    // --- Admin Actions (Delete) ---
    @PostMapping("/forum/delete")
    public String deletePost(@RequestParam("postId") String postId) {
        // Remove the post from the mock list
        mockPosts.removeIf(post -> postId.equals(post.get("id")));
        
        return "redirect:/admin/moderation/forum";
    }
}

================================================================================
File: src\main\java\com\mindmate\controller\AssessmentController.java
Size: 9.23 kB
================================================================================

package com.mindmate.controller;

import com.mindmate.model.Question; // Needs the Question Model
import org.springframework.stereotype.Controller;
import org.springframework.ui.Model;
import org.springframework.web.bind.annotation.GetMapping;
import org.springframework.web.bind.annotation.PostMapping;
import org.springframework.web.bind.annotation.RequestMapping;
import org.springframework.web.bind.annotation.RequestParam;
import jakarta.servlet.http.HttpSession; // Use Jakarta import

import java.util.Arrays;
import java.util.List;
import java.util.Map;

// Class-level RequestMapping defines the base URL for the assessment module
@Controller
@RequestMapping("/student/assessment")
public class AssessmentController {

    // --- Assessment Data (Static Configuration) ---
    private static final List<Question> ASSESSMENT_QUESTIONS = Arrays.asList(
        new Question(1, "How often do you feel nervous, anxious, or on edge?", createOptions()),
        new Question(2, "How often have you been unable to stop or control worrying?", createOptions()),
        new Question(3, "How often do you feel down, depressed, or hopeless?", createOptions()),
        new Question(4, "How often have you had little interest or pleasure in doing things?", createOptions()),
        new Question(5, "How often have you had trouble falling or staying asleep, or sleeping too much?", createOptions())
    );
    
    private static final int TOTAL_QUESTIONS = ASSESSMENT_QUESTIONS.size();

    private static List<Map<String, Object>> createOptions() {
        return Arrays.asList(
            Map.of("value", 0, "label", "Not at all"),
            Map.of("value", 1, "label", "Several days"),
            Map.of("value", 2, "label", "More than half the days"),
            Map.of("value", 3, "label", "Nearly every day")
        );
    }
    
    // --- Utility Methods (Scoring) ---
    private Map<String, Object> calculateResults(int totalScore) {
        // ... (Keep the exact scoring logic from the previous controller) ...
        String level;
        String action;
        String colorClass;
        String backgroundClass;
        boolean highRisk = false;

        if (totalScore >= 12) {
            level = "Severe";
            action = "Please consider reaching out for immediate support. We strongly recommend sharing your results.";
            colorClass = "text-destructive";
            backgroundClass = "bg-destructive/10";
            highRisk = true;
        } else if (totalScore >= 7) {
            level = "Moderate";
            action = "Your results suggest a moderate need for support. Exploring our resources is highly recommended.";
            colorClass = "text-primary";
            backgroundClass = "bg-primary/10";
        } else {
            level = "Minimal";
            action = "Your results suggest minimal symptoms. Keep up with healthy habits!";
            colorClass = "text-green-600";
            backgroundClass = "bg-green-100";
        }

        int maxPossibleScore = TOTAL_QUESTIONS * 3;
        int scorePercentage = (int) (((double) totalScore / maxPossibleScore) * 100);

        return Map.of(
            "totalScore", totalScore,
            "score", scorePercentage,
            "level", level,
            "action", action,
            "color", colorClass,
            "bg", backgroundClass,
            "highRisk", highRisk
        );
    }
    
    // --- Assessment Flow Handlers ---

    /**
     * Initializes or continues the assessment.
     * Maps to: GET /student/assessment
     */
    @GetMapping
    public String startAssessment(HttpSession session, Model model) {
        // Pass the role just in case the header needs it
        model.addAttribute("role", "student"); 

        Boolean showResults = (Boolean) session.getAttribute("showResults");
        if (showResults != null && showResults) {
            Map<String, ?> resultsMap = (Map<String, ?>) session.getAttribute("assessmentResultsData");
            if (resultsMap != null) {
                model.addAllAttributes(resultsMap); 
            }
            
            model.addAttribute("showResults", true);
            
            Boolean highRisk = (Boolean) session.getAttribute("highRisk");
            Boolean consentGiven = (Boolean) session.getAttribute("consentDialogShown");
            
            if (highRisk != null && highRisk && (consentGiven == null || !consentGiven)) {
                 model.addAttribute("showConsentDialog", true);
            }
            return "student/assessment-questions";
        }

        Integer currentQIndex = (Integer) session.getAttribute("currentQuestionIndex");
        if (currentQIndex == null || currentQIndex < 0 || currentQIndex >= TOTAL_QUESTIONS) {
            currentQIndex = 0;
            session.setAttribute("currentQuestionIndex", 0);
            session.setAttribute("assessmentResponses", new int[TOTAL_QUESTIONS]);
            session.removeAttribute("assessmentResultsData");
            session.removeAttribute("highRisk");
            session.removeAttribute("consentDialogShown");
            session.removeAttribute("showResults"); // Ensure this is explicitly reset
        }

        return displayQuestion(currentQIndex, model);
    }

    /**
     * Processes the user's answer.
     * Maps to: POST /student/assessment/submit
     */
    @PostMapping("/submit")
    public String processSubmission(
            @RequestParam(name = "currentQuestionIndex") int currentQIndex,
            @RequestParam(name = "response", required = false) Integer responseValue,
            @RequestParam(name = "direction") String direction,
            HttpSession session, Model model) {

        int[] responses = (int[]) session.getAttribute("assessmentResponses");
        
        // This ensures the response for the question the user is LEAVING is always recorded.
        if (responseValue != null && currentQIndex >= 0 && currentQIndex < TOTAL_QUESTIONS) {
            responses[currentQIndex] = responseValue;
            session.setAttribute("assessmentResponses", responses);
        }

        int nextIndex = currentQIndex;
        if (direction.equals("next")) {
            nextIndex++;
        } else if (direction.equals("previous") && currentQIndex > 0) {
            nextIndex--;
        }
        
        session.setAttribute("currentQuestionIndex", nextIndex);
        model.addAttribute("role", "student");

        if (nextIndex >= TOTAL_QUESTIONS) {
            return showResults(responses, session, model);
        }

        return displayQuestion(nextIndex, model);
    }

    /**
     * Handles consent dialog action.
     * Maps to: GET /student/assessment/consent
     */
    @GetMapping("/consent")
    public String handleConsent(@RequestParam("share") boolean share, HttpSession session) {
        session.setAttribute("consentDialogShown", true);
        if (share) {
            System.out.println("User consented to share results.");
        }
        return "redirect:/student/assessment";
    }

    /**
     * Resets the assessment state.
     * Maps to: GET /student/assessment/reset
     */
    @GetMapping("/reset")
    public String resetAssessment(HttpSession session) {
        session.removeAttribute("currentQuestionIndex");
        session.removeAttribute("assessmentResponses");
        session.removeAttribute("showResults");
        session.removeAttribute("assessmentResultsData");
        session.removeAttribute("highRisk");
        session.removeAttribute("consentDialogShown");
        return "redirect:/student/assessment";
    }

    // --- Utility Views ---
    
    private String showResults(int[] responses, HttpSession session, Model model) {
        int totalScore = Arrays.stream(responses).sum();
        Map<String, Object> results = calculateResults(totalScore);

        session.setAttribute("showResults", true);
        session.setAttribute("assessmentResultsData", results);
        session.setAttribute("highRisk", (Boolean) results.get("highRisk"));

        model.addAttribute("showResults", true);
        model.addAllAttributes(results);

        Boolean consentGiven = (Boolean) session.getAttribute("consentDialogShown");
        if ((Boolean) results.get("highRisk") && (consentGiven == null || !consentGiven)) {
             model.addAttribute("showConsentDialog", true);
        }

        return "student/assessment-questions";
    }

    private String displayQuestion(int index, Model model) {
        Question currentQuestion = ASSESSMENT_QUESTIONS.get(index);
        
        model.addAttribute("currentQuestionIndex", index);
        model.addAttribute("totalQuestions", TOTAL_QUESTIONS);
        model.addAttribute("currentQuestion", currentQuestion.getText());
        model.addAttribute("responseOptions", currentQuestion.getOptions());
        model.addAttribute("showResults", false);
        model.addAttribute("showConsentDialog", false);
        
        return "student/assessment-questions";
    }
}

================================================================================
File: src\main\java\com\mindmate\controller\AuthController.java
Size: 944 B
================================================================================

package com.mindmate.controller;

import org.springframework.stereotype.Controller;
import org.springframework.web.bind.annotation.GetMapping;
import org.springframework.web.bind.annotation.PostMapping;

@Controller
public class AuthController {

    @GetMapping("/")
    public String root() {
        return "redirect:/login";
    }

    @GetMapping("/login")
    public String showLoginPage() {
        return "auth/login";
    }

    @PostMapping("/login")
    public String processLogin() {
        return "redirect:/student/dashboard";
    }

    @GetMapping("/register")
    public String showRegisterPage() {
        return "auth/register";
    }

    @GetMapping("/logout")
    public String logout() {
        // In a real app, we would invalidate the session here.
        // For the demo, just redirecting to login is fine.
        return "redirect:/login";
    }
    // -----------------------
}

================================================================================
File: src\main\java\com\mindmate\controller\CounselorController.java
Size: 7.84 kB
================================================================================

package com.mindmate.controller;

import com.mindmate.model.Content;
import org.springframework.stereotype.Controller;
import org.springframework.ui.Model;
import org.springframework.web.bind.annotation.GetMapping;
import org.springframework.web.bind.annotation.PostMapping;
import org.springframework.web.bind.annotation.RequestMapping;
import org.springframework.web.bind.annotation.RequestParam;

import java.time.LocalDate;
import java.time.LocalTime;
import java.time.format.DateTimeFormatter;
import java.util.*;
import java.util.concurrent.atomic.AtomicLong;
import java.util.stream.Collectors;

@Controller
@RequestMapping("/counselor")
public class CounselorController {

    // Content store
    private static final Map<Long, Content> STORE = new LinkedHashMap<>();
    private static final AtomicLong ID_COUNTER = new AtomicLong(1);

    // Appointments store
    private static final List<Map<String, Object>> APPOINTMENTS = new ArrayList<>();
    private static final AtomicLong APPOINTMENT_ID = new AtomicLong(1);

    static {
        // Seed content
        STORE.put(1L, new Content(1L, "Stress Management 101", "Article",
                "Learn effective stress-coping strategies for students", ""));
        STORE.put(2L, new Content(2L, "Mindfulness Meditation Guide", "Video",
                "15-minute guided meditation for anxiety relief", ""));
        STORE.put(3L, new Content(3L, "Sleep Hygiene", "Article", 
                "Interactive module on building better sleep habits", ""));
        STORE.put(4L, new Content(4L, "Understanding Anxiety", "Article", 
                "What causes anxiety and how to manage it", ""));
        STORE.put(5L, new Content(5L, "Building Resilience", "Article",
                "Develop emotional resilience for long-term wellbeing", ""));
        ID_COUNTER.set(6);

        // Seed appointments
        APPOINTMENTS.add(createAppointment(
            "2025-11-22",
            "15:30",
            "pending",
            "First session - social anxiety",
            "Sarah Chen"
        ));
        
        APPOINTMENTS.add(createAppointment(
            "2025-11-25",
            "10:00",
            "pending",
            "Crisis intervention follow-up",
            "Michael Torres"
        ));
        
        APPOINTMENTS.add(createAppointment(
            "2025-11-29",
            "14:00",
            "pending",
            "group session",
            "Anxiety Support Group"
        ));
        
        APPOINTMENTS.add(createAppointment(
            "2025-12-02",
            "09:00",
            "confirmed",
            "Individual session",
            "Emily Johnson"
        ));
    }

    private static Map<String, Object> createAppointment(String date, String time, 
                                                          String status, String notes, String studentName) {
        Map<String, Object> apt = new HashMap<>();
        apt.put("id", String.valueOf(APPOINTMENT_ID.getAndIncrement()));
        apt.put("date", date);
        apt.put("time", time);
        apt.put("status", status);
        apt.put("notes", notes);
        apt.put("studentName", studentName);
        return apt;
    }

    @GetMapping("/dashboard")
    public String showDashboard(Model model) {
        model.addAttribute("role", "counselor");
        
        // Calculate today's appointments
        String today = LocalDate.now().toString();
        long todayCount = APPOINTMENTS.stream()
            .filter(apt -> today.equals(apt.get("date")))
            .count();
        
        // Calculate pending requests
        long pendingCount = APPOINTMENTS.stream()
            .filter(apt -> "pending".equals(apt.get("status")))
            .count();
        
        // Get today's appointments
        List<Map<String, Object>> todayAppointments = APPOINTMENTS.stream()
            .filter(apt -> today.equals(apt.get("date")))
            .collect(Collectors.toList());
        
        // Get pending appointments (limit to 3 for dashboard)
        List<Map<String, Object>> pendingAppointments = APPOINTMENTS.stream()
            .filter(apt -> "pending".equals(apt.get("status")))
            .limit(3)
            .collect(Collectors.toList());
        
        model.addAttribute("todayCount", todayCount);
        model.addAttribute("pendingCount", pendingCount);
        model.addAttribute("todayAppointments", todayAppointments);
        model.addAttribute("pendingAppointments", pendingAppointments);
        
        return "counselor/dashboard";
    }

    @GetMapping("/schedule")
    public String showSchedule(Model model) {
        model.addAttribute("role", "counselor");
        
        // Get all pending appointments
        List<Map<String, Object>> pendingAppointments = APPOINTMENTS.stream()
            .filter(apt -> "pending".equals(apt.get("status")))
            .collect(Collectors.toList());
        
        // Get today's appointments
        String today = LocalDate.now().toString();
        List<Map<String, Object>> todayAppointments = APPOINTMENTS.stream()
            .filter(apt -> today.equals(apt.get("date")))
            .collect(Collectors.toList());
        
        model.addAttribute("pendingAppointments", pendingAppointments);
        model.addAttribute("todayAppointments", todayAppointments);
        model.addAttribute("selectedDate", today);
        
        return "counselor/schedule";
    }

    @PostMapping("/appointment/approve")
    public String approveAppointment(@RequestParam String appointmentId) {
        APPOINTMENTS.stream()
            .filter(apt -> appointmentId.equals(apt.get("id")))
            .findFirst()
            .ifPresent(apt -> apt.put("status", "confirmed"));
        
        return "redirect:/counselor/schedule";
    }

    @PostMapping("/appointment/deny")
    public String denyAppointment(@RequestParam String appointmentId) {
        APPOINTMENTS.stream()
            .filter(apt -> appointmentId.equals(apt.get("id")))
            .findFirst()
            .ifPresent(apt -> apt.put("status", "cancelled"));
        
        return "redirect:/counselor/schedule";
    }

    @GetMapping("/content")
    public String manageContent(Model model) {
        model.addAttribute("role", "counselor");
        List<Content> list = new ArrayList<>(STORE.values());
        model.addAttribute("contents", list);
        return "counselor/content-manager";
    }

    @PostMapping("/content/create")
    public String createOrUpdateContent(@RequestParam String title,
            @RequestParam String contentType,
            @RequestParam String description,
            @RequestParam String content,
            @RequestParam(required = false) Long editingId) {
        if (editingId != null) {
            Content existing = STORE.get(editingId);
            if (existing != null) {
                existing.setTitle(title);
                existing.setType(contentType);
                existing.setDescription(description);
                existing.setContent(content);
            }
        } else {
            long id = ID_COUNTER.getAndIncrement();
            Content c = new Content(id, title, contentType, description, content);
            STORE.put(id, c);
        }
        return "redirect:/counselor/content";
    }

    @PostMapping("/content/delete")
    public String deleteContent(@RequestParam Long id) {
        STORE.remove(id);
        return "redirect:/counselor/content";
    }

    @GetMapping("/profile")
    public String profile(Model model) {
        model.addAttribute("role", "counselor");
        return "counselor/profile";
    }
}

================================================================================
File: src\main\java\com\mindmate\controller\ForumController.java
Size: 8.66 kB
================================================================================

package com.mindmate.controller;

import org.springframework.stereotype.Controller;
import org.springframework.ui.Model;
import org.springframework.web.bind.annotation.GetMapping;
import org.springframework.web.bind.annotation.PostMapping;
import org.springframework.web.bind.annotation.RequestMapping;
import org.springframework.web.bind.annotation.RequestParam;
import org.springframework.web.bind.annotation.ResponseBody;

import java.time.LocalDateTime;
import java.time.format.DateTimeFormatter;
import java.util.ArrayList;
import java.util.Arrays;
import java.util.HashMap; // Added import for HashMap
import java.util.List;
import java.util.Map;
import java.util.stream.Collectors;

@Controller
@RequestMapping("/student")
public class ForumController {

    private static final DateTimeFormatter FORMATTER = DateTimeFormatter.ofPattern("MMM dd, yyyy");

    // üî• CORRECTED: Mock Post Data Structure using HashMap for > 10 key-value pairs üî•
    private final List<Map<String, Object>> mockPosts = Arrays.asList(
        // Post 1
        new HashMap<String, Object>() {{ 
            put("id", 1); 
            put("title", "How to manage stress during exams?"); 
            put("content", "I feel overwhelmed with upcoming finals. Any non-meditation tips?"); 
            put("author", "AnonUser1"); 
            put("timestamp", LocalDateTime.now().minusHours(3).format(FORMATTER)); 
            put("category", "anxiety"); 
            put("categoryName", "Anxiety Support"); 
            put("replies", 8); 
            put("likes", 12); 
            put("views", 150); 
            put("supportLevel", "high"); 
            put("coachingRequested", false); 
            put("helpfulCount", 2);
            put("isFlagged", false);
        }},
        
        // Post 2
        new HashMap<String, Object>() {{ 
            put("id", 2); 
            put("title", "Coping with anxiety - sharing experiences"); 
            put("content", "I had a panic attack today and need to talk. Feeling completely alone right now."); 
            put("author", "AnonUser2"); 
            put("timestamp", LocalDateTime.now().minusDays(1).format(FORMATTER)); 
            put("category", "anxiety"); 
            put("categoryName", "Anxiety Support"); 
            put("replies", 15); 
            put("likes", 25); 
            put("views", 400); 
            put("supportLevel", "urgent"); 
            put("coachingRequested", true); 
            put("helpfulCount", 5);
            put("isFlagged", false);
        }},

        // Post 3
        new HashMap<String, Object>() {{ 
            put("id", 3); 
            put("title", "Tips for better sleep"); 
            put("content", "Struggling to fall asleep, what are your best techniques for relaxation?"); 
            put("author", "AnonUser3"); 
            put("timestamp", LocalDateTime.now().minusDays(3).format(FORMATTER)); 
            put("category", "general"); 
            put("categoryName", "General Support"); 
            put("replies", 4); 
            put("likes", 5); 
            put("views", 80); 
            put("supportLevel", "medium"); 
            put("coachingRequested", false); 
            put("helpfulCount", 1);
            put("isFlagged", false);
        }},
               
        // Post 4
        new HashMap<String, Object>() {{ 
            put("id", 4); 
            put("title", "Building self-confidence"); 
            put("content", "Just wanted to share a small win today! I spoke up in class. It gets better!"); 
            put("author", "AnonUser4"); 
            put("timestamp", LocalDateTime.now().minusDays(5).format(FORMATTER)); 
            put("category", "general"); 
            put("categoryName", "General Support"); 
            put("replies", 12); 
            put("likes", 30); 
            put("views", 220); 
            put("supportLevel", "positive"); 
            put("coachingRequested", false); 
            put("helpfulCount", 3);
            put("isFlagged", false);
        }}
    );
    // -------------------------------------------------------------------------

    // Inside ForumController.java (Add this helper method)

    // Helper method to find a post by ID
    private Map<String, Object> findPostById(int postId) {
        return mockPosts.stream()
                .filter(post -> (Integer) post.get("id") == postId)
                .findFirst()
                .orElse(null);
    }
    // --- Forum Module ---
    @GetMapping("/forum")
    public String forumList(
        @RequestParam(value = "sortBy", defaultValue = "recent") String sortBy,
        @RequestParam(value = "searchQuery", required = false) String searchQuery,
        Model model
    ) {
        // Start with the full list of mock posts (or fetch from the database)
        List<Map<String, Object>> posts = new ArrayList<>(mockPosts);

        // 1. Apply Search Filter (if searchQuery is present)
        if (searchQuery != null && !searchQuery.trim().isEmpty()) {
            String query = searchQuery.toLowerCase();
            posts.removeIf(post -> 
                !((String) post.get("title")).toLowerCase().contains(query) &&
                !((String) post.get("content")).toLowerCase().contains(query)
            );
        }
        
        // 2. Apply Sorting Logic (as you had it)
        posts.sort((postA, postB) -> {
            switch (sortBy) {
                case "popular":
                    return ((Integer) postB.get("likes")).compareTo((Integer) postA.get("likes"));
                case "helpful":
                    return ((Integer) postB.get("helpfulCount")).compareTo((Integer) postA.get("helpfulCount"));
                case "active":
                    return ((Integer) postB.get("replies")).compareTo((Integer) postA.get("replies"));
                case "recent":
                default:
                    // Use the timestamp string for comparison
                    return ((String) postB.get("timestamp")).compareTo((String) postA.get("timestamp"));
            }
        });

        // üî• 3. Calculate Category Counts and Define Category List (FIX for missing categories) üî•
        Map<String, Long> categoryCounts = posts.stream() // Use the filtered 'posts' list for accurate counts
                .collect(Collectors.groupingBy(post -> (String) post.get("category"), Collectors.counting()));

        List<Map<String, Object>> forumCategories = Arrays.asList(
            Map.of("id", "all", "name", "All Topics", "count", (long) posts.size(), "color", "bg-blue-100 text-blue-800"),
            Map.of("id", "anxiety", "name", "Anxiety Support", "count", categoryCounts.getOrDefault("anxiety", 0L), "color", "bg-purple-100 text-purple-800"),
            Map.of("id", "general", "name", "General Support", "count", categoryCounts.getOrDefault("general", 0L), "color", "bg-green-100 text-green-800")
        );
        model.addAttribute("forumCategories", forumCategories);

        // 4. Identify Urgent Posts for Sidebar
        List<Map<String, Object>> urgentPosts = posts.stream()
                .filter(post -> "urgent".equals(post.get("supportLevel")))
                .collect(Collectors.toList());
        model.addAttribute("urgentPosts", urgentPosts);
        
        // 5. Pass lists and parameters to the view
        model.addAttribute("posts", posts);
        model.addAttribute("currentSort", sortBy);
        model.addAttribute("currentSearch", searchQuery);
        model.addAttribute("role", "student"); // Important for chatbot

        return "student/forum-list";
    }

    // Inside ForumController.java (Add this new method)

@PostMapping("/forum/flag")
@ResponseBody 
public Map<String, Object> flagPost(@RequestParam("postId") int postId) {
    Map<String, Object> post = findPostById(postId);

    if (post == null) {
        return Map.of("error", 404);
    }
    
    // Set the post as flagged in the mock data structure
    post.put("isFlagged", true);
    
    // In a real application, you would log this, email an admin, or queue a task.
    System.out.println("--- POST " + postId + " FLAGGED for review. ---");
    
    // Return the new flagged status to update the button color on the client
    return Map.of("success", true, "isFlagged", post.get("isFlagged"));
}

    @GetMapping("/forum/thread")
    public String forumThread(Model model) {
        model.addAttribute("role", "student");
        return "student/forum-thread";
    }
}

================================================================================
File: src\main\java\com\mindmate\controller\StudentController.java
Size: 6.43 kB
================================================================================

package com.mindmate.controller;

import org.springframework.stereotype.Controller;
import org.springframework.ui.Model;
import org.springframework.web.bind.annotation.GetMapping;
import org.springframework.web.bind.annotation.PostMapping;
import org.springframework.web.bind.annotation.RequestMapping;
import org.springframework.web.bind.annotation.RequestParam;

import jakarta.servlet.http.HttpSession;
import java.time.LocalDate;
import java.time.format.DateTimeFormatter;
import java.util.*;
import java.util.UUID;

@Controller
@RequestMapping("/student")
public class StudentController {

    @GetMapping("/dashboard")
    public String dashboard(Model model, HttpSession session) {
        model.addAttribute("role", "student");
        
        // Get booked appointments from session
        @SuppressWarnings("unchecked")
        List<Map<String, String>> bookedAppointments = 
            (List<Map<String, String>>) session.getAttribute("bookedAppointments");
        
        if (bookedAppointments == null) {
            bookedAppointments = new ArrayList<>();
        }

        for (Map<String, String> app : bookedAppointments) {
            if (app.get("id") == null) {
                app.put("id", UUID.randomUUID().toString());
            }
        }

        session.setAttribute("bookedAppointments", bookedAppointments);
        
        model.addAttribute("bookedAppointments", bookedAppointments);
        
        return "student/dashboard";
    }

    // --- Content/Library Module ---
    @GetMapping("/library")
    public String contentLibrary(Model model) {
        model.addAttribute("role", "student");
        return "student/content-library";
    }

    @GetMapping("/library/view")
    public String viewContent(Model model) {
        model.addAttribute("role", "student");
        return "student/content-view"; 
    }

    // --- Telehealth Module ---
    @GetMapping("/telehealth")
    public String telehealthBook(Model model) {
        model.addAttribute("role", "student");
        
        // Mock counselors data
        List<Map<String, Object>> counselors = Arrays.asList(
            createCounselor("1", "Dr. Sarah Johnson", "Mental Health Counseling", "4.5", "5 years", "High"),
            createCounselor("2", "Dr. Michael Chen", "Mental Health Counseling", "4.6", "6 years", "Medium"),
            createCounselor("3", "Dr. Emily Rodriguez", "Mental Health Counseling", "4.7", "7 years", "Low")
        );
        
        model.addAttribute("counselors", counselors);
        
        return "student/telehealth-book";
    }
    
    private Map<String, Object> createCounselor(String id, String name, String specialization, 
                                                  String rating, String experience, String availability) {
        Map<String, Object> counselor = new HashMap<>();
        counselor.put("id", id);
        counselor.put("name", name);
        counselor.put("specialization", specialization);
        counselor.put("rating", rating);
        counselor.put("experience", experience);
        counselor.put("availability", availability);
        // Generate avatar initials
        String[] nameParts = name.split(" ");
        String avatar = nameParts[0].substring(0, 1) + nameParts[nameParts.length - 1].substring(0, 1);
        counselor.put("avatar", avatar);
        return counselor;
    }

    @PostMapping("/telehealth/book")
    public String processBooking(
            @RequestParam("counselorId") String counselorId,
            @RequestParam("counselorName") String counselorName,
            @RequestParam("date") String date,
            @RequestParam("time") String time,
            @RequestParam("sessionType") String sessionType,
            HttpSession session) {
        
        // Get existing appointments or create new list
        @SuppressWarnings("unchecked")
        List<Map<String, String>> bookedAppointments = 
            (List<Map<String, String>>) session.getAttribute("bookedAppointments");
        
        if (bookedAppointments == null) {
            bookedAppointments = new ArrayList<>();
        }
        
        // Create new appointment
        Map<String, String> appointment = new HashMap<>();
        appointment.put("id", UUID.randomUUID().toString());
        appointment.put("counselorId", counselorId);
        appointment.put("counselorName", counselorName);
        appointment.put("date", date);
        appointment.put("time", time);
        appointment.put("sessionType", sessionType);
        appointment.put("status", "confirmed");
        
        bookedAppointments.add(appointment);
        session.setAttribute("bookedAppointments", bookedAppointments);
        
        return "redirect:/student/dashboard";
    }

    @PostMapping("/telehealth/cancel")
    public String cancelAppointment(@RequestParam("appointmentId") String appointmentId, HttpSession session) {
        @SuppressWarnings("unchecked")
        List<Map<String, String>> bookedAppointments = 
            (List<Map<String, String>>) session.getAttribute("bookedAppointments");
            
        if (bookedAppointments != null) {
            // Remove the appointment with the matching ID
            bookedAppointments.removeIf(app -> 
                app.get("id") != null && app.get("id").equals(appointmentId)
            );
            session.setAttribute("bookedAppointments", bookedAppointments);
        }
        
        return "redirect:/student/dashboard";
    }

    @GetMapping("/telehealth/my-appointments")
    public String telehealthMyAppointments(Model model, HttpSession session) {
        model.addAttribute("role", "student");
        
        @SuppressWarnings("unchecked")
        List<Map<String, String>> bookedAppointments = 
            (List<Map<String, String>>) session.getAttribute("bookedAppointments");
        
        if (bookedAppointments == null) {
            bookedAppointments = new ArrayList<>();
        }
        
        model.addAttribute("bookedAppointments", bookedAppointments);
        
        return "student/telehealth-my-appointments";
    }

    @GetMapping("/profile")
    public String profile(Model model) {
        model.addAttribute("role", "student");
        return "student/profile";
    }
}

================================================================================
File: src\main\java\com\mindmate\MindMateApplication.java
Size: 454 B
================================================================================

package com.mindmate;

import org.springframework.boot.SpringApplication;
import org.springframework.boot.autoconfigure.SpringBootApplication;
import org.springframework.boot.web.servlet.support.SpringBootServletInitializer;

@SpringBootApplication
public class MindMateApplication extends SpringBootServletInitializer {

    public static void main(String[] args) {
        SpringApplication.run(MindMateApplication.class, args);
    }
}



================================================================================
File: src\main\java\com\mindmate\model\Content.java
Size: 1.22 kB
================================================================================

package com.mindmate.model;

public class Content {
    private Long id;
    private String title;
    private String type;
    private String description;
    private String content;

    public Content() {
    }

    public Content(Long id, String title, String type, String description, String content) {
        this.id = id;
        this.title = title;
        this.type = type;
        this.description = description;
        this.content = content;
    }

    public Long getId() {
        return id;
    }

    public void setId(Long id) {
        this.id = id;
    }

    public String getTitle() {
        return title;
    }

    public void setTitle(String title) {
        this.title = title;
    }

    public String getType() {
        return type;
    }

    public void setType(String type) {
        this.type = type;
    }

    public String getDescription() {
        return description;
    }

    public void setDescription(String description) {
        this.description = description;
    }

    public String getContent() {
        return content;
    }

    public void setContent(String content) {
        this.content = content;
    }
}


================================================================================
File: src\main\java\com\mindmate\model\ForumPost.java
Size: 2.68 kB
================================================================================

package com.mindmate.model;

import java.time.LocalDateTime;

public class ForumPost {
    private int id;
    private String title;
    private String content;
    private String category;
    private String author;
    private LocalDateTime timestamp;
    private int replies;
    private int likes;
    private int views;
    private int helpfulCount; // The new counter
    private boolean isFlagged = false; // Added field

    public ForumPost(int id, String title, String content, String category, String author, LocalDateTime timestamp,
            int replies, int likes, int views, int helpfulCount, boolean isFlagged) {
        this.id = id;
        this.title = title;
        this.content = content;
        this.category = category;
        this.author = author;
        this.timestamp = timestamp;
        this.replies = replies;
        this.likes = likes;
        this.views = views;
        this.helpfulCount = helpfulCount;
        this.isFlagged = isFlagged;
    }
    public int getId() {
        return id;
    }
    public void setId(int id) {
        this.id = id;
    }
    public String getTitle() {
        return title;
    }
    public void setTitle(String title) {
        this.title = title;
    }
    
    public String getContent() {
        return content;
    }
    public void setContent(String content) {
        this.content = content;
    }
    public String getCategory() {
        return category;
    }
    public void setCategory(String category) {
        this.category = category;
    }
    public String getAuthor() {
        return author;
    }
    public void setAuthor(String author) {
        this.author = author;
    }
    public LocalDateTime getTimestamp() {
        return timestamp;
    }
    public void setTimestamp(LocalDateTime timestamp) {
        this.timestamp = timestamp;
    }
    public int getReplies() {
        return replies;
    }
    public void setReplies(int replies) {
        this.replies = replies;
    }
    public int getLikes() {
        return likes;
    }
    public void setLikes(int likes) {
        this.likes = likes;
    }
    public int getViews() {
        return views;
    }
    public void setViews(int views) {
        this.views = views;
    }
    public int getHelpfulCount() {
        return helpfulCount;
    }
    public void setHelpfulCount(int helpfulCount) {
        this.helpfulCount = helpfulCount;
    }
    public boolean isFlagged() {
        return isFlagged;
    }
    public void setFlagged(boolean isFlagged) {
        this.isFlagged = isFlagged;
    }
    
    
    
}

================================================================================
File: src\main\java\com\mindmate\model\Message.java
Size: 550 B
================================================================================

package com.mindmate.model;

public class Message {
    private String role;
    private String content;

    // 1. Constructor (To fix the 'new Message(...)')
    public Message(String role, String content) {
        this.role = role;
        this.content = content;
    }

    // 2. Getters (Required for the JSP to read the data)
    public String getRole() {
        return role;
    }

    public String getContent() {
        return content;
    }

    // You can skip setters for an immutable object like a chat message
}

================================================================================
File: src\main\java\com\mindmate\model\Question.java
Size: 1.39 kB
================================================================================

package com.mindmate.model;

import java.util.List;
import java.util.Map;

/**
 * Model class to represent a single assessment question.
 * It holds the question text and the available response options.
 */
public class Question {
    
    private final int id;
    private final String text;
    // Options are structured as a List of Maps: 
    // e.g., [{ "value": 0, "label": "Not at all" }, ...]
    private final List<Map<String, Object>> options;

    /**
     * Constructor for the Question model.
     * * @param id The unique identifier for the question.
     * @param text The text of the question.
     * @param options The list of available answer options.
     */
    public Question(int id, String text, List<Map<String, Object>> options) {
        this.id = id;
        this.text = text;
        this.options = options;
    }

    // --- Getters ---
    
    public int getId() {
        return id;
    }

    public String getText() {
        return text;
    }

    public List<Map<String, Object>> getOptions() {
        return options;
    }

    // --- Optional: For better debugging/logging ---
    @Override
    public String toString() {
        return "Question{" +
                "id=" + id +
                ", text='" + text + '\'' +
                ", options=" + options +
                '}';
    }
}


================================================================================
File: src\main\resources\application.properties
Size: 211 B
================================================================================

# Spring MVC View Resolver Configuration
spring.mvc.view.prefix=/WEB-INF/jsp/
spring.mvc.view.suffix=.jsp

# Server Configuration
server.port=8080

# Application Name
spring.application.name=MindMate



================================================================================
File: src\main\webapp\css\global.css
Size: 1.65 kB
================================================================================

@charset "UTF-8";

/* * MindMate Design System 
 * Based on strict HSL requirements
 */
:root {
    /* Background: Pale Warm Pink */
    --background: 340 100% 98%; 
    
    /* Foreground: Dark Mauve (Text) */
    --foreground: 320 8% 44%;

    /* Card: Pure White */
    --card: 0 0% 100%;
    --card-foreground: 320 8% 44%;

    /* * UPDATED: Primary Brand Color 
     * "Dusty Rose" - Darker and Desaturated for better blend & visibility.
     * Old (Vibrant): 325 80% 65%
     * New (Soft):    330 55% 60%
     */
    --primary: 330 55% 60%;
    
    /* * UPDATED: Primary Text Color
     * White ensures the buttons look clean against the Dusty Rose background.
     */
    --primary-foreground: 0 0% 100%;

    /* Secondary: Muted Pink (used for hover states/icon backgrounds) */
    --secondary: 325 96% 96%;
    --secondary-foreground: 320 8% 44%;

    /* Destructive: Soft Red (Error/Delete) */
    --destructive: 0 84.2% 60.2%;
    --destructive-foreground: 0 0% 100%;

    /* Muted: Very Light Grey/Pink (Subtitles) */
    --muted: 0 0% 99%;
    --muted-foreground: 320 8% 60%;

    /* Borders and Inputs */
    --border: 325 96% 90%;
    --input: 325 96% 90%;
    
    /* * UPDATED: Ring matches the new Dusty Rose */
    --ring: 330 55% 60%;
    
    /* Radius for rounded corners (12px) */
    --radius: 0.75rem;
}

body {
    /* Enforce system font stack */
    font-family: ui-sans-serif, system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
}

.logo-mindmate {
    filter: hue-rotate(320deg) saturate(0.7) brightness(1.1);
}

================================================================================
File: src\main\webapp\images\favicon.svg
Size: 501 B
================================================================================

<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="#D16199" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
  <path d="M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z"/>
  <path d="M12 5 9.04 7.96a2.17 2.17 0 0 0 0 3.08v0c.82.82 2.13.85 3 .07l2.07-1.9a2.82 2.82 0 0 1 3.18 0l2.07 1.9c.87.78 2.18.75 3-.07v0a2.17 2.17 0 0 0 0-3.08Z"/>
</svg>

================================================================================
File: src\main\webapp\WEB-INF\jsp\admin\dashboard.jsp
Size: 9.92 kB
================================================================================

<%@ page language="java" contentType="text/html; charset=UTF-8" pageEncoding="UTF-8"%>
<jsp:include page="../common/header.jsp" />

<div class="space-y-8">
    
    <div>
        <h1 class="text-3xl font-bold text-foreground mb-2">Admin Dashboard</h1>
        <p class="text-muted-foreground mt-1">System management and oversight</p>
    </div>

    <!-- KPI Cards -->
    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4">
        
        <div class="bg-card p-4 rounded-lg shadow-sm border border-border">
            <div class="flex items-center justify-between mb-2">
                <h3 class="text-sm font-medium text-foreground">Total Users</h3>
                <svg class="h-4 w-4 text-muted-foreground" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"/>
                </svg>
            </div>
            <div class="text-2xl font-bold text-foreground">1,234</div>
            <p class="text-xs text-green-600 mt-1">+12% from last month</p>
        </div>

        <div class="bg-card p-4 rounded-lg shadow-sm border border-border">
            <div class="flex items-center justify-between mb-2">
                <h3 class="text-sm font-medium text-foreground">Active Users</h3>
                <svg class="h-4 w-4 text-muted-foreground" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z"/>
                </svg>
            </div>
            <div class="text-2xl font-bold text-foreground">856</div>
            <p class="text-xs text-green-600 mt-1">+5% from last month</p>
        </div>

        <div class="bg-card p-4 rounded-lg shadow-sm border border-border">
            <div class="flex items-center justify-between mb-2">
                <h3 class="text-sm font-medium text-foreground">Assessments Taken</h3>
                <svg class="h-4 w-4 text-muted-foreground" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"/>
                </svg>
            </div>
            <div class="text-2xl font-bold text-foreground">3,421</div>
            <p class="text-xs text-green-600 mt-1">+18% from last month</p>
        </div>

        <div class="bg-card p-4 rounded-lg shadow-sm border border-border">
            <div class="flex items-center justify-between mb-2">
                <h3 class="text-sm font-medium text-foreground">Forum Posts</h3>
                <svg class="h-4 w-4 text-muted-foreground" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"/>
                </svg>
            </div>
            <div class="text-2xl font-bold text-foreground">1,089</div>
            <p class="text-xs text-green-600 mt-1">+23% from last month</p>
        </div>
    </div>

    <!-- Charts Section -->
    <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
        
        <!-- User Engagement Chart -->
        <div class="bg-card p-6 rounded-lg shadow-sm border border-border">
            <div class="mb-4">
                <h3 class="text-xl font-semibold text-foreground">User Engagement Over Time</h3>
                <p class="text-sm text-muted-foreground">Monthly active users</p>
            </div>
            <div class="h-64 flex items-end justify-between space-x-2">
                <div class="flex-1 flex flex-col items-center">
                    <div class="w-full bg-primary rounded-t" style="height: 40%;"></div>
                    <span class="text-xs text-muted-foreground mt-2">Jan</span>
                </div>
                <div class="flex-1 flex flex-col items-center">
                    <div class="w-full bg-primary rounded-t" style="height: 60%;"></div>
                    <span class="text-xs text-muted-foreground mt-2">Feb</span>
                </div>
                <div class="flex-1 flex flex-col items-center">
                    <div class="w-full bg-primary rounded-t" style="height: 80%;"></div>
                    <span class="text-xs text-muted-foreground mt-2">Mar</span>
                </div>
                <div class="flex-1 flex flex-col items-center">
                    <div class="w-full bg-primary rounded-t" style="height: 75%;"></div>
                    <span class="text-xs text-muted-foreground mt-2">Apr</span>
                </div>
                <div class="flex-1 flex flex-col items-center">
                    <div class="w-full bg-primary rounded-t" style="height: 90%;"></div>
                    <span class="text-xs text-muted-foreground mt-2">May</span>
                </div>
                <div class="flex-1 flex flex-col items-center">
                    <div class="w-full bg-primary rounded-t" style="height: 100%;"></div>
                    <span class="text-xs text-muted-foreground mt-2">Jun</span>
                </div>
            </div>
        </div>

        <!-- Module Popularity Chart -->
        <div class="bg-card p-6 rounded-lg shadow-sm border border-border">
            <div class="mb-4">
                <h3 class="text-xl font-semibold text-foreground">Module Popularity</h3>
                <p class="text-sm text-muted-foreground">Most accessed content</p>
            </div>
            <div class="space-y-4">
                <div>
                    <div class="flex items-center justify-between mb-1">
                        <span class="text-sm text-foreground">Stress Management</span>
                        <span class="text-sm font-medium text-foreground">450</span>
                    </div>
                    <div class="w-full bg-secondary rounded-full h-2">
                        <div class="bg-primary h-2 rounded-full" style="width: 100%;"></div>
                    </div>
                </div>
                <div>
                    <div class="flex items-center justify-between mb-1">
                        <span class="text-sm text-foreground">Anxiety Relief</span>
                        <span class="text-sm font-medium text-foreground">380</span>
                    </div>
                    <div class="w-full bg-secondary rounded-full h-2">
                        <div class="bg-primary h-2 rounded-full" style="width: 84%;"></div>
                    </div>
                </div>
                <div>
                    <div class="flex items-center justify-between mb-1">
                        <span class="text-sm text-foreground">Sleep Hygiene</span>
                        <span class="text-sm font-medium text-foreground">320</span>
                    </div>
                    <div class="w-full bg-secondary rounded-full h-2">
                        <div class="bg-primary h-2 rounded-full" style="width: 71%;"></div>
                    </div>
                </div>
                <div>
                    <div class="flex items-center justify-between mb-1">
                        <span class="text-sm text-foreground">Social Skills</span>
                        <span class="text-sm font-medium text-foreground">280</span>
                    </div>
                    <div class="w-full bg-secondary rounded-full h-2">
                        <div class="bg-primary h-2 rounded-full" style="width: 62%;"></div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Original Action Cards -->
    <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
        
        <div class="bg-card p-6 rounded-lg shadow-sm border border-border hover:shadow-md transition-shadow">
            <h3 class="text-xl font-semibold mb-3 text-foreground">User Management</h3>
            <p class="text-muted-foreground mb-6">Manage students, counselors, and admin accounts.</p>
            <button class="w-full bg-primary text-primary-foreground px-4 py-2 rounded-md hover:opacity-90 transition-opacity font-medium focus:outline-none focus:ring-2 focus:ring-ring">
                Manage Users
            </button>
        </div>

        <div class="bg-card p-6 rounded-lg shadow-sm border border-border hover:shadow-md transition-shadow">
            <h3 class="text-xl font-semibold mb-3 text-foreground">System Analytics</h3>
            <p class="text-muted-foreground mb-6">View platform usage statistics and reports.</p>
            <button class="w-full bg-primary text-primary-foreground px-4 py-2 rounded-md hover:opacity-90 transition-opacity font-medium focus:outline-none focus:ring-2 focus:ring-ring">
                View Analytics
            </button>
        </div>

        <div class="bg-card p-6 rounded-lg shadow-sm border border-border hover:shadow-md transition-shadow">
            <h3 class="text-xl font-semibold mb-3 text-foreground">System Settings</h3>
            <p class="text-muted-foreground mb-6">Configure platform settings and preferences.</p>
            <button class="w-full bg-primary text-primary-foreground px-4 py-2 rounded-md hover:opacity-90 transition-opacity font-medium focus:ring-2 focus:ring-ring">
                Settings
            </button>
        </div>
    </div>
</div>

<jsp:include page="../common/footer.jsp" />

================================================================================
File: src\main\webapp\WEB-INF\jsp\admin\forum-moderation.jsp
Size: 10.15 kB
================================================================================

<%@ page language="java" contentType="text/html; charset=UTF-8" pageEncoding="UTF-8"%>
<%@ taglib prefix="c" uri="jakarta.tags.core" %>
<%@ taglib prefix="fmt" uri="jakarta.tags.fmt" %> <%-- For date formatting --%>

<jsp:include page="../common/header.jsp" />

<%-- 
    This JSP simulates the React component by assuming necessary data is 
    passed via the Spring Model: ${posts}, ${flaggedPosts}, ${totalApprovedPosts}.
    The actions (Approve/Delete) must be implemented as separate POST endpoints 
    in the Java Controller (e.g., ForumController).
--%>

<div class="min-h-screen bg-background">
    <%-- <Navigation /> is typically included in the header/layout in JSP --%>
    
    <div class="container mx-auto px-4 py-8">
        <div class="mb-8">
            <h1 class="text-3xl font-bold text-foreground mb-2">Forum Moderation</h1>
            <p class="text-muted-foreground">Review and moderate flagged forum posts</p>
        </div>

        <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-8">
            
            <%-- Total Posts Card --%>
            <div class="bg-card border rounded-lg shadow-sm">
                <div class="p-6">
                    <div class="flex items-center justify-between">
                        <div>
                            <p class="text-sm text-muted-foreground">Total Posts</p>
                            <p class="text-3xl font-bold text-foreground">${posts.size()}</p>
                        </div>
                        <i data-lucide="message-square" class="w-8 h-8 text-primary"></i>
                    </div>
                </div>
            </div>

            <%-- Flagged Posts Card --%>
            <div class="bg-card border rounded-lg shadow-sm">
                <div class="p-6">
                    <div class="flex items-center justify-between">
                        <div>
                            <p class="text-sm text-muted-foreground">Flagged Posts</p>
                            <p class="text-3xl font-bold text-destructive">${flaggedPosts.size()}</p>
                        </div>
                        <i data-lucide="alert-triangle" class="w-8 h-8 text-destructive"></i>
                    </div>
                </div>
            </div>

            <%-- Approved Posts Card --%>
            <div class="bg-card border rounded-lg shadow-sm">
                <div class="p-6">
                    <div class="flex items-center justify-between">
                        <div>
                            <p class="text-sm text-muted-foreground">Approved Posts</p>
                            <%-- Assuming totalApprovedPosts is calculated in controller --%>
                            <p class="text-3xl font-bold text-success">${totalApprovedPosts}</p>
                        </div>
                        <i data-lucide="check-circle" class="w-8 h-8 text-success"></i>
                    </div>
                </div>
            </div>
        </div>
        
        <hr class="mb-8"/>

        <div class="bg-card border rounded-lg shadow-sm">
            <div class="p-6 border-b border-border">
                <h2 class="text-xl font-semibold text-foreground flex items-center">
                    <i data-lucide="alert-triangle" class="w-5 h-5 mr-2 text-destructive"></i>
                    Flagged Posts Queue
                </h2>
            </div>

            <div class="p-6">
                <c:choose>
                    <c:when test="${empty flaggedPosts}">
                        <div class="text-center py-12 text-muted-foreground">
                            <i data-lucide="check-circle" class="w-12 h-12 mx-auto mb-4 text-success"></i>
                            <p class="text-lg font-medium">No Flagged Posts</p>
                            <p class="text-sm">All forum posts are currently approved</p>
                        </div>
                    </c:when>
                    <c:otherwise>
                        <table class="min-w-full divide-y divide-border">
                            <thead class="bg-secondary/50">
                                <tr>
                                    <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-muted-foreground uppercase tracking-wider w-2/5">Post Title</th>
                                    <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-muted-foreground uppercase tracking-wider w-1/5">Reason</th>
                                    <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-muted-foreground uppercase tracking-wider">Author</th>
                                    <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-muted-foreground uppercase tracking-wider">Date</th>
                                    <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-muted-foreground uppercase tracking-wider">Actions</th>
                                </tr>
                            </thead>
                            <tbody class="divide-y divide-border">
                                <c:forEach var="post" items="${flaggedPosts}">
                                    <tr>
                                        <td class="px-6 py-4 whitespace-nowrap align-top">
                                            <div>
                                                <p class="font-medium text-foreground">${post.title}</p>
                                                <p class="text-sm text-muted-foreground line-clamp-2">${post.content}</p>
                                            </div>
                                        </td>
                                        <td class="px-6 py-4 whitespace-nowrap align-top">
                                            <span class="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-destructive">
                                                ${post.flag_reason ne null ? post.flag_reason : "Flagged"}
                                            </span>
                                        </td>
                                        <td class="px-6 py-4 whitespace-nowrap align-top text-muted-foreground text-sm">
                                            <c:out value="${post.is_anonymous ? 'Anonymous' : post.author}"/>
                                        </td>
                                        <td class="px-6 py-4 whitespace-nowrap align-top text-muted-foreground text-sm">
                                            <%-- Assuming 'created_at' is a string or compatible date format --%>
                                            ${post.created_at}
                                        </td>
                                        <td class="px-6 py-4 whitespace-nowrap align-top">
                                            <div class="flex space-x-2">
                                                <%-- Approve Button (Sends POST request to approve/unflag) --%>
                                                <form method="POST" action="/admin/forum/approve">
                                                    <input type="hidden" name="postId" value="${post.id}"/>
                                                    <button type="submit" 
                                                            class="inline-flex items-center px-3 py-1.5 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-primary hover:bg-primary/90 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary"
                                                            onclick="return confirm('Are you sure you want to approve and unflag this post?');"
                                                            >
                                                        <i data-lucide="check-circle" class="w-4 h-4 mr-1"></i>
                                                        Approve
                                                    </button>
                                                </form>
                                                
                                                <%-- Delete Button (Sends POST request to delete) --%>
                                                <form method="POST" action="/admin/forum/delete">
                                                    <input type="hidden" name="postId" value="${post.id}"/>
                                                    <button type="submit" 
                                                            class="inline-flex items-center px-3 py-1.5 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-destructive hover:bg-destructive/90 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-destructive"
                                                            onclick="return confirm('Are you sure you want to permanently delete this post?');"
                                                            >
                                                        <i data-lucide="trash2" class="w-4 h-4 mr-1"></i>
                                                        Delete
                                                    </button>
                                                </form>
                                            </div>
                                        </td>
                                    </tr>
                                </c:forEach>
                            </tbody>
                        </table>
                    </c:otherwise>
                </c:choose>
            </div>
        </div>
    </div>
</div>

<%-- Include necessary JavaScript for icons (assuming you use Lucide) --%>
<script>
    if (typeof lucide !== 'undefined' && lucide.createIcons) {
        lucide.createIcons();
    }
    // Note: Toasts (notifications) would require a separate JS implementation.
</script>

<jsp:include page="../common/footer.jsp" />

================================================================================
File: src\main\webapp\WEB-INF\jsp\admin\profile.jsp
Size: 23 B
================================================================================

<h1>Coming Soon...</h1>

================================================================================
File: src\main\webapp\WEB-INF\jsp\auth\login.jsp
Size: 5.7 kB
================================================================================

<%@ page language="java" contentType="text/html; charset=UTF-8" pageEncoding="UTF-8"%>
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Login - MindMate</title>
    
    <link rel="icon" type="image/svg+xml" href="${pageContext.request.contextPath}/images/favicon.svg">
    
    <link rel="stylesheet" href="${pageContext.request.contextPath}/css/global.css">
    
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/lucide@latest"></script>

    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        border: "hsl(var(--border))",
                        input: "hsl(var(--input))",
                        ring: "hsl(var(--ring))",
                        background: "hsl(var(--background))",
                        foreground: "hsl(var(--foreground))",
                        primary: {
                            DEFAULT: "hsl(var(--primary))",
                            foreground: "hsl(var(--primary-foreground))",
                        },
                        secondary: {
                            DEFAULT: "hsl(var(--secondary))",
                            foreground: "hsl(var(--secondary-foreground))",
                        },
                        destructive: {
                            DEFAULT: "hsl(var(--destructive))",
                            foreground: "hsl(var(--destructive-foreground))",
                        },
                        muted: {
                            DEFAULT: "hsl(var(--muted))",
                            foreground: "hsl(var(--muted-foreground))",
                        },
                        card: {
                            DEFAULT: "hsl(var(--card))",
                            foreground: "hsl(var(--card-foreground))",
                        },
                    },
                    borderRadius: {
                        lg: "var(--radius)",
                        md: "calc(var(--radius) - 2px)",
                        sm: "calc(var(--radius) - 4px)",
                    },
                },
            },
        }
    </script>
</head>
<body class="bg-background min-h-screen flex items-center justify-center font-sans antialiased">
    
    <div class="bg-card p-8 rounded-lg shadow-lg border border-border w-full max-w-md">
        
        <div class="flex flex-col items-center mb-6">
            <img src="${pageContext.request.contextPath}/images/MindMate.png" 
     alt="MindMate Logo" 
     class="h-16 w-16 mb-2 object-contain logo-mindmate">
            
            <h1 class="text-3xl font-bold text-foreground">MindMate</h1>
            <h2 class="text-xl font-medium text-muted-foreground mt-1">Welcome back</h2>
        </div>
        
        <form method="POST" action="/login" class="space-y-4">
            <div>
                <label for="email" class="block text-sm font-medium text-foreground mb-1">Email</label>
                <input type="email" id="email" name="email" 
                       class="w-full px-3 py-2 border border-input rounded-md focus:outline-none focus:ring-2 focus:ring-ring bg-white text-foreground placeholder:text-muted-foreground" 
                       required>
            </div>
            
            <div>
                <label for="password" class="block text-sm font-medium text-foreground mb-1">Password</label>
                <input type="password" id="password" name="password" 
                       class="w-full px-3 py-2 border border-input rounded-md focus:outline-none focus:ring-2 focus:ring-ring bg-white text-foreground placeholder:text-muted-foreground" 
                       required>
            </div>
            
            <button type="submit" 
                    class="w-full bg-primary text-primary-foreground font-medium py-2 px-4 rounded-md hover:opacity-90 transition-opacity focus:outline-none focus:ring-2 focus:ring-ring">
                Login
            </button>
        </form>
        
        <div class="mt-6 text-center">
            <p class="text-sm text-muted-foreground mb-4">Don't have an account? 
                <a href="/register" class="text-primary hover:underline font-medium">Register here</a>
            </p>
        </div>
        
        <div class="mt-8 pt-6 border-t border-border">
            <p class="text-xs uppercase tracking-wide text-muted-foreground text-center mb-4">Demo Access (Bypass Login)</p>
            <div class="space-y-2">
                <a href="/student/dashboard" 
                   class="block w-full border border-green-200 bg-green-50 text-green-700 py-2 px-4 rounded-md hover:bg-green-100 text-center text-sm font-medium transition-colors">
                    Login as Student
                </a>
                <a href="/counselor/dashboard" 
                   class="block w-full border border-purple-200 bg-purple-50 text-purple-700 py-2 px-4 rounded-md hover:bg-purple-100 text-center text-sm font-medium transition-colors">
                    Login as Counselor
                </a>
                <a href="/admin/dashboard" 
                   class="block w-full border border-red-200 bg-red-50 text-red-700 py-2 px-4 rounded-md hover:bg-red-100 text-center text-sm font-medium transition-colors">
                    Login as Admin
                </a>
            </div>
        </div>
    </div>

    <script>
        lucide.createIcons();
    </script>
</body>
</html>

================================================================================
File: src\main\webapp\WEB-INF\jsp\auth\register.jsp
Size: 5.48 kB
================================================================================

<%@ page language="java" contentType="text/html; charset=UTF-8" pageEncoding="UTF-8"%>
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Register - MindMate</title>
    
    <link rel="icon" type="image/svg+xml" href="${pageContext.request.contextPath}/images/favicon.svg">
    
    <link rel="stylesheet" href="${pageContext.request.contextPath}/css/global.css">
    
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/lucide@latest"></script>

    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        border: "hsl(var(--border))",
                        input: "hsl(var(--input))",
                        ring: "hsl(var(--ring))",
                        background: "hsl(var(--background))",
                        foreground: "hsl(var(--foreground))",
                        primary: {
                            DEFAULT: "hsl(var(--primary))",
                            foreground: "hsl(var(--primary-foreground))",
                        },
                        secondary: {
                            DEFAULT: "hsl(var(--secondary))",
                            foreground: "hsl(var(--secondary-foreground))",
                        },
                        destructive: {
                            DEFAULT: "hsl(var(--destructive))",
                            foreground: "hsl(var(--destructive-foreground))",
                        },
                        muted: {
                            DEFAULT: "hsl(var(--muted))",
                            foreground: "hsl(var(--muted-foreground))",
                        },
                        card: {
                            DEFAULT: "hsl(var(--card))",
                            foreground: "hsl(var(--card-foreground))",
                        },
                    },
                    borderRadius: {
                        lg: "var(--radius)",
                        md: "calc(var(--radius) - 2px)",
                        sm: "calc(var(--radius) - 4px)",
                    },
                },
            },
        }
    </script>
</head>
<body class="bg-background min-h-screen flex items-center justify-center font-sans antialiased">
    
    <div class="bg-card p-8 rounded-lg shadow-lg border border-border w-full max-w-md">
        
        <div class="flex flex-col items-center mb-6">
<img src="${pageContext.request.contextPath}/images/MindMate.png" 
     alt="MindMate Logo" 
     class="h-16 w-16 mb-2 object-contain logo-mindmate">
            
            <h1 class="text-3xl font-bold text-foreground">Register</h1>
            <p class="text-muted-foreground mt-2">Create your MindMate account</p>
        </div>
        
        <form method="POST" action="/register" class="space-y-4">
            <div>
                <label for="name" class="block text-sm font-medium text-foreground mb-1">Full Name</label>
                <input type="text" id="name" name="name" 
                       class="w-full px-3 py-2 border border-input rounded-md focus:outline-none focus:ring-2 focus:ring-ring bg-white text-foreground placeholder:text-muted-foreground" 
                       required>
            </div>
            
            <div>
                <label for="email" class="block text-sm font-medium text-foreground mb-1">Email</label>
                <input type="email" id="email" name="email" 
                       class="w-full px-3 py-2 border border-input rounded-md focus:outline-none focus:ring-2 focus:ring-ring bg-white text-foreground placeholder:text-muted-foreground" 
                       required>
            </div>
            
            <div>
                <label for="password" class="block text-sm font-medium text-foreground mb-1">Password</label>
                <input type="password" id="password" name="password" 
                       class="w-full px-3 py-2 border border-input rounded-md focus:outline-none focus:ring-2 focus:ring-ring bg-white text-foreground placeholder:text-muted-foreground" 
                       required>
            </div>
            
            <div>
                <label for="confirmPassword" class="block text-sm font-medium text-foreground mb-1">Confirm Password</label>
                <input type="password" id="confirmPassword" name="confirmPassword" 
                       class="w-full px-3 py-2 border border-input rounded-md focus:outline-none focus:ring-2 focus:ring-ring bg-white text-foreground placeholder:text-muted-foreground" 
                       required>
            </div>
            
            <button type="submit" 
                    class="w-full bg-primary text-primary-foreground font-medium py-2 px-4 rounded-md hover:opacity-90 transition-opacity focus:outline-none focus:ring-2 focus:ring-ring">
                Register
            </button>
        </form>
        
        <div class="mt-6 text-center">
            <p class="text-sm text-muted-foreground">Already have an account? 
                <a href="/login" class="text-primary hover:underline font-medium">Login here</a>
            </p>
        </div>
    </div>

    <script>
        lucide.createIcons();
    </script>
</body>
</html>

================================================================================
File: src\main\webapp\WEB-INF\jsp\common\footer.jsp
Size: 12.56 kB
================================================================================

<%@ page language="java" contentType="text/html; charset=UTF-8" pageEncoding="UTF-8"%>
<%@ taglib prefix="c" uri="jakarta.tags.core" %>

</main>

<footer class="bg-white/80 backdrop-blur-md border-t border-border mt-12">
    <div class="max-w-7xl mx-auto py-6 px-4 sm:px-6 lg:px-8">
        <p class="text-center text-sm text-muted-foreground">&copy; 2025 MindMate Project. All rights reserved.</p>
    </div>
    
    
</footer>

<script>
    // Ensure Lucide icons are processed
    lucide.createIcons();

    // ============================================
    // CHATBOT STATE MANAGEMENT WITH PERSISTENCE
    // ============================================

    // Storage keys
    const STORAGE_KEYS = {
        MESSAGES: 'mindmate_chat_messages',
        IS_OPEN: 'mindmate_chat_is_open',
        LAST_INTERACTION: 'mindmate_chat_last_interaction'
    };

    // State variables
    let isChatOpen = false;
    let isLoading = false;
    let currentMessages = [];

    // DOM Elements
    const chatButton = document.getElementById('chat-open-button');
    const chatWindow = document.getElementById('chat-window');
    const messagesContainer = document.getElementById('messages-container');
    const inputField = document.getElementById('chat-input');
    const sendButton = document.getElementById('chat-send-button');
    const typingIndicator = document.getElementById('typing-indicator');

    // Only initialize if chatbot elements exist (student view)
    if (chatButton && chatWindow) {
        initializeChatbot();
    }

    // ============================================
    // INITIALIZATION
    // ============================================

    function initializeChatbot() {
        // Load saved state from sessionStorage
        loadChatState();
        
        // Restore chat window state
        const savedIsOpen = sessionStorage.getItem(STORAGE_KEYS.IS_OPEN);
        if (savedIsOpen === 'true') {
            toggleChatWindow(true);
        } else {
            toggleChatWindow(false);
        }

        // If no messages exist, add welcome message
        if (currentMessages.length === 0) {
            currentMessages = [{
                role: 'assistant',
                content: "Hello! I'm here to support you. How are you feeling today?",
                timestamp: new Date().toISOString()
            }];
            saveChatState();
        }

        renderMessages();

        // Add Enter key listener
        if (inputField) {
            inputField.addEventListener('keypress', function(e) {
                if (e.key === 'Enter' && !e.shiftKey) {
                    e.preventDefault();
                    handleSendMessage();
                }
            });
        }

        // Save state before page unload
        window.addEventListener('beforeunload', saveChatState);
    }

    // ============================================
    // STATE PERSISTENCE
    // ============================================

    function loadChatState() {
        try {
            const savedMessages = sessionStorage.getItem(STORAGE_KEYS.MESSAGES);
            if (savedMessages) {
                currentMessages = JSON.parse(savedMessages);
            }
        } catch (error) {
            console.error('Error loading chat state:', error);
            currentMessages = [];
        }
    }

    function saveChatState() {
        try {
            sessionStorage.setItem(STORAGE_KEYS.MESSAGES, JSON.stringify(currentMessages));
            sessionStorage.setItem(STORAGE_KEYS.IS_OPEN, isChatOpen.toString());
            sessionStorage.setItem(STORAGE_KEYS.LAST_INTERACTION, new Date().toISOString());
        } catch (error) {
            console.error('Error saving chat state:', error);
        }
    }

    function clearChatState() {
        sessionStorage.removeItem(STORAGE_KEYS.MESSAGES);
        sessionStorage.removeItem(STORAGE_KEYS.IS_OPEN);
        sessionStorage.removeItem(STORAGE_KEYS.LAST_INTERACTION);
        currentMessages = [{
            role: 'assistant',
            content: "Hello! I'm here to support you. How are you feeling today?",
            timestamp: new Date().toISOString()
        }];
        renderMessages();
    }

    // ============================================
    // CHAT WINDOW TOGGLE
    // ============================================

    function toggleChatWindow(open) {
        if (!chatWindow || !chatButton) return;
        
        isChatOpen = open;
        
        if (isChatOpen) {
            chatWindow.classList.remove('hidden');
            chatButton.classList.add('hidden');
            renderMessages();
            scrollToBottom();
            if (inputField) inputField.focus();
        } else {
            chatWindow.classList.add('hidden');
            chatButton.classList.remove('hidden');
        }
        
        saveChatState();
    }

    // ============================================
    // MESSAGE RENDERING
    // ============================================

    function renderMessages() {
        if (!messagesContainer) return;
        
        messagesContainer.innerHTML = '';
        
        currentMessages.forEach(msg => {
            const messageElement = createMessageElement(msg);
            messagesContainer.appendChild(messageElement);
        });
        
        scrollToBottom();
    }

    function createMessageElement(message) {
        const isUser = message.role === 'user';
        const messageDiv = document.createElement('div');
        messageDiv.className = `flex items-start gap-2 ${isUser ? 'flex-row-reverse' : 'flex-row'}`;
        
        // Avatar
        const avatar = document.createElement('div');
        if (isUser) {
            avatar.className = 'w-8 h-8 rounded-full bg-primary flex items-center justify-center text-primary-foreground font-semibold text-sm shrink-0';
            avatar.textContent = 'You';
        } else {
            avatar.className = 'w-8 h-8 rounded-full bg-primary/20 flex items-center justify-center border border-primary/30 shrink-0';
            avatar.innerHTML = '<i data-lucide="bot" class="h-4 w-4 text-primary"></i>';
        }
        
        // Message bubble
        const bubble = document.createElement('div');
        bubble.className = isUser 
            ? 'bg-primary text-primary-foreground rounded-2xl rounded-tr-sm px-4 py-2.5 max-w-[75%] shadow-sm'
            : 'bg-secondary text-foreground rounded-2xl rounded-tl-sm px-4 py-2.5 max-w-[75%] shadow-sm border border-border/50';
        
        const content = document.createElement('p');
        content.className = 'text-sm leading-relaxed whitespace-pre-wrap break-words';
        content.textContent = message.content;
        
        bubble.appendChild(content);
        
        // Timestamp (optional)
        if (message.timestamp) {
            const time = document.createElement('span');
            time.className = `text-[10px] mt-1 block ${isUser ? 'text-primary-foreground/70' : 'text-muted-foreground'}`;
            time.textContent = formatTime(message.timestamp);
            bubble.appendChild(time);
        }
        
        messageDiv.appendChild(avatar);
        messageDiv.appendChild(bubble);
        
        // Re-initialize Lucide icons for the new elements
        setTimeout(() => lucide.createIcons(), 0);
        
        return messageDiv;
    }

    function formatTime(timestamp) {
        const date = new Date(timestamp);
        return date.toLocaleTimeString('en-US', { hour: 'numeric', minute: '2-digit' });
    }

    function scrollToBottom() {
        if (messagesContainer) {
            messagesContainer.scrollTop = messagesContainer.scrollHeight;
        }
    }

    // ============================================
    // MESSAGE HANDLING
    // ============================================

    function handleSendMessage() {
        if (!inputField) return;
        
        const userMessage = inputField.value.trim();
        if (!userMessage || isLoading) return;

        // Add user message
        currentMessages.push({
            role: 'user',
            content: userMessage,
            timestamp: new Date().toISOString()
        });
        
        inputField.value = '';
        renderMessages();
        saveChatState();

        // Show typing indicator
        isLoading = true;
        if (typingIndicator) typingIndicator.classList.remove('hidden');
        if (sendButton) sendButton.disabled = true;
        if (inputField) inputField.disabled = true;
        scrollToBottom();

        // Simulate AI response
        setTimeout(() => {
            const aiResponse = generateAIResponse(userMessage);
            
            currentMessages.push({
                role: 'assistant',
                content: aiResponse,
                timestamp: new Date().toISOString()
            });

            // Hide typing indicator
            isLoading = false;
            if (typingIndicator) typingIndicator.classList.add('hidden');
            if (sendButton) sendButton.disabled = false;
            if (inputField) inputField.disabled = false;
            
            renderMessages();
            saveChatState();
            
            if (inputField) inputField.focus();
        }, 1200);
    }

    function generateAIResponse(userMessage) {
        const lowerMessage = userMessage.toLowerCase();
        
        // Context-aware responses
        if (lowerMessage.includes('anxious') || lowerMessage.includes('anxiety') || lowerMessage.includes('worried')) {
            return "I understand you're feeling anxious. It's completely normal to feel this way sometimes. Have you tried any relaxation techniques like deep breathing or mindfulness? I'm here to help you through this.";
        }
        
        if (lowerMessage.includes('sad') || lowerMessage.includes('depressed') || lowerMessage.includes('down')) {
            return "I'm sorry you're feeling this way. Your feelings are valid, and it's important to acknowledge them. Would you like to talk about what's been troubling you? Sometimes sharing can help lighten the burden.";
        }
        
        if (lowerMessage.includes('stress') || lowerMessage.includes('stressed') || lowerMessage.includes('overwhelmed')) {
            return "Stress can be really challenging. Remember that it's okay to take breaks and prioritize self-care. Have you considered speaking with one of our counselors? They can provide you with personalized coping strategies.";
        }
        
        if (lowerMessage.includes('sleep') || lowerMessage.includes('insomnia') || lowerMessage.includes('tired')) {
            return "Sleep issues can significantly impact your well-being. Establishing a consistent bedtime routine and limiting screen time before bed can help. Would you like some specific tips for improving your sleep hygiene?";
        }
        
        if (lowerMessage.includes('help') || lowerMessage.includes('counselor') || lowerMessage.includes('appointment')) {
            return "I'm glad you're reaching out for help! You can easily book an appointment with one of our professional counselors. Would you like me to guide you through the booking process?";
        }
        
        if (lowerMessage.includes('thank')) {
            return "You're very welcome! I'm always here to support you. Remember, seeking help is a sign of strength. Is there anything else I can help you with today?";
        }
        
        // Default responses
        const defaultResponses = [
            "I'm here to listen and support you. Can you tell me more about what's on your mind?",
            "Thank you for sharing. Remember that you're not alone in this journey. How can I best support you right now?",
            "It's important to take care of your mental health. Would you like to explore some resources or speak with a counselor?",
            "I understand this is difficult. Have you considered what might help you feel better in this moment?",
            "Your well-being matters. Let's work through this together. What would be most helpful for you right now?"
        ];
        
        return defaultResponses[Math.floor(Math.random() * defaultResponses.length)];
    }
    
</script>
</html>

================================================================================
File: src\main\webapp\WEB-INF\jsp\common\header.jsp
Size: 19.38 kB
================================================================================

<%@ page language="java" contentType="text/html; charset=UTF-8" pageEncoding="UTF-8"%>
<%@ taglib prefix="c" uri="jakarta.tags.core" %>
<%@ taglib prefix="fn" uri="jakarta.tags.functions" %>

<c:set var="currentUrl" value="${pageContext.request.requestURI}" />

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MindMate</title>
    
    <link rel="icon" type="image/svg+xml" href="${pageContext.request.contextPath}/images/favicon.svg">
    <link rel="stylesheet" href="${pageContext.request.contextPath}/css/global.css">

    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/lucide@latest"></script>

    <script>
        tailwind.config = {
            darkMode: ["class"],
            theme: {
                extend: {
                    colors: {
                        border: "hsl(var(--border))",
                        input: "hsl(var(--input))",
                        ring: "hsl(var(--ring))",
                        background: "hsl(var(--background))",
                        foreground: "hsl(var(--foreground))",
                        primary: {
                            DEFAULT: "hsl(var(--primary))",
                            foreground: "hsl(var(--primary-foreground))",
                        },
                        secondary: {
                            DEFAULT: "hsl(var(--secondary))",
                            foreground: "hsl(var(--secondary-foreground))",
                        },
                        destructive: {
                            DEFAULT: "hsl(var(--destructive))",
                            foreground: "hsl(var(--destructive-foreground))",
                        },
                        muted: {
                            DEFAULT: "hsl(var(--muted))",
                            foreground: "hsl(var(--muted-foreground))",
                        },
                        card: {
                            DEFAULT: "hsl(var(--card))",
                            foreground: "hsl(var(--card-foreground))",
                        },
                    },
                    borderRadius: {
                        lg: "var(--radius)",
                        md: "calc(var(--radius) - 2px)",
                        sm: "calc(var(--radius) - 4px)",
                    },
                },
            },
        }
    </script>
</head>
<body class="bg-background text-foreground font-sans antialiased min-h-screen flex flex-col">
    
    <!-- RESOLVED: Modern navigation with icons (YOUR changes) + Forum link (TEAMMATE's addition) -->
    <nav class="bg-card/80 backdrop-blur-md border-b border-border sticky top-0 z-50 w-full">
        <div class="container mx-auto px-4 py-3">
            <div class="flex items-center justify-between">
                
                <!-- Logo Section -->
                <div class="flex items-center space-x-2">
                    <a href="${role == 'counselor' ? '/counselor/dashboard' : (role == 'admin' ? '/admin/dashboard' : '/student/dashboard')}" 
                       class="flex items-center gap-2 group">
                        <img src="${pageContext.request.contextPath}/images/MindMate.png" 
                             alt="Logo" 
                             class="h-10 w-10 object-contain logo-mindmate">
                        <span class="text-xl font-bold text-foreground tracking-tight">MindMate</span>
                    </a>
                </div>

                <!-- Desktop Navigation -->
                <div class="hidden md:flex items-center space-x-1">
                    
                    <!-- STUDENT NAVIGATION (with Forum link from teammate) -->
                    <c:if test="${role == 'student' || role == null}">
                        <a href="/student/dashboard" 
                           class="${fn:contains(currentUrl, '/student/dashboard') ? 'bg-primary text-primary-foreground' : 'bg-transparent text-muted-foreground hover:bg-secondary hover:text-foreground'} inline-flex items-center gap-2 px-3 py-2 rounded-md text-sm font-medium transition-colors">
                            <i data-lucide="home" class="w-4 h-4"></i>
                            Dashboard
                        </a>
                        
                        <a href="/student/assessment" 
                           class="${fn:contains(currentUrl, '/student/assessment') ? 'bg-primary text-primary-foreground' : 'bg-transparent text-muted-foreground hover:bg-secondary hover:text-foreground'} inline-flex items-center gap-2 px-3 py-2 rounded-md text-sm font-medium transition-colors">
                            <i data-lucide="heart" class="w-4 h-4"></i>
                            Self-Check
                        </a>
                        
                        <a href="/student/library" 
                           class="${fn:contains(currentUrl, '/student/library') || fn:contains(currentUrl, 'content') ? 'bg-primary text-primary-foreground' : 'bg-transparent text-muted-foreground hover:bg-secondary hover:text-foreground'} inline-flex items-center gap-2 px-3 py-2 rounded-md text-sm font-medium transition-colors">
                            <i data-lucide="book-open" class="w-4 h-4"></i>
                            Learning
                        </a>
                        
                        <!-- MERGED: Forum link from teammate's branch -->
                        <a href="/student/forum" 
                           class="${fn:contains(currentUrl, '/student/forum') ? 'bg-primary text-primary-foreground' : 'bg-transparent text-muted-foreground hover:bg-secondary hover:text-foreground'} inline-flex items-center gap-2 px-3 py-2 rounded-md text-sm font-medium transition-colors">
                            <i data-lucide="message-circle" class="w-4 h-4"></i>
                            Community
                        </a>
                        
                        <a href="/student/telehealth" 
                           class="${fn:contains(currentUrl, '/student/telehealth') ? 'bg-primary text-primary-foreground' : 'bg-transparent text-muted-foreground hover:bg-secondary hover:text-foreground'} inline-flex items-center gap-2 px-3 py-2 rounded-md text-sm font-medium transition-colors">
                            <i data-lucide="calendar" class="w-4 h-4"></i>
                            Sessions
                        </a>
                        
                        <a href="/student/profile" 
                           class="${fn:contains(currentUrl, '/student/profile') ? 'bg-primary text-primary-foreground' : 'bg-transparent text-muted-foreground hover:bg-secondary hover:text-foreground'} inline-flex items-center gap-2 px-3 py-2 rounded-md text-sm font-medium transition-colors">
                            <i data-lucide="user" class="w-4 h-4"></i>
                            My Profile
                        </a>
                    </c:if>

                    <!-- COUNSELOR NAVIGATION -->
                    <c:if test="${role == 'counselor'}">
                        <a href="/counselor/dashboard" 
                           class="${fn:contains(currentUrl, '/counselor/dashboard') ? 'bg-primary text-primary-foreground' : 'bg-transparent text-muted-foreground hover:bg-secondary hover:text-foreground'} inline-flex items-center gap-2 px-3 py-2 rounded-md text-sm font-medium transition-colors">
                            <i data-lucide="home" class="w-4 h-4"></i>
                            Dashboard
                        </a>
                        
                        <a href="/counselor/schedule" 
                           class="${fn:contains(currentUrl, '/counselor/schedule') ? 'bg-primary text-primary-foreground' : 'bg-transparent text-muted-foreground hover:bg-secondary hover:text-foreground'} inline-flex items-center gap-2 px-3 py-2 rounded-md text-sm font-medium transition-colors">
                            <i data-lucide="calendar" class="w-4 h-4"></i>
                            My Schedule
                        </a>
                        
                        <a href="/counselor/content" 
                           class="${fn:contains(currentUrl, '/counselor/content') ? 'bg-primary text-primary-foreground' : 'bg-transparent text-muted-foreground hover:bg-secondary hover:text-foreground'} inline-flex items-center gap-2 px-3 py-2 rounded-md text-sm font-medium transition-colors">
                            <i data-lucide="file-text" class="w-4 h-4"></i>
                            Content Manager
                        </a>
                        
                        <a href="/counselor/profile" 
                           class="${fn:contains(currentUrl, '/counselor/profile') ? 'bg-primary text-primary-foreground' : 'bg-transparent text-muted-foreground hover:bg-secondary hover:text-foreground'} inline-flex items-center gap-2 px-3 py-2 rounded-md text-sm font-medium transition-colors">
                            <i data-lucide="user" class="w-4 h-4"></i>
                            My Profile
                        </a>
                    </c:if>

                    <!-- ADMIN NAVIGATION -->
                    <c:if test="${role == 'admin'}">
                        <a href="/admin/dashboard" 
                           class="${fn:contains(currentUrl, '/admin/dashboard') ? 'bg-primary text-primary-foreground' : 'bg-transparent text-muted-foreground hover:bg-secondary hover:text-foreground'} inline-flex items-center gap-2 px-3 py-2 rounded-md text-sm font-medium transition-colors">
                            <i data-lucide="home" class="w-4 h-4"></i>
                            Dashboard
                        </a>
                        
                        <a href="/admin/forum-moderation" 
                           class="${fn:contains(currentUrl, '/admin/forum') ? 'bg-primary text-primary-foreground' : 'bg-transparent text-muted-foreground hover:bg-secondary hover:text-foreground'} inline-flex items-center gap-2 px-3 py-2 rounded-md text-sm font-medium transition-colors">
                            <i data-lucide="shield" class="w-4 h-4"></i>
                            Forum Moderation
                        </a>
                        
                        <a href="/admin/profile" 
                           class="${fn:contains(currentUrl, '/admin/profile') ? 'bg-primary text-primary-foreground' : 'bg-transparent text-muted-foreground hover:bg-secondary hover:text-foreground'} inline-flex items-center gap-2 px-3 py-2 rounded-md text-sm font-medium transition-colors">
                            <i data-lucide="user" class="w-4 h-4"></i>
                            My Profile
                        </a>
                    </c:if>

                    <!-- Logout Button -->
                    <a href="/logout" 
                       class="inline-flex items-center gap-2 px-3 py-2 rounded-md text-sm font-medium text-destructive hover:bg-destructive/10 transition-colors ml-2">
                        <i data-lucide="log-out" class="w-4 h-4"></i>
                        Logout
                    </a>
                </div>

                <!-- Mobile Navigation -->
                <div class="md:hidden flex items-center gap-2">
                    <a href="/logout" 
                       class="inline-flex items-center gap-1 px-2 py-1.5 rounded-md text-sm font-medium text-destructive hover:bg-destructive/10 transition-colors">
                        <i data-lucide="log-out" class="w-4 h-4"></i>
                    </a>
                    
                    <button id="mobile-menu-button" 
                            class="inline-flex items-center justify-center p-2 rounded-md text-muted-foreground hover:bg-secondary hover:text-foreground transition-colors">
                        <i data-lucide="menu" class="w-5 h-5"></i>
                    </button>
                </div>
            </div>
        </div>

        <!-- Mobile Menu Dropdown -->
        <div id="mobile-menu" class="hidden md:hidden border-t border-border bg-card">
            <div class="container mx-auto px-4 py-3 space-y-1">
                
                <!-- STUDENT MOBILE NAVIGATION (with Forum link) -->
                <c:if test="${role == 'student' || role == null}">
                    <a href="/student/dashboard" 
                       class="${fn:contains(currentUrl, '/student/dashboard') ? 'bg-primary text-primary-foreground' : 'bg-transparent text-foreground hover:bg-secondary'} flex items-center gap-3 px-3 py-2 rounded-md text-sm font-medium transition-colors">
                        <i data-lucide="home" class="w-4 h-4"></i>
                        Dashboard
                    </a>
                    <a href="/student/assessment" 
                       class="${fn:contains(currentUrl, '/student/assessment') ? 'bg-primary text-primary-foreground' : 'bg-transparent text-foreground hover:bg-secondary'} flex items-center gap-3 px-3 py-2 rounded-md text-sm font-medium transition-colors">
                        <i data-lucide="heart" class="w-4 h-4"></i>
                        Self-Check
                    </a>
                    <a href="/student/library" 
                       class="${fn:contains(currentUrl, '/student/library') ? 'bg-primary text-primary-foreground' : 'bg-transparent text-foreground hover:bg-secondary'} flex items-center gap-3 px-3 py-2 rounded-md text-sm font-medium transition-colors">
                        <i data-lucide="book-open" class="w-4 h-4"></i>
                        Learning
                    </a>
                    
                    <!-- MERGED: Forum link in mobile menu -->
                    <a href="/student/forum" 
                       class="${fn:contains(currentUrl, '/student/forum') ? 'bg-primary text-primary-foreground' : 'bg-transparent text-foreground hover:bg-secondary'} flex items-center gap-3 px-3 py-2 rounded-md text-sm font-medium transition-colors">
                        <i data-lucide="message-circle" class="w-4 h-4"></i>
                        Community
                    </a>
                    
                    <a href="/student/telehealth" 
                       class="${fn:contains(currentUrl, '/student/telehealth') ? 'bg-primary text-primary-foreground' : 'bg-transparent text-foreground hover:bg-secondary'} flex items-center gap-3 px-3 py-2 rounded-md text-sm font-medium transition-colors">
                        <i data-lucide="calendar" class="w-4 h-4"></i>
                        Sessions
                    </a>
                    <a href="/student/profile" 
                       class="${fn:contains(currentUrl, '/student/profile') ? 'bg-primary text-primary-foreground' : 'bg-transparent text-foreground hover:bg-secondary'} flex items-center gap-3 px-3 py-2 rounded-md text-sm font-medium transition-colors">
                        <i data-lucide="user" class="w-4 h-4"></i>
                        My Profile
                    </a>
                </c:if>

                <!-- COUNSELOR MOBILE NAVIGATION -->
                <c:if test="${role == 'counselor'}">
                    <a href="/counselor/dashboard" 
                       class="${fn:contains(currentUrl, '/counselor/dashboard') ? 'bg-primary text-primary-foreground' : 'bg-transparent text-foreground hover:bg-secondary'} flex items-center gap-3 px-3 py-2 rounded-md text-sm font-medium transition-colors">
                        <i data-lucide="home" class="w-4 h-4"></i>
                        Dashboard
                    </a>
                    <a href="/counselor/schedule" 
                       class="${fn:contains(currentUrl, '/counselor/schedule') ? 'bg-primary text-primary-foreground' : 'bg-transparent text-foreground hover:bg-secondary'} flex items-center gap-3 px-3 py-2 rounded-md text-sm font-medium transition-colors">
                        <i data-lucide="calendar" class="w-4 h-4"></i>
                        My Schedule
                    </a>
                    <a href="/counselor/content" 
                       class="${fn:contains(currentUrl, '/counselor/content') ? 'bg-primary text-primary-foreground' : 'bg-transparent text-foreground hover:bg-secondary'} flex items-center gap-3 px-3 py-2 rounded-md text-sm font-medium transition-colors">
                        <i data-lucide="file-text" class="w-4 h-4"></i>
                        Content Manager
                    </a>
                    <a href="/counselor/profile" 
                       class="${fn:contains(currentUrl, '/counselor/profile') ? 'bg-primary text-primary-foreground' : 'bg-transparent text-foreground hover:bg-secondary'} flex items-center gap-3 px-3 py-2 rounded-md text-sm font-medium transition-colors">
                        <i data-lucide="user" class="w-4 h-4"></i>
                        My Profile
                    </a>
                </c:if>

                <!-- ADMIN MOBILE NAVIGATION -->
                <c:if test="${role == 'admin'}">
                    <a href="/admin/dashboard" 
                       class="${fn:contains(currentUrl, '/admin/dashboard') ? 'bg-primary text-primary-foreground' : 'bg-transparent text-foreground hover:bg-secondary'} flex items-center gap-3 px-3 py-2 rounded-md text-sm font-medium transition-colors">
                        <i data-lucide="home" class="w-4 h-4"></i>
                        Dashboard
                    </a>
                    <a href="/admin/forum-moderation" 
                       class="${fn:contains(currentUrl, '/admin/forum') ? 'bg-primary text-primary-foreground' : 'bg-transparent text-foreground hover:bg-secondary'} flex items-center gap-3 px-3 py-2 rounded-md text-sm font-medium transition-colors">
                        <i data-lucide="shield" class="w-4 h-4"></i>
                        Forum Moderation
                    </a>
                    <a href="/admin/profile" 
                       class="${fn:contains(currentUrl, '/admin/profile') ? 'bg-primary text-primary-foreground' : 'bg-transparent text-foreground hover:bg-secondary'} flex items-center gap-3 px-3 py-2 rounded-md text-sm font-medium transition-colors">
                        <i data-lucide="user" class="w-4 h-4"></i>
                        My Profile
                    </a>
                </c:if>
            </div>
        </div>
    </nav>

    <!-- Mobile Menu Toggle Script -->
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const menuButton = document.getElementById('mobile-menu-button');
            const mobileMenu = document.getElementById('mobile-menu');
            
            if (menuButton && mobileMenu) {
                menuButton.addEventListener('click', function() {
                    mobileMenu.classList.toggle('hidden');
                });
            }
        });
    </script>

    <main class="max-w-7xl mx-auto py-6 sm:px-6 lg:px-8 flex-grow w-full">

================================================================================
File: src\main\webapp\WEB-INF\jsp\counselor\content-manager.jsp
Size: 12.84 kB
================================================================================

<%@ page language="java" contentType="text/html; charset=UTF-8" pageEncoding="UTF-8"%>
<%@ taglib prefix="c" uri="http://java.sun.com/jsp/jstl/core" %>
<%@ taglib prefix="fn" uri="http://java.sun.com/jsp/jstl/functions" %>
<jsp:include page="../common/header.jsp" />

<div class="space-y-6">
    <div class="flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4">
        <div>
            <h1 class="text-3xl font-bold text-foreground">Content Management</h1>
            <p class="text-muted-foreground mt-1">Manage learning materials and resources</p>
        </div>
        <button id="addContentBtn" class="bg-primary text-primary-foreground px-4 py-2 rounded-md hover:opacity-90 transition-opacity inline-flex items-center gap-2 font-medium shadow-sm">
            <i data-lucide="plus" class="h-4 w-4"></i>
            Add New Content
        </button>
    </div>

    <div class="bg-card p-6 rounded-lg shadow-sm border border-border">
        <h2 class="text-xl font-semibold mb-4 text-foreground">All Learning Content</h2>
        
        <div class="overflow-x-auto">
            <table class="w-full">
                <thead>
                    <tr class="border-b border-border">
                        <th class="text-left py-3 px-4 font-semibold text-foreground">Title</th>
                        <th class="text-left py-3 px-4 font-semibold text-foreground hidden sm:table-cell">Type</th>
                        <th class="text-left py-3 px-4 font-semibold text-foreground hidden md:table-cell">Description</th>
                        <th class="text-right py-3 px-4 font-semibold text-foreground">Actions</th>
                    </tr>
                </thead>
                <tbody>
                    <c:forEach var="item" items="${contents}">
                        <tr data-id="${item.id}" class="border-b border-border hover:bg-secondary/50 transition-colors">
                            <td class="py-4 px-4">
                                <div class="flex items-center gap-2">
                                    <c:choose>
                                        <c:when test="${item.type == 'Video'}">
                                            <i data-lucide="play-circle" class="h-4 w-4 text-muted-foreground"></i>
                                        </c:when>
                                        <c:otherwise>
                                            <i data-lucide="file-text" class="h-4 w-4 text-muted-foreground"></i>
                                        </c:otherwise>
                                    </c:choose>
                                    <span class="font-medium">${item.title}</span>
                                </div>
                                <p class="text-sm text-muted-foreground mt-1 sm:hidden">${item.description}</p>
                            </td>
                            <td class="py-4 px-4 hidden sm:table-cell">
                                <span class="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-secondary text-secondary-foreground">${item.type}</span>
                            </td>
                            <td class="py-4 px-4 hidden md:table-cell text-muted-foreground text-sm">${item.description}</td>
                            <td class="py-4 px-4">
                                <div class="flex justify-end gap-2">
                                    <button type="button" class="p-2 hover:bg-secondary rounded-md transition-colors editBtn" title="Edit">
                                        <i data-lucide="edit" class="h-4 w-4 text-foreground"></i>
                                    </button>
                                    <form method="post" action="${pageContext.request.contextPath}/counselor/content/delete" data-title="${fn:escapeXml(item.title)}">
                                        <input type="hidden" name="id" value="${item.id}" />
                                        <button type="submit" class="p-2 hover:bg-destructive/10 rounded-md transition-colors" title="Delete">
                                            <i data-lucide="trash-2" class="h-4 w-4 text-destructive"></i>
                                        </button>
                                    </form>
                                </div>
                            </td>
                        </tr>
                    </c:forEach>
                </tbody>
            </table>
        </div>
    </div>
</div>

<!-- Modal Overlay -->
<div id="modalOverlay" class="hidden fixed inset-0 bg-black bg-opacity-50 z-40 transition-opacity"></div>

<!-- Modal -->
<div id="contentModal" class="hidden fixed inset-0 z-50 overflow-y-auto">
    <div class="flex min-h-screen items-center justify-center p-4">
        <div class="bg-card rounded-lg shadow-xl w-full max-w-2xl transform transition-all">
            <!-- Modal Header -->
            <div class="flex items-center justify-between p-6 border-b border-border">
                <h2 class="text-xl font-semibold text-foreground">Add New Learning Content</h2>
                <button id="closeModal" class="text-muted-foreground hover:text-foreground transition-colors">
                    <i data-lucide="x" class="h-5 w-5"></i>
                </button>
            </div>
            
            <!-- Modal Body -->
            <form action="/counselor/content/create" method="POST" class="p-6 space-y-5" id="contentForm">
                <!-- Title -->
                <div>
                    <label for="title" class="block text-sm font-medium text-foreground mb-1.5">Title</label>
                    <input 
                        type="text" 
                        id="title" 
                        name="title" 
                        placeholder="Content title"
                        class="w-full px-3 py-2 border border-input rounded-md focus:outline-none focus:ring-2 focus:ring-ring bg-background text-foreground placeholder:text-muted-foreground"
                        required
                    />
                </div>
                <input type="hidden" id="editingId" name="editingId" value="" />
                
                <!-- Content Type -->
                <div>
                    <label for="contentType" class="block text-sm font-medium text-foreground mb-1.5">Content Type</label>
                    <select 
                        id="contentType" 
                        name="contentType"
                        class="w-full px-3 py-2 border border-input rounded-md focus:outline-none focus:ring-2 focus:ring-ring bg-background text-foreground"
                        required
                    >
                        <option value="Article">Article</option>
                        <option value="Video">Video</option>
                    </select>
                </div>
                
                <!-- Description -->
                <div>
                    <label for="description" class="block text-sm font-medium text-foreground mb-1.5">Description</label>
                    <textarea 
                        id="description" 
                        name="description" 
                        rows="3"
                        placeholder="Brief description"
                        class="w-full px-3 py-2 border border-input rounded-md focus:outline-none focus:ring-2 focus:ring-ring bg-background text-foreground placeholder:text-muted-foreground resize-none"
                        required
                    ></textarea>
                </div>
                
                <!-- Content -->
                <div>
                    <label for="content" class="block text-sm font-medium text-foreground mb-1.5">Content</label>
                    <textarea 
                        id="content" 
                        name="content" 
                        rows="6"
                        placeholder="Main content or URL"
                        class="w-full px-3 py-2 border border-input rounded-md focus:outline-none focus:ring-2 focus:ring-ring bg-background text-foreground placeholder:text-muted-foreground resize-none"
                        required
                    ></textarea>
                </div>
                
                <!-- Modal Footer -->
                <div class="flex justify-end gap-3 pt-4">
                    <button 
                        type="button" 
                        id="cancelBtn"
                        class="px-4 py-2 border border-border rounded-md text-foreground hover:bg-secondary transition-colors font-medium"
                    >
                        Cancel
                    </button>
                    <button 
                        type="submit"
                        class="px-4 py-2 bg-primary text-primary-foreground rounded-md hover:opacity-90 transition-opacity font-medium shadow-sm"
                    >
                        Create Content
                    </button>
                </div>
            </form>
        </div>
    </div>
</div>

<script>
    // Modal functionality
    const modal = document.getElementById('contentModal');
    const modalOverlay = document.getElementById('modalOverlay');
    const addContentBtn = document.getElementById('addContentBtn');
    const closeModalBtn = document.getElementById('closeModal');
    const cancelBtn = document.getElementById('cancelBtn');
    
    function openModal() {
        modal.classList.remove('hidden');
        modalOverlay.classList.remove('hidden');
        document.body.style.overflow = 'hidden';
    }
    
    function closeModal() {
        modal.classList.add('hidden');
        modalOverlay.classList.add('hidden');
        document.body.style.overflow = 'auto';
    }
    
    addContentBtn.addEventListener('click', openModal);
    closeModalBtn.addEventListener('click', closeModal);
    cancelBtn.addEventListener('click', closeModal);
    modalOverlay.addEventListener('click', closeModal);
    
    // Close modal on Escape key
    document.addEventListener('keydown', function(e) {
        if (e.key === 'Escape' && !modal.classList.contains('hidden')) {
            closeModal();
        }
    });

    // Edit handling: populate modal and submit to server for persistence
    (function() {
        const tableBody = document.querySelector('table tbody');
        const form = document.getElementById('contentForm');
        const editingId = document.getElementById('editingId');
        const titleInput = document.getElementById('title');
        const typeInput = document.getElementById('contentType');
        const descInput = document.getElementById('description');
        const contentInput = document.getElementById('content');
        const submitBtn = form.querySelector('button[type="submit"]');

        // when clicking Add New Content, ensure form is in create mode
        addContentBtn.addEventListener('click', () => {
            editingId.value = '';
            form.reset();
            if (submitBtn) submitBtn.textContent = 'Create Content';
        });

        // delegate edit button clicks
        tableBody.addEventListener('click', function(e) {
            const editBtn = e.target.closest('.editBtn');
            if (!editBtn) return;
            const row = editBtn.closest('tr');
            const tds = row.querySelectorAll('td');
            const id = row.getAttribute('data-id');
            const title = (tds[0].querySelector('div > span') || { textContent: '' }).textContent.trim();
            const desc = tds[0].querySelector('p') ? tds[0].querySelector('p').textContent.trim() : (tds[2] ? tds[2].textContent.trim() : '');
            const typeCell = tds[1] ? tds[1].querySelector('span') : null;
            const type = typeCell ? typeCell.textContent.trim() : 'Article';

            editingId.value = id;
            titleInput.value = title;
            descInput.value = desc;
            typeInput.value = type;
            if (submitBtn) submitBtn.textContent = 'Update Content';
            openModal();
        });

        // attach confirmation to delete forms (safer than inline onsubmit)
        document.querySelectorAll('form[action$="/counselor/content/delete"]').forEach(function(f) {
            f.addEventListener('submit', function(evt) {
                const t = f.dataset.title || 'this item';
                if (!confirm('Delete "' + t + '"?')) {
                    evt.preventDefault();
                }
            });
        });
    })();
</script>

<jsp:include page="../common/footer.jsp" />

================================================================================
File: src\main\webapp\WEB-INF\jsp\counselor\dashboard.jsp
Size: 10.22 kB
================================================================================

<%@ page language="java" contentType="text/html; charset=UTF-8" pageEncoding="UTF-8"%>
<%@ taglib prefix="c" uri="jakarta.tags.core" %>
<jsp:include page="../common/header.jsp" />

<div class="container mx-auto px-4 py-8">
    <div class="mb-8">
        <h1 class="text-3xl font-bold text-foreground mb-2">Counselor Dashboard</h1>
        <p class="text-muted-foreground">Professional workspace for counseling management</p>
    </div>

    <!-- Key Metrics -->
    <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-8">
        <a href="/counselor/schedule" class="block">
            <div class="bg-card p-6 rounded-lg shadow-sm border border-border hover:shadow-lg transition-all cursor-pointer">
                <div class="flex items-center justify-between">
                    <div>
                        <p class="text-sm text-muted-foreground">Today's Appointments</p>
                        <p class="text-3xl font-bold text-foreground">${todayCount}</p>
                    </div>
                    <div class="w-12 h-12 bg-primary/10 rounded-full flex items-center justify-center">
                        <i data-lucide="calendar" class="w-6 h-6 text-primary"></i>
                    </div>
                </div>
            </div>
        </a>

        <a href="/counselor/schedule" class="block">
            <div class="bg-card p-6 rounded-lg shadow-sm border border-border hover:shadow-lg transition-all cursor-pointer">
                <div class="flex items-center justify-between">
                    <div>
                        <p class="text-sm text-muted-foreground">Pending Requests</p>
                        <p class="text-3xl font-bold text-foreground">${pendingCount}</p>
                    </div>
                    <div class="w-12 h-12 bg-info/10 rounded-full flex items-center justify-center">
                        <i data-lucide="clock" class="w-6 h-6 text-info"></i>
                    </div>
                </div>
            </div>
        </a>
    </div>

    <div class="grid grid-cols-1 lg:grid-cols-3 gap-8">
        <!-- Today's Schedule -->
        <div class="bg-card rounded-lg shadow-sm border border-border">
            <div class="p-6 border-b border-border">
                <h2 class="text-xl font-semibold text-foreground flex items-center">
                    <i data-lucide="calendar" class="w-5 h-5 mr-2 text-primary"></i>
                    Today's Schedule
                </h2>
            </div>
            <div class="p-6">
                <c:choose>
                    <c:when test="${empty todayAppointments}">
                        <div class="text-center py-8 text-muted-foreground">
                            <i data-lucide="check-circle" class="w-8 h-8 mx-auto mb-2 text-success"></i>
                            <p>No appointments today</p>
                        </div>
                    </c:when>
                    <c:otherwise>
                        <div class="space-y-3">
                            <c:forEach var="apt" items="${todayAppointments}">
                                <div class="p-4 bg-muted/50 rounded-lg border border-border">
                                    <div class="flex items-center justify-between mb-2">
                                        <span class="font-semibold text-foreground">
                                            ${apt.time}
                                        </span>
                                        <c:choose>
                                            <c:when test="${apt.status == 'confirmed'}">
                                                <span class="px-2 py-0.5 text-xs rounded-full bg-primary text-primary-foreground">Confirmed</span>
                                            </c:when>
                                            <c:otherwise>
                                                <span class="px-2 py-0.5 text-xs rounded-full bg-secondary text-secondary-foreground">Pending</span>
                                            </c:otherwise>
                                        </c:choose>
                                    </div>
                                    <p class="text-sm text-muted-foreground">${apt.notes}</p>
                                    <c:if test="${apt.status == 'confirmed'}">
                                        <button class="w-full mt-2 bg-primary text-primary-foreground px-4 py-2 rounded-md text-sm hover:opacity-90 transition-opacity">
                                            Join Session
                                        </button>
                                    </c:if>
                                </div>
                            </c:forEach>
                        </div>
                    </c:otherwise>
                </c:choose>
                <a href="/counselor/schedule" class="block w-full mt-4">
                    <button class="w-full border border-border bg-background text-foreground px-4 py-2 rounded-md hover:bg-secondary transition-colors">
                        View Full Schedule
                    </button>
                </a>
            </div>
        </div>

        <!-- Pending Requests -->
        <div class="bg-card rounded-lg shadow-sm border border-border">
            <div class="p-6 border-b border-border">
                <h2 class="text-xl font-semibold text-foreground flex items-center">
                    <i data-lucide="clock" class="w-5 h-5 mr-2 text-info"></i>
                    Pending Appointment Requests
                </h2>
            </div>
            <div class="p-6">
                <c:choose>
                    <c:when test="${empty pendingAppointments}">
                        <div class="text-center py-8 text-muted-foreground">
                            <i data-lucide="check-circle" class="w-8 h-8 mx-auto mb-2 text-success"></i>
                            <p>No pending requests</p>
                        </div>
                    </c:when>
                    <c:otherwise>
                        <div class="space-y-3">
                            <c:forEach var="apt" items="${pendingAppointments}">
                                <div class="p-4 bg-muted/50 rounded-lg border border-border">
                                    <div class="flex items-center justify-between mb-2">
                                        <span class="text-sm font-semibold text-foreground">
                                            ${apt.date} ${apt.time}
                                        </span>
                                    </div>
                                    <p class="text-sm text-muted-foreground mb-3">${apt.notes}</p>
                                    <div class="flex space-x-2">
                                        <form method="POST" action="/counselor/appointment/approve" class="flex-1">
                                            <input type="hidden" name="appointmentId" value="${apt.id}" />
                                            <button type="submit" class="w-full bg-primary text-primary-foreground px-3 py-1.5 rounded-md text-sm hover:opacity-90 transition-opacity">
                                                Approve
                                            </button>
                                        </form>
                                        <form method="POST" action="/counselor/appointment/deny" class="flex-1">
                                            <input type="hidden" name="appointmentId" value="${apt.id}" />
                                            <button type="submit" class="w-full border border-border bg-background text-foreground px-3 py-1.5 rounded-md text-sm hover:bg-secondary transition-colors">
                                                Deny
                                            </button>
                                        </form>
                                    </div>
                                </div>
                            </c:forEach>
                        </div>
                    </c:otherwise>
                </c:choose>
            </div>
        </div>

        <!-- Recent Activity -->
        <div class="bg-card rounded-lg shadow-sm border border-border">
            <div class="p-6 border-b border-border">
                <h2 class="text-xl font-semibold text-foreground flex items-center">
                    <i data-lucide="users" class="w-5 h-5 mr-2 text-success"></i>
                    Recent Activity
                </h2>
            </div>
            <div class="p-6">
                <div class="space-y-4">
                    <div class="flex items-start space-x-3">
                        <div class="w-2 h-2 bg-success rounded-full mt-2"></div>
                        <div class="flex-1">
                            <p class="text-sm text-foreground">New assessment completed</p>
                            <p class="text-xs text-muted-foreground">Student ID: #1234 - 15 min ago</p>
                        </div>
                    </div>
                    <div class="flex items-start space-x-3">
                        <div class="w-2 h-2 bg-info rounded-full mt-2"></div>
                        <div class="flex-1">
                            <p class="text-sm text-foreground">Module completed</p>
                            <p class="text-xs text-muted-foreground">Stress Management - 1 hour ago</p>
                        </div>
                    </div>
                    <div class="flex items-start space-x-3">
                        <div class="w-2 h-2 bg-primary rounded-full mt-2"></div>
                        <div class="flex-1">
                            <p class="text-sm text-foreground">New forum post</p>
                            <p class="text-xs text-muted-foreground">Community Discussion - 2 hours ago</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<jsp:include page="../common/footer.jsp" />

================================================================================
File: src\main\webapp\WEB-INF\jsp\counselor\profile.jsp
Size: 23 B
================================================================================

<h1>Coming Soon...</h1>

================================================================================
File: src\main\webapp\WEB-INF\jsp\counselor\schedule.jsp
Size: 12.72 kB
================================================================================

<%@ page language="java" contentType="text/html; charset=UTF-8" pageEncoding="UTF-8"%>
<%@ taglib prefix="c" uri="jakarta.tags.core" %>
<jsp:include page="../common/header.jsp" />

<div class="container mx-auto px-4 py-8">
    <div class="mb-8">
        <h1 class="text-3xl font-bold text-foreground mb-2">My Schedule</h1>
        <p class="text-muted-foreground">Manage your appointments and availability</p>
    </div>

    <div class="grid grid-cols-1 lg:grid-cols-3 gap-8">
        <!-- Calendar Section -->
        <div class="lg:col-span-1">
            <div class="bg-card rounded-lg shadow-sm border border-border">
                <div class="p-6 border-b border-border">
                    <h2 class="text-xl font-semibold text-foreground flex items-center">
                        <i data-lucide="calendar" class="w-5 h-5 mr-2 text-primary"></i>
                        Select Date
                    </h2>
                </div>
                <div class="p-6">
                    <!-- Simple Calendar Display -->
                    <div class="mb-4">
                        <div class="flex items-center justify-between mb-4">
                            <button type="button" class="p-1 hover:bg-secondary rounded">
                                <i data-lucide="chevron-left" class="w-5 h-5"></i>
                            </button>
                            <span class="font-semibold">December 2025</span>
                            <button type="button" class="p-1 hover:bg-secondary rounded">
                                <i data-lucide="chevron-right" class="w-5 h-5"></i>
                            </button>
                        </div>
                        
                        <!-- Week Headers -->
                        <div class="grid grid-cols-7 gap-1 text-center text-sm mb-2">
                            <div class="text-muted-foreground font-medium p-2">Su</div>
                            <div class="text-muted-foreground font-medium p-2">Mo</div>
                            <div class="text-muted-foreground font-medium p-2">Tu</div>
                            <div class="text-muted-foreground font-medium p-2">We</div>
                            <div class="text-muted-foreground font-medium p-2">Th</div>
                            <div class="text-muted-foreground font-medium p-2">Fr</div>
                            <div class="text-muted-foreground font-medium p-2">Sa</div>
                        </div>
                        
                        <!-- Calendar Days -->
                        <div class="grid grid-cols-7 gap-1 text-center text-sm">
                            <div class="p-2 text-muted-foreground/50">30</div>
                            <div class="p-2 hover:bg-secondary rounded cursor-pointer">1</div>
                            <div class="p-2 bg-primary text-primary-foreground rounded cursor-pointer">2</div>
                            <div class="p-2 hover:bg-secondary rounded cursor-pointer">3</div>
                            <div class="p-2 hover:bg-secondary rounded cursor-pointer">4</div>
                            <div class="p-2 hover:bg-secondary rounded cursor-pointer">5</div>
                            <div class="p-2 hover:bg-secondary rounded cursor-pointer">6</div>
                            <c:forEach begin="7" end="31" var="day">
                                <div class="p-2 hover:bg-secondary rounded cursor-pointer">${day}</div>
                            </c:forEach>
                        </div>
                    </div>
                    
                    <!-- Availability Settings -->
                    <div class="mt-6 p-4 bg-muted rounded-lg">
                        <h4 class="font-semibold mb-2 text-sm text-foreground">Availability Settings</h4>
                        <p class="text-xs text-muted-foreground mb-3">Set your working hours and days</p>
                        <button class="w-full border border-border bg-background text-foreground px-4 py-2 rounded-md text-sm hover:bg-secondary transition-colors flex items-center justify-center">
                            <i data-lucide="clock" class="w-4 h-4 mr-2"></i>
                            Configure Availability
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Appointments Section -->
        <div class="lg:col-span-2 space-y-6">
            <!-- Pending Requests -->
            <c:if test="${not empty pendingAppointments}">
                <div class="bg-card rounded-lg shadow-sm border border-border">
                    <div class="p-6 border-b border-border">
                        <h2 class="text-xl font-semibold text-foreground flex items-center">
                            <i data-lucide="clock" class="w-5 h-5 mr-2 text-info"></i>
                            Pending Requests (${pendingAppointments.size()})
                        </h2>
                    </div>
                    <div class="p-6">
                        <div class="space-y-3">
                            <c:forEach var="apt" items="${pendingAppointments}">
                                <div class="p-4 bg-info/10 rounded-lg border border-info/20">
                                    <div class="flex items-start justify-between">
                                        <div class="flex-1">
                                            <div class="flex items-center space-x-2 mb-2">
                                                <span class="font-semibold text-foreground">
                                                    ${apt.date} at ${apt.time}
                                                </span>
                                                <span class="px-2 py-0.5 text-xs rounded-full bg-secondary text-secondary-foreground">Pending</span>
                                            </div>
                                            <p class="text-sm text-muted-foreground">${apt.notes}</p>
                                        </div>
                                        <div class="flex space-x-2 ml-4">
                                            <form method="POST" action="/counselor/appointment/approve">
                                                <input type="hidden" name="appointmentId" value="${apt.id}" />
                                                <button type="submit" class="inline-flex items-center px-3 py-1.5 bg-primary text-primary-foreground rounded-md text-sm hover:opacity-90 transition-opacity">
                                                    <i data-lucide="check-circle" class="w-4 h-4 mr-1"></i>
                                                    Approve
                                                </button>
                                            </form>
                                            <form method="POST" action="/counselor/appointment/deny">
                                                <input type="hidden" name="appointmentId" value="${apt.id}" />
                                                <button type="submit" class="inline-flex items-center px-3 py-1.5 border border-destructive text-destructive rounded-md text-sm hover:bg-destructive/10 transition-colors">
                                                    <i data-lucide="x-circle" class="w-4 h-4 mr-1"></i>
                                                    Deny
                                                </button>
                                            </form>
                                        </div>
                                    </div>
                                </div>
                            </c:forEach>
                        </div>
                    </div>
                </div>
            </c:if>

            <!-- Selected Date Appointments -->
            <div class="bg-card rounded-lg shadow-sm border border-border">
                <div class="p-6 border-b border-border">
                    <h2 class="text-xl font-semibold text-foreground flex items-center">
                        <i data-lucide="calendar" class="w-5 h-5 mr-2 text-primary"></i>
                        Appointments on December 02, 2025
                    </h2>
                </div>
                <div class="p-6">
                    <c:choose>
                        <c:when test="${empty todayAppointments}">
                            <div class="text-center py-8 text-muted-foreground">
                                <i data-lucide="calendar" class="w-12 h-12 mx-auto mb-2 text-muted-foreground/50"></i>
                                <p>No appointments scheduled for this date</p>
                            </div>
                        </c:when>
                        <c:otherwise>
                            <div class="space-y-3">
                                <c:forEach var="apt" items="${todayAppointments}">
                                    <c:set var="statusColor">
                                        <c:choose>
                                            <c:when test="${apt.status == 'confirmed'}">bg-success/10 border-success/20</c:when>
                                            <c:when test="${apt.status == 'pending'}">bg-info/10 border-info/20</c:when>
                                            <c:when test="${apt.status == 'cancelled'}">bg-destructive/10 border-destructive/20</c:when>
                                            <c:otherwise>bg-muted border-border</c:otherwise>
                                        </c:choose>
                                    </c:set>
                                    
                                    <div class="p-4 rounded-lg border ${statusColor}">
                                        <div class="flex items-start justify-between mb-3">
                                            <div class="flex-1">
                                                <div class="flex items-center space-x-2 mb-1">
                                                    <i data-lucide="clock" class="w-4 h-4 text-muted-foreground"></i>
                                                    <span class="font-semibold text-foreground">${apt.time}</span>
                                                    <c:choose>
                                                        <c:when test="${apt.status == 'confirmed'}">
                                                            <span class="px-2 py-0.5 text-xs rounded-full bg-primary text-primary-foreground">Confirmed</span>
                                                        </c:when>
                                                        <c:when test="${apt.status == 'pending'}">
                                                            <span class="px-2 py-0.5 text-xs rounded-full bg-secondary text-secondary-foreground">Pending</span>
                                                        </c:when>
                                                        <c:when test="${apt.status == 'cancelled'}">
                                                            <span class="px-2 py-0.5 text-xs rounded-full bg-destructive text-destructive-foreground">Cancelled</span>
                                                        </c:when>
                                                    </c:choose>
                                                </div>
                                                <p class="text-sm text-muted-foreground">${apt.notes}</p>
                                            </div>
                                        </div>
                                        
                                        <c:if test="${apt.status == 'confirmed'}">
                                            <button class="w-full inline-flex items-center justify-center bg-primary text-primary-foreground px-4 py-2 rounded-md text-sm hover:opacity-90 transition-opacity">
                                                <i data-lucide="video" class="w-4 h-4 mr-2"></i>
                                                Join Telehealth Call
                                            </button>
                                        </c:if>
                                    </div>
                                </c:forEach>
                            </div>
                        </c:otherwise>
                    </c:choose>
                </div>
            </div>
        </div>
    </div>
</div>

<jsp:include page="../common/footer.jsp" />

================================================================================
File: src\main\webapp\WEB-INF\jsp\student\assessment-list.jsp
Size: 1.9 kB
================================================================================

<%@ page language="java" contentType="text/html; charset=UTF-8" pageEncoding="UTF-8"%>
<jsp:include page="../common/header.jsp" />

<div class="space-y-6">
    <div>
        <h1 class="text-3xl font-bold text-foreground">Assessment List</h1>
        <p class="text-muted-foreground mt-2">Select an assessment to begin or view your previous results.</p>
    </div>

    <div class="bg-card p-6 rounded-lg shadow-sm border border-border">
        <h2 class="text-xl font-semibold mb-6 text-foreground">Available Assessments</h2>
        
        <ul class="space-y-4">
            <li class="border-b border-border pb-4 last:border-0 last:pb-0">
                <div class="flex items-start gap-4">
                    <div class="p-2 bg-secondary rounded-full mt-1 shrink-0">
                        <i data-lucide="clipboard-list" class="h-5 w-5 text-primary"></i>
                    </div>
                    
                    <div>
                        <a href="/student/assessment/take" class="text-lg font-medium text-primary hover:text-primary/80 hover:underline transition-colors">
                            Mental Health Screening Assessment
                        </a>
                        <p class="text-muted-foreground text-sm mt-1">A comprehensive assessment to evaluate your mental health status.</p>
                    </div>
                    
                    <div class="ml-auto hidden sm:block">
                        <a href="/student/assessment/take" class="bg-primary text-primary-foreground px-4 py-2 rounded-md text-sm font-medium hover:opacity-90 transition-opacity">
                            Start
                        </a>
                    </div>
                </div>
            </li>
        </ul>
    </div>
</div>

<jsp:include page="chatbot-widget.jsp" /> 
<jsp:include page="../common/footer.jsp" />

================================================================================
File: src\main\webapp\WEB-INF\jsp\student\assessment-questions.jsp
Size: 12.34 kB
================================================================================

<%@ page language="java" contentType="text/html; charset=UTF-8" pageEncoding="UTF-8"%>
<%@ taglib prefix="c" uri="http://java.sun.com/jsp/jstl/core" %>
<%@ taglib prefix="fmt" uri="http://java.sun.com/jsp/jstl/fmt" %>
<jsp:include page="../common/header.jsp" />

<div class="container mx-auto px-4 py-8">
    <div class="mb-8">
        <h1 class="text-3xl font-bold text-foreground">Self-Assessment</h1>
        <p class="text-muted-foreground">AI-guided assessment to identify areas for support</p>
    </div>

    <div class="max-w-2xl mx-auto">
        <div class="bg-card p-6 rounded-lg shadow-lg border border-border" style="--tw-bg-opacity: 1;">
            
            <c:choose>
                <c:when test="${requestScope.showResults == true}">
                    
                    <%-- ------------------------------------------------ --%>
                    <%-- ‚úÖ ASSESSMENT RESULTS UI (Uses Custom CSS Vars) --%>
                    <%-- ------------------------------------------------ --%>
                    <div class="text-center space-y-6">
                        <div class="p-6 rounded-lg" style="background-color: hsl(var(--secondary));">
                            <h3 class="text-xl font-semibold mb-4 text-card-foreground">Assessment Results</h3>
                            
                            <div class="space-y-4">
                                <div class="inline-flex items-center space-x-4">
                                    <div class="text-4xl font-bold" style="color: hsl(var(--primary));">
                                        ${requestScope.score}%
                                    </div>
                                    <%-- The bg and color vars must be calculated in the Java Controller based on the score --%>
                                    <div class="px-3 py-1 rounded-full ${requestScope.bg}">
                                        <span class="font-medium ${requestScope.color}">
                                            ${requestScope.level} Symptoms
                                        </span>
                                    </div>
                                </div>
                                
                                <p class="text-sm text-muted-foreground">
                                    ${requestScope.action}
                                </p>
                            </div>
                        </div>

                        <div class="flex space-x-4 justify-center">
                            <%-- Retake/Reset button (Style: variant="outline" using secondary/primary-foreground) --%>
                            <a href="/student/assessment/reset" 
                                class="border border-input text-foreground px-6 py-2.5 rounded-md hover:bg-secondary transition-colors font-medium focus:ring-2 focus:ring-ring focus:ring-offset-2">
                                Retake Assessment
                            </a>
                            <%-- Explore Resources button (Style: variant="default" using primary) --%>
                            <a href="/student/resources" 
                                class="bg-primary text-primary-foreground px-6 py-2.5 rounded-md hover:opacity-90 transition-opacity font-medium shadow-sm">
                                Explore Resources
                            </a>
                        </div>
                    </div>
                    
                </c:when>
                
                <c:otherwise>
                    
                    <%-- ------------------------------------------------ --%>
                    <%-- ‚ùì QUESTION DISPLAY UI (Uses Custom CSS Vars) --%>
                    <%-- ------------------------------------------------ --%>
                    
                    <div class="card-header text-center">
                        <h2 class="flex items-center justify-center text-2xl font-semibold mb-2 text-card-foreground">
                            <i data-lucide="heart" class="w-6 h-6 mr-2" style="color: hsl(330 55% 60%);"></i>
                            Mental Health Self-Assessment
                        </h2>
                        <div class="space-y-2 text-sm text-muted-foreground">
                            <p>This validated assessment helps identify areas for support.</p>
                        </div>
                    </div>
                    
                    <form method="POST" action="/student/assessment/submit" class="space-y-6 mt-6">
                        <%-- Hidden field to submit the current question index or ID for backend tracking --%>
                        <input type="hidden" name="currentQuestionIndex" value="${requestScope.currentQuestionIndex}">
                        
                        <%-- Progress indicator --%>
                        <c:set var="total" value="${requestScope.totalQuestions}" />
                        <c:set var="current" value="${requestScope.currentQuestionIndex}" />
                        <c:set var="progress" value="${(current / total) * 100}" />

                        <div class="space-y-2">
                            <div class="flex justify-between text-sm text-muted-foreground">
                                <span>Question ${current + 1} of ${total}</span>
                                <span><fmt:formatNumber value="${progress}" pattern="0" />% Complete</span>
                            </div>
                            <div class="progress h-2 rounded-full" style="background-color: hsl(var(--muted));">
                                <div class="progress-bar h-full rounded-full" style="width: ${progress}%; background-color: hsl(var(--primary));" role="progressbar" aria-valuenow="${progress}" aria-valuemin="0" aria-valuemax="100"></div>
                            </div>
                        </div>

                        <%-- Question --%>
                        <div class="text-center py-8">
                            <h3 class="text-lg font-medium mb-6 leading-relaxed text-card-foreground">
                                ${requestScope.currentQuestion}
                            </h3>

                            <div class="grid grid-cols-1 sm:grid-cols-2 gap-3">
                                <c:forEach var="option" items="${requestScope.responseOptions}" varStatus="loop">
                                    <c:set var="uniqueId" value="option_${option.value}"/>
                                    
                                    <%-- Radio buttons styled as buttons --%>
                                    
                                    <label for="${uniqueId}" 
                                        class="h-auto p-4 text-center cursor-pointer border rounded-lg transition-all 
                                        text-card-foreground border-input 
                                        hover:bg-secondary hover:border-primary 
                                        has-[:checked]:bg-primary has-[:checked]:text-primary-foreground has-[:checked]:border-primary">
                                        
                                        <input type="radio" class="hidden" name="response" id="${uniqueId}" value="${option.value}" required>

                                        <div class="w-full">
                                            <div class="font-medium">${option.value}</div>
                                            <div class="text-xs mt-1">${option.label}</div>
                                        </div>
                                    </label>
                                </c:forEach>
                            </div>
                        </div>

                        <%-- Navigation --%>
                        <div class="flex justify-between pt-4">
                            <%-- Previous Button (Style: variant="ghost") --%>
                            <button type="submit" name="direction" value="previous"
                                class="text-foreground px-4 py-2 hover:bg-muted rounded-md transition-colors"
                                <c:if test="${current == 0}">disabled</c:if>>
                                Previous
                            </button>
                            
                            <%-- Next/Complete Button (Style: variant="default") --%>
                            <button type="submit" name="direction" value="next"
                                class="bg-primary text-primary-foreground px-6 py-2.5 rounded-md hover:opacity-90 transition-opacity font-medium shadow-sm">
                                <c:choose>
                                    <c:when test="${current + 1 == total}">
                                        Complete Assessment
                                    </c:when>
                                    <c:otherwise>
                                        Next Question 
                                        <i data-lucide="arrow-right" class="w-4 h-4 ml-1 inline-block"></i>
                                    </c:otherwise>
                                </c:choose>
                            </button>
                        </div>
                    </form>
                    
                </c:otherwise>
            </c:choose>
            
        </div>
    </div>
</div>

<%-- ------------------------------------------------ --%>
<%-- ‚ö†Ô∏è HIGH-RISK CONSENT DIALOG (Separate Element) --%>
<%-- ------------------------------------------------ --%>

<c:if test="${requestScope.showConsentDialog == true}">
    <%-- Backdrop: fixed, opaque, covers entire screen --%>
    <div class="fixed inset-0 z-50 bg-background/80 flex items-center justify-center backdrop-blur-sm" 
         style="background-color: hsla(var(--background), 0.8);">
        
        <%-- Dialog Content (Modal) --%>
        <div class="w-full max-w-md bg-card p-6 rounded-lg shadow-2xl animate-in fade-in zoom-in-95" 
             style="border: 1px solid hsl(var(--border)); background-color: hsl(var(--card));">
            
            <div class="space-y-4">
                <h3 class="flex items-center text-lg font-semibold text-card-foreground">
                    <i data-lucide="alert-triangle" class="w-5 h-5 mr-2" style="color: hsl(0 84.2% 60.2%);"></i>
                    Additional Support Available
                </h3>
                
                <p class="text-sm text-card-foreground">
                    Your assessment indicates you may benefit from additional professional support. 
                    Would you like us to share your results with a counselor who can provide personalized guidance?
                </p>
                
                <div class="p-3 rounded-md" style="background-color: hsl(var(--secondary));">
                    <p class="text-xs" style="color: hsl(var(--primary));">
                        üîí Your privacy is important. Sharing is optional and you can withdraw consent at any time.
                    </p>
                </div>
                
                <div class="flex space-x-3 pt-2">
                    <%-- Yes Button --%>
                    <a href="/student/assessment/consent?share=true" 
                        class="flex-1 bg-primary text-primary-foreground text-center px-4 py-2 rounded-md hover:opacity-90 transition-opacity font-medium shadow-sm">
                        Yes, Share Results
                    </a>
                    <%-- No Button --%>
                    <a href="/student/assessment/consent?share=false" 
                        class="flex-1 border border-input text-foreground text-center px-4 py-2 rounded-md hover:bg-secondary transition-colors font-medium">
                        Keep Private
                    </a>
                </div>
            </div>
        </div>
    </div>
</c:if>

<%-- Script to initialize Lucide/Feather icons --%>
<script>
    if (typeof feather !== 'undefined') {
        feather.replace();
    }
</script>

<jsp:include page="chatbot-widget.jsp" /> 
<jsp:include page="../common/footer.jsp" />

================================================================================
File: src\main\webapp\WEB-INF\jsp\student\assessment-result.jsp
Size: 1.25 kB
================================================================================

<%@ page language="java" contentType="text/html; charset=UTF-8" pageEncoding="UTF-8"%>
<jsp:include page="../common/header.jsp" />

<div class="space-y-6">
    <h1 class="text-3xl font-bold text-foreground">Assessment Result</h1>

    <div class="bg-card p-6 rounded-lg shadow-sm border border-border">
        <div class="flex items-center gap-3 mb-4">
            <div class="p-2 bg-secondary rounded-full">
                <i data-lucide="activity" class="h-5 w-5 text-primary"></i>
            </div>
            <h2 class="text-xl font-semibold text-foreground">Your Assessment Results</h2>
        </div>
        
        <p class="text-muted-foreground mb-6">Based on your responses, here are your results and recommendations.</p>
        
        <div class="bg-secondary/50 border border-border/50 p-6 rounded-md flex flex-col items-center justify-center text-center space-y-3 min-h-[150px]">
            <i data-lucide="clipboard-check" class="h-8 w-8 text-muted-foreground/50"></i>
            <p class="text-foreground font-medium">Results will be displayed here after completing an assessment.</p>
        </div>
    </div>
</div>

<jsp:include page="chatbot-widget.jsp" /> 
<jsp:include page="../common/footer.jsp" />

================================================================================
File: src\main\webapp\WEB-INF\jsp\student\chatbot-widget.jsp
Size: 6.38 kB
================================================================================

<%@ page language="java" contentType="text/html; charset=UTF-8" pageEncoding="UTF-8"%>
<%@ taglib prefix="c" uri="jakarta.tags.core" %>

<%--
    JSP Chatbot Widget Fragment - STUDENT ONLY
    Embedded on every page (via footer.jsp), but only displays for students.
--%>

<!-- Only render chatbot for students -->
<c:if test="${role == 'student'}">
    <div id="ai-chat-widget" class="z-50">
        
        <%-- 1. Floating Chat Button --%>
        <button
            id="chat-open-button"
            onclick="toggleChatWindow(true)"
            class="fixed bottom-6 right-6 z-50 h-16 w-16 rounded-full shadow-xl bg-primary text-primary-foreground hover:scale-110 transition-all duration-300 group"
            aria-label="Open AI Chat"
        >
            <%-- Icon with subtle animation --%>
            <i data-lucide="message-circle" class="h-7 w-7 mx-auto group-hover:scale-110 transition-transform"></i>
            
            <%-- Notification badge (optional - can be dynamic later) --%>
            <span class="absolute -top-1 -right-1 w-5 h-5 bg-green-500 rounded-full border-2 border-white animate-pulse"></span>
        </button>

        <%-- 2. Chat Window --%>
        <div
            id="chat-window"
            class="fixed bottom-6 right-6 z-50 w-[380px] h-[600px] shadow-2xl flex flex-col bg-card rounded-2xl border border-border hidden"
        >
            
            <%-- Header --%>
            <div class="p-4 border-b border-border bg-gradient-to-r from-primary/10 to-primary/5 rounded-t-2xl">
                <div class="flex items-center justify-between mb-3">
                    <div class="flex items-center gap-3">
                        <%-- Bot Avatar --%>
                        <div class="w-10 h-10 rounded-full bg-primary/20 flex items-center justify-center border-2 border-primary/30">
                            <i data-lucide="bot" class="h-5 w-5 text-primary"></i>
                        </div>
                        <div>
                            <h3 class="font-semibold text-base text-foreground">AI Support Assistant</h3>
                            <p class="text-xs text-muted-foreground flex items-center gap-1">
                                <span class="w-2 h-2 bg-green-500 rounded-full animate-pulse"></span>
                                Online
                            </p>
                        </div>
                    </div>
                    <button
                        onclick="toggleChatWindow(false)"
                        class="p-1.5 rounded-lg text-muted-foreground hover:bg-secondary hover:text-foreground transition-colors"
                        aria-label="Close Chat"
                    >
                        <i data-lucide="x" class="h-5 w-5"></i>
                    </button>
                </div>
                
                <%-- Appointment CTA --%>
                <div class="flex items-center justify-between text-xs bg-card rounded-lg p-2.5 shadow-sm border border-border/50">
                    <span class="flex items-center gap-1.5 text-muted-foreground">
                        <i data-lucide="calendar" class="h-3.5 w-3.5 text-primary"></i>
                        Need professional help?
                    </span>
                    <a 
                        href="/student/telehealth"
                        class="text-primary hover:text-primary/80 font-semibold transition-colors" 
                    >
                        Book Now ‚Üí
                    </a>
                </div>
            </div>

            <%-- Messages Container --%>
            <div id="messages-container" class="flex-1 overflow-y-auto p-4 space-y-3 bg-background/50">
                <%-- Dynamic messages will be rendered here --%>
            </div>

            <%-- Typing Indicator --%>
            <div id="typing-indicator" class="px-4 pb-2 hidden">
                <div class="flex items-start gap-2">
                    <div class="w-8 h-8 rounded-full bg-primary/20 flex items-center justify-center border border-primary/30 shrink-0">
                        <i data-lucide="bot" class="h-4 w-4 text-primary"></i>
                    </div>
                    <div class="bg-secondary rounded-2xl rounded-tl-sm px-4 py-3 shadow-sm">
                        <div class="flex gap-1">
                            <div class="w-2 h-2 rounded-full bg-primary/60 animate-bounce" style="animation-delay: 0ms"></div>
                            <div class="w-2 h-2 rounded-full bg-primary/60 animate-bounce" style="animation-delay: 150ms"></div>
                            <div class="w-2 h-2 rounded-full bg-primary/60 animate-bounce" style="animation-delay: 300ms"></div>
                        </div>
                    </div>
                </div>
            </div>

            <%-- Input Area --%>
            <div class="p-4 border-t border-border bg-card rounded-b-2xl">
                <form onsubmit="handleSendMessage(); return false;" class="flex gap-2">
                    <input
                        id="chat-input"
                        type="text"
                        placeholder="Type your message..."
                        class="flex-1 h-11 rounded-xl border border-input bg-background px-4 py-2 text-sm text-foreground placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-primary/50 focus:border-primary transition-all"
                        autocomplete="off"
                    />
                    <button
                        id="chat-send-button"
                        type="submit"
                        class="h-11 w-11 rounded-xl bg-primary text-primary-foreground hover:bg-primary/90 transition-all flex items-center justify-center disabled:opacity-50 disabled:cursor-not-allowed shadow-sm hover:shadow-md"
                        aria-label="Send Message"
                    >
                        <i data-lucide="send" class="h-4 w-4"></i>
                    </button>
                </form>
                <p class="text-[10px] text-muted-foreground text-center mt-2">
                    AI can make mistakes. Consider checking important information.
                </p>
            </div>
        </div>
    </div>
</c:if>

================================================================================
File: src\main\webapp\WEB-INF\jsp\student\content-library.jsp
Size: 3.36 kB
================================================================================

<%@ page language="java" contentType="text/html; charset=UTF-8" pageEncoding="UTF-8"%>
<jsp:include page="../common/header.jsp" />

<div class="space-y-6">
    <div>
        <h1 class="text-3xl font-bold text-foreground">Content Library</h1>
        <p class="text-muted-foreground mt-2">Browse articles, videos, and resources to support your mental health journey.</p>
    </div>

    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
        
        <div class="bg-card p-6 rounded-lg shadow-sm border border-border hover:shadow-md transition-shadow flex flex-col h-full">
            <div class="mb-4">
                <div class="p-3 bg-secondary w-fit rounded-full mb-3">
                    <i data-lucide="brain-circuit" class="h-6 w-6 text-primary"></i>
                </div>
                <h3 class="text-xl font-semibold mb-2 text-foreground">Understanding Anxiety</h3>
                <p class="text-muted-foreground text-sm">Learn about anxiety and effective coping strategies.</p>
            </div>
            <div class="mt-auto pt-4">
                <a href="/student/library/view" class="text-primary font-medium hover:text-primary/80 hover:underline inline-flex items-center gap-1 transition-colors">
                    Read More <i data-lucide="arrow-right" class="h-4 w-4"></i>
                </a>
            </div>
        </div>

        <div class="bg-card p-6 rounded-lg shadow-sm border border-border hover:shadow-md transition-shadow flex flex-col h-full">
             <div class="mb-4">
                <div class="p-3 bg-secondary w-fit rounded-full mb-3">
                    <i data-lucide="leaf" class="h-6 w-6 text-primary"></i>
                </div>
                <h3 class="text-xl font-semibold mb-2 text-foreground">Stress Management Techniques</h3>
                <p class="text-muted-foreground text-sm">Practical tips for managing daily stress.</p>
            </div>
            <div class="mt-auto pt-4">
                <a href="/student/library/view" class="text-primary font-medium hover:text-primary/80 hover:underline inline-flex items-center gap-1 transition-colors">
                    Read More <i data-lucide="arrow-right" class="h-4 w-4"></i>
                </a>
            </div>
        </div>

        <div class="bg-card p-6 rounded-lg shadow-sm border border-border hover:shadow-md transition-shadow flex flex-col h-full">
             <div class="mb-4">
                <div class="p-3 bg-secondary w-fit rounded-full mb-3">
                    <i data-lucide="shield-check" class="h-6 w-6 text-primary"></i>
                </div>
                <h3 class="text-xl font-semibold mb-2 text-foreground">Building Resilience</h3>
                <p class="text-muted-foreground text-sm">Develop resilience to overcome life's challenges.</p>
            </div>
            <div class="mt-auto pt-4">
                <a href="/student/library/view" class="text-primary font-medium hover:text-primary/80 hover:underline inline-flex items-center gap-1 transition-colors">
                    Read More <i data-lucide="arrow-right" class="h-4 w-4"></i>
                </a>
            </div>
        </div>
    </div>
</div>

<jsp:include page="chatbot-widget.jsp" /> 
<jsp:include page="../common/footer.jsp" />

================================================================================
File: src\main\webapp\WEB-INF\jsp\student\content-view.jsp
Size: 2.39 kB
================================================================================

<%@ page language="java" contentType="text/html; charset=UTF-8" pageEncoding="UTF-8"%>
<jsp:include page="../common/header.jsp" />

<div class="space-y-6">
    <div>
        <a href="/student/library" class="text-muted-foreground hover:text-foreground inline-flex items-center gap-2 transition-colors text-sm font-medium">
            <i data-lucide="arrow-left" class="h-4 w-4"></i>
            Back to Library
        </a>
    </div>

    <div class="bg-card shadow-sm border border-border sm:rounded-lg p-8">
        
        <div class="border-b border-border pb-6 mb-6">
            <div class="flex items-center gap-2 mb-3">
                 <span class="px-2.5 py-0.5 bg-secondary text-primary text-xs font-semibold rounded-full border border-primary/20">Article</span>
                 <span class="text-muted-foreground text-xs font-medium">‚Ä¢ 5 min read</span>
            </div>
            <h1 class="text-3xl font-bold text-foreground mb-3">Understanding Anxiety</h1>
            <div class="flex items-center gap-2 text-sm text-muted-foreground">
                <div class="bg-secondary p-1 rounded-full">
                    <i data-lucide="user" class="h-3 w-3 text-primary"></i>
                </div>
                <span>By Dr. Smith</span>
            </div>
        </div>

        <div class="prose max-w-none text-muted-foreground leading-relaxed">
            <p class="mb-6 text-foreground text-lg">[Placeholder Content] Anxiety is a normal reaction to stress...</p>
            
            <div class="bg-secondary/30 border border-border p-4 rounded-md flex items-start gap-3">
                <i data-lucide="info" class="h-5 w-5 text-primary shrink-0 mt-0.5"></i>
                <p class="text-sm italic text-foreground">(This is a demo article view. In the real app, this content would be pulled from the database based on the ID.)</p>
            </div>
        </div>
        
        <div class="mt-8 pt-6 border-t border-border">
            <a href="/student/library" class="text-primary hover:text-primary/80 font-medium inline-flex items-center gap-2 transition-colors">
                <i data-lucide="arrow-left" class="h-4 w-4"></i>
                Back to Library
            </a>
        </div>
    </div>
</div>

<jsp:include page="chatbot-widget.jsp" /> 
<jsp:include page="../common/footer.jsp" />

================================================================================
File: src\main\webapp\WEB-INF\jsp\student\dashboard.jsp
Size: 24.71 kB
================================================================================

<%@ page language="java" contentType="text/html; charset=UTF-8" pageEncoding="UTF-8"%>
<%@ taglib prefix="c" uri="jakarta.tags.core" %>
<jsp:include page="../common/header.jsp" />

<div class="container mx-auto px-4 py-8">
    <!-- Welcome Section -->
    <div class="mb-8">
        <h1 class="text-3xl font-bold text-foreground mb-2">Welcome back, ${sessionScope.userName != null ? sessionScope.userName : 'Student'}!</h1>
        <p class="text-muted-foreground">How are you feeling today?</p>
    </div>

    <!-- Quick Start Card -->
    <div class="bg-gradient-to-r from-primary/10 to-primary/5 p-6 rounded-lg shadow-sm border border-primary/20 mb-8">
        <div class="flex items-center justify-between">
            <div>
                <h3 class="text-xl font-semibold text-foreground mb-2">Quick Start: How are you feeling?</h3>
                <p class="text-muted-foreground mb-4">Take a quick self-assessment to get personalized support</p>
                <a href="/student/assessment" class="inline-flex items-center gap-2 bg-primary text-primary-foreground px-4 py-2 rounded-md hover:opacity-90 transition-opacity font-medium">
                    <i data-lucide="heart" class="w-4 h-4"></i>
                    Take Student Survey
                </a>
            </div>
            <i data-lucide="heart" class="w-20 h-20 text-primary opacity-20"></i>
        </div>
    </div>

    <!-- New in Learning Hub -->
    <div class="bg-card p-6 rounded-lg shadow-sm border border-border mb-8">
        <div class="flex items-center mb-4">
            <i data-lucide="book-open" class="w-5 h-5 mr-2 text-success"></i>
            <h2 class="text-xl font-semibold text-foreground">New in the Learning Hub</h2>
        </div>
        <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
            <!-- Learning Item 1 -->
            <div class="p-4 bg-secondary/30 rounded-lg border border-border hover:shadow-md transition-all cursor-pointer">
                <span class="px-2 py-0.5 bg-secondary text-secondary-foreground text-xs rounded-full border border-border">article</span>
                <h4 class="font-semibold text-foreground mt-2 mb-1">Stress Management 101</h4>
                <p class="text-sm text-muted-foreground line-clamp-2">Learn effective stress coping strategies for students</p>
                <a href="/student/library" class="text-primary text-sm font-medium mt-2 inline-block hover:underline">
                    Learn more ‚Üí
                </a>
            </div>
            <!-- Learning Item 2 -->
            <div class="p-4 bg-secondary/30 rounded-lg border border-border hover:shadow-md transition-all cursor-pointer">
                <span class="px-2 py-0.5 bg-secondary text-secondary-foreground text-xs rounded-full border border-border">video</span>
                <h4 class="font-semibold text-foreground mt-2 mb-1">Mindfulness Meditation Guide</h4>
                <p class="text-sm text-muted-foreground line-clamp-2">15-minute guided meditation for anxiety relief</p>
                <a href="/student/library" class="text-primary text-sm font-medium mt-2 inline-block hover:underline">
                    Learn more ‚Üí
                </a>
            </div>
            <!-- Learning Item 3 -->
            <div class="p-4 bg-secondary/30 rounded-lg border border-border hover:shadow-md transition-all cursor-pointer">
                <span class="px-2 py-0.5 bg-secondary text-secondary-foreground text-xs rounded-full border border-border">article</span>
                <h4 class="font-semibold text-foreground mt-2 mb-1">Sleep Hygiene</h4>
                <p class="text-sm text-muted-foreground line-clamp-2">Interactive module on building better sleep habits</p>
                <a href="/student/library" class="text-primary text-sm font-medium mt-2 inline-block hover:underline">
                    Learn more ‚Üí
                </a>
            </div>
        </div>
    </div>

    <div class="grid grid-cols-1 lg:grid-cols-3 gap-8">
        <!-- Left Column (2/3 width) -->
        <div class="lg:col-span-2 space-y-6">
            
            <!-- Progress Dashboard -->
            <div class="bg-card p-6 rounded-lg shadow-sm border border-border">
                <div class="flex items-center justify-between mb-6">
                    <div class="flex items-center">
                        <i data-lucide="trending-up" class="w-5 h-5 mr-2 text-info"></i>
                        <h2 class="text-xl font-semibold text-foreground">Progress Dashboard</h2>
                    </div>
                    <select class="px-3 py-1.5 border border-input rounded-md bg-background text-sm">
                        <option>This Week</option>
                        <option>This Month</option>
                        <option>This Quarter</option>
                    </select>
                </div>

                <!-- Weekly Mood Tracker -->
                <div class="mb-6">
                    <div class="flex justify-between items-center mb-4">
                        <h4 class="font-medium text-foreground">Weekly Mood Tracker</h4>
                        <span class="px-2 py-0.5 bg-success/20 text-success text-sm rounded-full">7.4/10</span>
                    </div>
                    <div class="grid grid-cols-7 gap-2">
                        <div class="text-center">
                            <div class="text-xs text-muted-foreground mb-1">Mon</div>
                            <div class="bg-info/20 rounded-full h-8 flex items-center justify-center text-sm font-medium text-info">7</div>
                        </div>
                        <div class="text-center">
                            <div class="text-xs text-muted-foreground mb-1">Tue</div>
                            <div class="bg-info/20 rounded-full h-8 flex items-center justify-center text-sm font-medium text-info">6</div>
                        </div>
                        <div class="text-center">
                            <div class="text-xs text-muted-foreground mb-1">Wed</div>
                            <div class="bg-info/20 rounded-full h-8 flex items-center justify-center text-sm font-medium text-info">8</div>
                        </div>
                        <div class="text-center">
                            <div class="text-xs text-muted-foreground mb-1">Thu</div>
                            <div class="bg-info/20 rounded-full h-8 flex items-center justify-center text-sm font-medium text-info">7</div>
                        </div>
                        <div class="text-center">
                            <div class="text-xs text-muted-foreground mb-1">Fri</div>
                            <div class="bg-info/20 rounded-full h-8 flex items-center justify-center text-sm font-medium text-info">9</div>
                        </div>
                        <div class="text-center">
                            <div class="text-xs text-muted-foreground mb-1">Sat</div>
                            <div class="bg-info/20 rounded-full h-8 flex items-center justify-center text-sm font-medium text-info">8</div>
                        </div>
                        <div class="text-center">
                            <div class="text-xs text-muted-foreground mb-1">Sun</div>
                            <div class="bg-info/20 rounded-full h-8 flex items-center justify-center text-sm font-medium text-info">7</div>
                        </div>
                    </div>
                </div>

                <!-- Activity Progress -->
                <div>
                    <h4 class="font-medium text-foreground mb-4">Activity Progress</h4>
                    <div class="space-y-4">
                        <div>
                            <div class="flex justify-between text-sm mb-1">
                                <span class="flex items-center">
                                    <i data-lucide="book-open" class="w-4 h-4 mr-1"></i>
                                    Stress Management
                                </span>
                                <span>75%</span>
                            </div>
                            <div class="w-full bg-secondary rounded-full h-2">
                                <div class="bg-primary h-2 rounded-full" style="width: 75%"></div>
                            </div>
                        </div>
                        <div>
                            <div class="flex justify-between text-sm mb-1">
                                <span class="flex items-center">
                                    <i data-lucide="book-open" class="w-4 h-4 mr-1"></i>
                                    Sleep Hygiene
                                </span>
                                <span>50%</span>
                            </div>
                            <div class="w-full bg-secondary rounded-full h-2">
                                <div class="bg-primary h-2 rounded-full" style="width: 50%"></div>
                            </div>
                        </div>
                        <div>
                            <div class="flex justify-between text-sm mb-1">
                                <span class="flex items-center">
                                    <i data-lucide="book-open" class="w-4 h-4 mr-1"></i>
                                    Social Skills
                                </span>
                                <span>90%</span>
                            </div>
                            <div class="w-full bg-secondary rounded-full h-2">
                                <div class="bg-primary h-2 rounded-full" style="width: 90%"></div>
                            </div>
                        </div>
                        <div>
                            <div class="flex justify-between text-sm mb-1">
                                <span class="flex items-center">
                                    <i data-lucide="heart" class="w-4 h-4 mr-1"></i>
                                    Self-Assessment
                                </span>
                                <span>100%</span>
                            </div>
                            <div class="w-full bg-secondary rounded-full h-2">
                                <div class="bg-primary h-2 rounded-full" style="width: 100%"></div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- AI Recommendations -->
            <div class="bg-card p-6 rounded-lg shadow-sm border border-border">
                <div class="flex items-center justify-between mb-4">
                    <h2 class="text-xl font-semibold text-foreground">AI Recommendations</h2>
                    <div class="flex items-center space-x-2">
                        <select class="px-3 py-1.5 border border-input rounded-md bg-background text-sm">
                            <option>All Topics</option>
                            <option>Stress</option>
                            <option>Sleep</option>
                            <option>Anxiety</option>
                        </select>
                        <button class="p-1.5 border border-input rounded-md hover:bg-secondary transition-colors">
                            <i data-lucide="refresh-cw" class="w-4 h-4"></i>
                        </button>
                    </div>
                </div>

                <div class="space-y-4">
                    <!-- Recommendation 1 -->
                    <div class="p-4 bg-secondary/30 rounded-lg hover:bg-secondary/50 transition-colors">
                        <div class="flex items-start justify-between">
                            <div class="flex-1">
                                <div class="flex items-center space-x-2 mb-2">
                                    <i data-lucide="video" class="w-4 h-4"></i>
                                    <h4 class="font-medium text-foreground">Mindfulness for Beginners</h4>
                                </div>
                                <p class="text-sm text-muted-foreground mb-2">Based on your stress levels, try this calming session</p>
                                <div class="flex items-center space-x-3 text-xs text-muted-foreground">
                                    <span class="px-2 py-0.5 bg-background rounded-full border border-border">video</span>
                                    <span>15 min</span>
                                    <span class="px-2 py-0.5 bg-background rounded-full border border-border">stress</span>
                                </div>
                            </div>
                            <div class="flex items-center space-x-1 ml-4">
                                <button class="p-2 hover:bg-background rounded-md transition-colors">
                                    <i data-lucide="bookmark" class="w-4 h-4"></i>
                                </button>
                                <button class="p-2 hover:bg-background rounded-md transition-colors">
                                    <i data-lucide="thumbs-up" class="w-4 h-4"></i>
                                </button>
                                <button class="p-2 hover:bg-background rounded-md transition-colors">
                                    <i data-lucide="thumbs-down" class="w-4 h-4"></i>
                                </button>
                            </div>
                        </div>
                    </div>

                    <!-- Recommendation 2 -->
                    <div class="p-4 bg-secondary/30 rounded-lg hover:bg-secondary/50 transition-colors">
                        <div class="flex items-start justify-between">
                            <div class="flex-1">
                                <div class="flex items-center space-x-2 mb-2">
                                    <i data-lucide="file-text" class="w-4 h-4"></i>
                                    <h4 class="font-medium text-foreground">Sleep Hygiene Tips</h4>
                                </div>
                                <p class="text-sm text-muted-foreground mb-2">Improve your sleep quality with simple changes</p>
                                <div class="flex items-center space-x-3 text-xs text-muted-foreground">
                                    <span class="px-2 py-0.5 bg-background rounded-full border border-border">article</span>
                                    <span>5 min read</span>
                                    <span class="px-2 py-0.5 bg-background rounded-full border border-border">sleep</span>
                                </div>
                            </div>
                            <div class="flex items-center space-x-1 ml-4">
                                <button class="p-2 hover:bg-background rounded-md transition-colors">
                                    <i data-lucide="bookmark" class="w-4 h-4"></i>
                                </button>
                                <button class="p-2 hover:bg-background rounded-md transition-colors">
                                    <i data-lucide="thumbs-up" class="w-4 h-4"></i>
                                </button>
                                <button class="p-2 hover:bg-background rounded-md transition-colors">
                                    <i data-lucide="thumbs-down" class="w-4 h-4"></i>
                                </button>
                            </div>
                        </div>
                    </div>

                    <!-- Recommendation 3 -->
                    <div class="p-4 bg-secondary/30 rounded-lg hover:bg-secondary/50 transition-colors">
                        <div class="flex items-start justify-between">
                            <div class="flex-1">
                                <div class="flex items-center space-x-2 mb-2">
                                    <i data-lucide="dumbbell" class="w-4 h-4"></i>
                                    <h4 class="font-medium text-foreground">Breathing Exercises</h4>
                                </div>
                                <p class="text-sm text-muted-foreground mb-2">Quick techniques for anxiety management</p>
                                <div class="flex items-center space-x-3 text-xs text-muted-foreground">
                                    <span class="px-2 py-0.5 bg-background rounded-full border border-border">exercise</span>
                                    <span>10 min</span>
                                    <span class="px-2 py-0.5 bg-background rounded-full border border-border">anxiety</span>
                                </div>
                            </div>
                            <div class="flex items-center space-x-1 ml-4">
                                <button class="p-2 hover:bg-background rounded-md transition-colors">
                                    <i data-lucide="bookmark" class="w-4 h-4"></i>
                                </button>
                                <button class="p-2 hover:bg-background rounded-md transition-colors">
                                    <i data-lucide="thumbs-up" class="w-4 h-4"></i>
                                </button>
                                <button class="p-2 hover:bg-background rounded-md transition-colors">
                                    <i data-lucide="thumbs-down" class="w-4 h-4"></i>
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

        </div>

        <!-- Right Column (1/3 width) -->
        <div class="space-y-6">
            
            <!-- Upcoming Sessions -->
            <div class="bg-card p-6 rounded-lg shadow-sm border border-border">
                <div class="flex items-center mb-4">
                    <i data-lucide="calendar" class="w-5 h-5 mr-2 text-primary"></i>
                    <h2 class="text-xl font-semibold text-foreground">Upcoming Sessions</h2>
                </div>
            
                <div class="space-y-3">
                    <c:choose>
                        <c:when test="${not empty bookedAppointments}">
                            <!-- Display Booked Appointments -->
                            <c:forEach var="appointment" items="${bookedAppointments}" begin="0" end="1">
                                <div class="p-3 bg-primary/10 rounded-lg border-l-4 border-primary">
                                    <div class="flex items-center justify-between mb-2">
                                        <h4 class="font-medium text-foreground">${appointment.sessionType}</h4>
                                        <span class="px-2 py-0.5 text-xs bg-background rounded-full border border-border flex items-center gap-1">
                                            <i data-lucide="clock" class="w-3 h-3"></i>
                                            ${appointment.time}
                                        </span>
                                    </div>
                                    <p class="text-sm text-muted-foreground mb-1">with ${appointment.counselorName}</p>
                                    <p class="text-xs text-muted-foreground">${appointment.date}</p>
                                    <div class="flex space-x-2 mt-2">
                                        <button class="text-xs px-2 py-1 border border-border rounded-md hover:bg-secondary transition-colors">
                                            Reschedule
                                        </button>
                                        
                                        <form action="/student/telehealth/cancel" method="post" style="display:inline;">
                                            <input type="hidden" name="appointmentId" value="${appointment.id}" />
                                            <button type="submit" class="text-xs px-2 py-1 border border-border rounded-md hover:bg-secondary transition-colors text-red-500 hover:text-red-700">
                                                Cancel
                                            </button>
                                        </form>
                                    </div>
                                </div>
                            </c:forEach>
                        </c:when>
                        <c:otherwise>
                            <!-- No Appointments -->
                            <div class="text-center py-8 text-muted-foreground">
                                <i data-lucide="calendar" class="w-8 h-8 mx-auto mb-2 text-muted-foreground/50"></i>
                                <p>No upcoming sessions</p>
                            </div>
                        </c:otherwise>
                    </c:choose>
            
                    <a href="/student/telehealth" class="block w-full bg-primary text-primary-foreground text-center px-4 py-2 rounded-md hover:opacity-90 transition-opacity font-medium">
                        <span class="flex items-center justify-center gap-2">
                            <i data-lucide="calendar" class="w-4 h-4"></i>
                            Book New Session
                        </span>
                    </a>
                </div>
            </div>

            <!-- Notifications -->
            <div class="bg-card p-6 rounded-lg shadow-sm border border-border">
                <div class="flex items-center mb-4">
                    <i data-lucide="bell" class="w-5 h-5 mr-2 text-primary"></i>
                    <h2 class="text-xl font-semibold text-foreground">Notifications</h2>
                </div>

                <div class="space-y-3">
                    <div class="p-3 bg-info/10 rounded-lg border-l-4 border-info">
                        <p class="text-sm text-foreground">New session scheduled for tomorrow at 2 PM</p>
                        <span class="px-2 py-0.5 bg-info/20 text-info text-xs rounded-full inline-block mt-1">appointment</span>
                    </div>
                    <div class="p-3 bg-info/10 rounded-lg border-l-4 border-info">
                        <p class="text-sm text-foreground">Complete your weekly mood check-in</p>
                        <span class="px-2 py-0.5 bg-info/20 text-info text-xs rounded-full inline-block mt-1">reminder</span>
                    </div>
                    <div class="p-3 bg-info/10 rounded-lg border-l-4 border-info">
                        <p class="text-sm text-foreground">New peer discussion in Anxiety Support group</p>
                        <span class="px-2 py-0.5 bg-info/20 text-info text-xs rounded-full inline-block mt-1">forum</span>
                    </div>
                </div>
            </div>

            <!-- Quick Actions -->
            <div class="bg-card p-6 rounded-lg shadow-sm border border-border">
                <h2 class="text-xl font-semibold text-foreground mb-4">Quick Actions</h2>
                <div class="space-y-2">
                    <a href="/student/assessment" class="flex items-center w-full justify-start px-4 py-2 border border-border rounded-md hover:bg-secondary transition-colors">
                        <i data-lucide="heart" class="w-4 h-4 mr-2"></i>
                        Daily Mood Check-in
                    </a>
                    <a href="/student/telehealth" class="flex items-center w-full justify-start px-4 py-2 border border-border rounded-md hover:bg-secondary transition-colors">
                        <i data-lucide="calendar" class="w-4 h-4 mr-2"></i>
                        Schedule Session
                    </a>
                    <a href="/student/forum" class="flex items-center w-full justify-start px-4 py-2 border border-border rounded-md hover:bg-secondary transition-colors">
                        <i data-lucide="message-circle" class="w-4 h-4 mr-2"></i>
                        Join Discussion
                    </a>
                </div>
            </div>

        </div>
    </div>
</div>
<!-- Student-Only Chatbot Widget -->
<jsp:include page="chatbot-widget.jsp" /> 
<jsp:include page="../common/footer.jsp" />

================================================================================
File: src\main\webapp\WEB-INF\jsp\student\forum-list.jsp
Size: 21.16 kB
================================================================================

<%@ page language="java" contentType="text/html; charset=UTF-8" pageEncoding="UTF-8"%>
<%@ taglib prefix="c" uri="jakarta.tags.core" %>
<jsp:include page="../common/header.jsp" />

<%-- MOCK DATA ASSUMPTIONS:
    Your Spring Controller must provide the following Model Attributes:
    1. ${forumCategories}: List of category objects (id, name, color, count).
    2. ${posts}: List of post objects (id, title, content, author, timestamp, category, replies, likes, views, supportLevel, tags).
    3. ${urgentPosts}: List of posts marked as urgent (for the sidebar).
--%>
<div class="container mx-auto py-3">
    <div class="flex items-center justify-between mb-2 border-b pb-4">
        <div class="flex items-center space-x-4">
            <%-- Assuming header/nav handles the back button --%>
            <div>
                <h1 class="text-3xl font-bold text-gray-900">Peer Support Forum</h1>
                <p class="text-gray-600 mt-1">Safe, anonymous community support ‚Ä¢ Join discussions, share experiences, and find support.</p>
            </div>
        </div>
        
        <%-- New Post Button (DialogTrigger converted to simple button/onclick) --%>
        <button onclick="openNewPostModal()" class="flex items-center bg-primary text-primary-foreground hover:bg-primary/90 px-4 py-2 rounded-lg font-semibold shadow-md transition-colors">
            <i data-lucide="plus" class="w-4 h-4 mr-2"></i>
            Share or Ask for Support
        </button>
    </div>

    <%-- Main Tabs (Keeping only the structure for User View, ignoring Moderator View logic) --%>
    <div class="w-full">
        <div class="grid grid-cols-1 lg:grid-cols-4 gap-8">
            
            <%-- START SIDEBAR (lg:col-span-1) --%>
            <div class="lg:col-span-1 space-y-6">
                
                <%-- Support Categories Card --%>
                <div class="bg-card p-4 rounded-lg shadow-sm border border-border">
                    <h2 class="text-lg font-semibold text-foreground flex items-center mb-3 pb-3 border-b border-border/70">
                        <i data-lucide="handshake" class="w-5 h-5 mr-2"></i>
                        Support Categories
                    </h2>
                    <div class="space-y-2">
                        <%-- üî• START CATEGORY LIST LOOP üî• --%>
                        <c:forEach var="category" items="${forumCategories}">
                            <%-- Mocking selected category based on a URL parameter or default value --%>
                            <a href="?category=${category.id}" 
                                class="flex items-center w-full justify-between p-2 rounded-lg transition-colors 
                                    <c:choose>
                                        <c:when test="${param.category eq category.id}">bg-primary text-primary-foreground hover:bg-primary/90</c:when>
                                        <c:otherwise>text-foreground hover:bg-gray-50</c:otherwise>
                                    </c:choose>
                                ">
                                <span class="text-sm font-medium">${category.name}</span>
                                <c:if test="${category.count > 0}">
                                    <%-- The count comes from the controller now --%>
                                    <span class="ml-2 px-2 py-0.5 text-xs rounded-full ${category.color}">${category.count}</span>
                                </c:if>
                            </a>
                        </c:forEach>
                        <%-- üî• END CATEGORY LIST LOOP üî• --%>
                    </div>
                </div>

                <%-- Urgent Support Needed Card (Simplified Mock) --%>
                <c:if test="${not empty urgentPosts}">
                    <div class="bg-card p-4 rounded-lg shadow-sm border border-red-200">
                        <h2 class="text-lg font-semibold text-red-700 flex items-center mb-3 pb-3 border-b border-red-200/70">
                            <i data-lucide="alert-triangle" class="w-5 h-5 mr-2"></i>
                            Urgent Support Needed
                        </h2>
                        <div class="space-y-2">
                            <c:forEach var="post" items="${urgentPosts}" begin="0" end="2">
                                <a href="/student/forum/thread?id=${post.id}" class="block text-sm p-2 bg-red-50 rounded hover:bg-red-100 transition-colors">
                                    <p class="font-medium truncate">${post.title}</p>
                                    <p class="text-gray-600 text-xs">${post.author} ‚Ä¢ ${post.timestamp}</p>
                                </a>
                            </c:forEach>
                            <a href="#" class="text-xs text-red-700 hover:underline block mt-2">View all urgent posts</a>
                        </div>
                    </div>
                </c:if>

                <%-- Peer Support Guidelines Card (No change needed) --%>
                <div class="bg-card p-4 rounded-lg shadow-sm border border-border">
                    <h2 class="text-lg font-semibold text-foreground mb-3 pb-3 border-b border-border/70">
                        Peer Support Guidelines
                    </h2>
                    <div class="space-y-2 text-sm text-gray-600">
                        <p>‚Ä¢ Listen with empathy and respect</p>
                        <p>‚Ä¢ Share your experiences, not advice</p>
                        <p>‚Ä¢ Respect anonymity and privacy</p>
                        <p>‚Ä¢ Flag concerning content immediately</p>
                        <p>‚Ä¢ Encourage professional help when needed</p>
                    </div>
                </div>
            </div>
            <%-- END SIDEBAR --%>

            <%-- START MAIN CONTENT (lg:col-span-3) --%>
            <div class="lg:col-span-3">
                
                <%-- Search and Filters (Combined and Fixed) --%>
                <div class="mb-6 space-y-4">
                    
                    <%-- 1. Use ONE Form for both Search and Sort --%>
                    <form method="GET" action="/student/forum">
                        <div class="flex gap-4 items-center">
                            
                            <%-- Search Input Section (Flex-1) --%>
                            <div class="relative flex-1">
                                <i data-lucide="search" class="absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"></i>
                                <input 
                                    name="searchQuery"
                                    type="text"
                                    placeholder="Search posts, topics, or tags..."
                                    value="${currentSearch}" 
                                    class="w-full pl-10 px-3 py-2 border border-input rounded-md focus:ring-2 focus:ring-primary focus:border-primary"
                                    aria-label="Search forum"
                                />
                            </div>
                            
                            <%-- Sort Dropdown Section (Relative Container for Icon) --%>
                            <div class="relative shrink-0">
                                <select 
                                    id="sort-select"
                                    name="sortBy" 
                                    onchange="this.form.submit()"

                                    class="px-3 py-2 border border-input rounded-md bg-background appearance-none cursor-pointer pr-8" aria-label="Sort by"
                                >
                                    <option value="recent" <c:if test="${currentSort eq 'recent' or empty currentSort}">selected</c:if>>Most Recent</option>
                                    <option value="popular" <c:if test="${currentSort eq 'popular'}">selected</c:if>>Most Popular</option>
                                    <option value="helpful" <c:if test="${currentSort eq 'helpful'}">selected</c:if>>Most Helpful</option>
                                    <option value="active" <c:if test="${currentSort eq 'active'}">selected</c:if>>Most Active</option>
                                </select>
                                
                                <%-- Downward Arrow Icon (Absolute position relative to the surrounding div) --%>
                                <i 
                                    data-lucide="chevron-down" 
                                    class="absolute right-2 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4 pointer-events-none"
                                ></i>
                            </div>
                            
                            <%-- Hidden button to allow form submission on Enter key --%>
                            <button type="submit" class="hidden">Apply Filters</button>
                        </div>
                    </form>
                </div>

<%-- üî• START POSTS LISTING üî• --%>
<div class="space-y-4">
    <c:forEach var="post" items="${posts}">
        <%-- (Level Class calculation remains the same) --%>
        <c:set var="level" value="${post.supportLevel}" />
        <c:set var="levelClass">
            <c:choose>
                <c:when test="${level eq 'urgent'}">border-red-300 bg-red-50</c:when>
                <c:when test="${level eq 'high'}">border-orange-300 bg-orange-50</c:when>
                <c:when test="${level eq 'medium'}">border-yellow-300 bg-yellow-50</c:when>
                <c:when test="${level eq 'positive'}">border-green-300 bg-green-50</c:when>
                <c:otherwise>border-border bg-card</c:otherwise>
            </c:choose>
        </c:set>
        
        <a href="/student/forum/thread?id=${post.id}" class="block">
            <div class="p-6 rounded-lg shadow-sm transition-shadow hover:shadow-lg border ${levelClass}">
                
                <%-- HEADER: Category Badges & Timestamp (No change needed) --%>
                <div class="flex justify-between items-start mb-3">
                    <div class="flex items-center space-x-2 flex-wrap">
                        <span class="text-xs px-2 py-0.5 rounded-full border border-gray-300 text-gray-700 bg-white">${post.categoryName}</span>
                        <c:if test="${level eq 'urgent'}">
                            <span class="text-xs px-2 py-0.5 rounded-full bg-red-600 text-white">Urgent Support Needed</span>
                        </c:if>
                        <c:if test="${level eq 'high'}">
                            <span class="text-xs px-2 py-0.5 rounded-full bg-orange-100 text-orange-800">High Priority</span>
                        </c:if>
                        <c:if test="${post.coachingRequested}">
                            <span class="text-xs px-2 py-0.5 rounded-full bg-purple-100 text-purple-800">Professional Support Requested</span>
                        </c:if>
                    </div>
                    <div class="flex items-center text-xs text-gray-500">
                        <i data-lucide="clock" class="w-3 h-3 mr-1"></i>
                        ${post.timestamp}
                    </div>
                </div>

                <%-- BODY: Title & Content (No change needed) --%>
                <h3 class="font-semibold text-lg mb-2 text-foreground">${post.title}</h3>
                <p class="text-gray-700 mb-4 line-clamp-2">${post.content}</p>

                <%-- FOOTER: User Stats (Left) and Action Buttons (Right) --%>
<div class="flex items-center justify-between">
    
    <%-- Left: User Stats (Author, Replies, Views) --%>
    <div class="flex items-center space-x-4 text-sm text-gray-500">
        <div class="flex items-center">
            <i data-lucide="user" class="w-4 h-4 mr-1"></i>
            <span>${post.author}</span>
        </div>
        <div class="flex items-center">
            <i data-lucide="message-circle" class="w-4 h-4 mr-1"></i>
            <span>${post.replies} responses</span>
        </div>
        <div class="flex items-center">
            <i data-lucide="eye" class="w-4 h-4 mr-1"></i>
            <span>${post.views} views</span>
        </div>
    </div>

    <%-- Right: Interaction Buttons & CTAs --%>
<div class="flex items-center space-x-4 text-sm">
    
    <%-- üî• FIX: Group Like, Helpful, and Flag horizontally in one container üî• --%>
    <div class="flex items-center space-x-2 text-base"> 
        
        <button 
            onclick="recordInteraction(${post.id}, 'like', this)" 
            class="text-gray-500 flex items-center p-1 rounded hover:bg-secondary transition-colors disabled:opacity-50" 
            aria-label="Like Post"
        >
            <i data-lucide="heart" class="w-4 h-4 mr-1"></i> 
            <span id="likes-count-${post.id}">${post.likes}</span>
        </button>
        
        <button 
            onclick="recordInteraction(${post.id}, 'helpful', this)" 
            class="text-gray-500 flex items-center p-1 rounded hover:bg-secondary transition-colors disabled:opacity-50" 
            aria-label="Mark as helpful"
        >
            <i data-lucide="award" class="w-4 h-4 mr-1"></i> 
            <span id="helpful-count-${post.id}">${post.helpfulCount}</span>
        </button>

        <button 
            id="flag-button-${post.id}"
            onclick="flagPost(${post.id}, this)" 
            class="p-1 rounded transition-colors disabled:opacity-50 
                   <c:if test="${post.isFlagged}">text-[#dc2626] hover:bg-[#ffb2ae]</c:if> <%-- Already flagged --%>
                   <c:if test="${not post.isFlagged}">text-gray-500 hover:bg-[#ffb2ae] hover:text-[#dc2626]</c:if>" <%-- Not flagged yet --%>
            aria-label="Flag post for review"
        >
            <i data-lucide="flag" class="w-4 h-4"></i>
        </button>
    </div>
    
    <%-- Offer/Request CTA Buttons (This group is separate and uses space-x-4 from parent) --%>
    <a href="/student/forum/thread?id=${post.id}" class="inline-flex items-center px-3 py-1.5 border border-green-300 rounded-lg text-sm font-semibold text-green-700 bg-green-50 hover:bg-green-100 transition-colors">
        Offer Support
    </a>
    <a href="/student/telehealth" class="inline-flex items-center px-3 py-1.5 border border-purple-300 rounded-lg text-sm font-semibold text-purple-700 bg-purple-50 hover:bg-purple-100 transition-colors">
        Request Help
    </a>
    
</div>
</div>
                
            </div> <%-- Closes p-6 div --%>
        </a> <%-- Closes a tag --%>
    </c:forEach>
    
    <%-- Fallback if no posts are available --%>
    </div>
                    
                    <%-- Fallback if no posts are available --%>
                    <c:if test="${empty posts}">
                           <div class="text-center py-10 border border-dashed rounded-lg text-gray-500 bg-card">
                               <i data-lucide="help-circle" class="w-8 h-8 mx-auto mb-3"></i>
                               <p class="font-medium">No active discussion threads found.</p>
                               <p class="text-sm">Be the first to <a href="#" onclick="openNewPostModal(); return false;" class="text-primary hover:underline">Share or Ask for Support</a>.</p>
                           </div>
                    </c:if>
                </div>
                <%-- üî• END POSTS LISTING üî• --%>
            </div>
            <%-- END MAIN CONTENT --%>
        </div>
    </div>
</div>

<%-- 3. INCLUDE THE NEW POST MODAL FRAGMENT (Already defined in common) --%>
<jsp:include page="new-post-modal.jsp" />

<%-- 4. JAVASCRIPT TO CONTROL THE MODAL (Placed right before footer) --%>
<script>
    // NOTE: This assumes 'new-post-modal.jsp' is in '../common/'
    const postModal = document.getElementById('new-post-modal');

    function openNewPostModal() {
        if (postModal) {
            postModal.classList.remove('hidden');
            // Optional: Disable scrolling on the body when modal is open
            document.body.style.overflow = 'hidden'; 
        } else {
            console.error("New Post Modal element not found. Check if new-post-modal.jsp is included.");
        }
    }

    function closeNewPostModal() {
        if (postModal) {
            postModal.classList.add('hidden');
            // Optional: Re-enable scrolling
            document.body.style.overflow = ''; 
        }
    }
    
    // Ensure Lucide icons are processed again if this is the main content of the page
    if (typeof lucide !== 'undefined' && lucide.createIcons) {
        lucide.createIcons();
    }

    // Add this function inside your existing <script> block in forum-list.jsp

    /**
     * Sends an AJAX request to record a like or helpful vote and updates the UI.
     * @param {number} postId - The ID of the post to update.
     * @param {string} type - 'like' or 'helpful'.
     * @param {HTMLElement} buttonElement - The button that was clicked.
     */
    function recordInteraction(postId, type, buttonElement) {
        // Prevent double-clicking
        buttonElement.disabled = true;

        fetch('/student/forum/interact', {
            method: 'POST',
            headers: {
                // Ensure the content type is correct for Spring to parse @RequestParam
                'Content-Type': 'application/x-www-form-urlencoded',
            },
            // Send the postId and interaction type
            body: `postId=${postId}&type=${type}`
        })
        .then(response => {
            if (!response.ok) {
                // Handle non-200 responses
                throw new Error('Network response was not ok');
            }
            return response.json();
        })
        .then(data => {
            if (data.error) {
                console.error("Error recording interaction:", data.error);
                return;
            }
            
            // Update the specific count on the page using the unique IDs
            const likesSpan = document.getElementById(`likes-count-${postId}`);
            const helpfulSpan = document.getElementById(`helpful-count-${postId}`);

            if (likesSpan && data.likes !== undefined) {
                likesSpan.textContent = data.likes;
            }
            if (helpfulSpan && data.helpfulCount !== undefined) {
                helpfulSpan.textContent = data.helpfulCount;
            }

        })
        .catch(error => {
            console.error('Fetch error:', error);
            alert('Could not record your vote. Please try again.');
        })
        .finally(() => {
            // Re-enable the button
            buttonElement.disabled = false;
        });
    }

    // Add this function inside your existing <script> block in forum-list.jsp

    /**
     * Sends an AJAX request to flag a post for admin review.
     * @param {number} postId - The ID of the post to flag.
     * @param {HTMLElement} buttonElement - The button that was clicked.
     */
    function flagPost(postId, buttonElement) {
        // Prevent double-clicking
        buttonElement.disabled = true;

        // Confirmation dialog (optional but good practice for irreversible action)
        if (!confirm("Are you sure you want to flag this post for admin review?")) {
            buttonElement.disabled = false;
            return;
        }

        fetch('/student/forum/flag', {
            method: 'POST',
            headers: {
                'Content-Type': 'application/x-www-form-urlencoded',
            },
            body: `postId=${postId}`
        })
        .then(response => {
            if (!response.ok) {
                throw new Error('Network response was not ok');
            }
            return response.json();
        })
        .then(data => {
            if (data.success && data.isFlagged === true) {
                // Update button style to indicate it has been flagged
                buttonElement.classList.remove('text-gray-500', 'hover:bg-secondary');
                buttonElement.classList.add('text-red-600', 'hover:bg-red-50');
                alert('Post has been flagged for admin review.');
            } else {
                alert('Flagging failed.');
            }
        })
        .catch(error => {
            console.error('Fetch error during flagging:', error);
            alert('Could not flag the post. Please try again.');
        })
        .finally(() => {
            // Re-enable the button
            buttonElement.disabled = false;
        });
    }
</script>

<jsp:include page="chatbot-widget.jsp" /> 
<jsp:include page="../common/footer.jsp" />

================================================================================
File: src\main\webapp\WEB-INF\jsp\student\forum-thread.jsp
Size: 3.37 kB
================================================================================

<%@ page language="java" contentType="text/html; charset=UTF-8" pageEncoding="UTF-8"%>
<jsp:include page="../common/header.jsp" />

<div class="space-y-6">
    <div>
        <a href="/student/forum" class="text-muted-foreground hover:text-foreground inline-flex items-center gap-2 transition-colors text-sm font-medium mb-4">
            <i data-lucide="arrow-left" class="h-4 w-4"></i>
            Back to Forum
        </a>
    </div>

    <div class="bg-card p-6 rounded-lg shadow-sm border border-border">
        
        <div class="mb-8">
            <div class="flex items-start justify-between mb-4">
                <div>
                    <h1 class="text-2xl font-bold text-foreground mb-1">Thread Title</h1>
                    <div class="flex items-center gap-2 text-sm text-muted-foreground">
                        <div class="bg-secondary p-1 rounded-full">
                            <i data-lucide="user" class="h-3 w-3 text-primary"></i>
                        </div>
                        <span>Posted by: User123 ‚Ä¢ 2 days ago</span>
                    </div>
                </div>
                <span class="px-2.5 py-0.5 bg-secondary text-primary text-xs font-semibold rounded-full border border-primary/20">Discussion</span>
            </div>
            
            <div class="border-b border-border pb-6">
                <p class="text-foreground leading-relaxed text-lg">Original post content will be displayed here...</p>
            </div>
        </div>

        <div class="space-y-6">
            <h3 class="text-xl font-semibold text-foreground flex items-center gap-2">
                <i data-lucide="message-square" class="h-5 w-5 text-primary"></i>
                Replies
            </h3>
            
            <div class="space-y-4">
                <div class="bg-secondary/20 p-5 rounded-lg border border-border/50">
                    <div class="flex items-center gap-2 mb-3">
                        <span class="font-semibold text-foreground text-sm">Reply Author</span>
                        <span class="text-xs text-muted-foreground">‚Ä¢ 1 day ago</span>
                    </div>
                    <p class="text-muted-foreground leading-relaxed">Reply content will be displayed here...</p>
                </div>
            </div>
        </div>

        <div class="mt-8 pt-6 border-t border-border">
            <h3 class="text-lg font-semibold mb-4 text-foreground">Post a Reply</h3>
            <form method="POST" action="/student/forum/thread/reply" class="space-y-4">
                <textarea name="reply" rows="4" 
                          class="w-full px-4 py-3 border border-input rounded-md focus:outline-none focus:ring-2 focus:ring-ring bg-white text-foreground placeholder:text-muted-foreground shadow-sm resize-y" 
                          placeholder="Write your reply..."></textarea>
                
                <button type="submit" class="bg-primary text-primary-foreground px-6 py-2.5 rounded-md hover:opacity-90 transition-opacity font-medium focus:outline-none focus:ring-2 focus:ring-ring shadow-sm">
                    Post Reply
                </button>
            </form>
        </div>
    </div>
</div>

<jsp:include page="chatbot-widget.jsp" /> 
<jsp:include page="../common/footer.jsp" />

================================================================================
File: src\main\webapp\WEB-INF\jsp\student\new-post-modal.jsp
Size: 4.79 kB
================================================================================

<%@ page language="java" contentType="text/html; charset=UTF-8" pageEncoding="UTF-8"%>
<%--
    Modal Fragment for creating a new Forum Post.
    Controlled by JavaScript on the calling page (e.g., forum-list.jsp).
--%>
<div id="new-post-modal" class="fixed inset-0 z-[60] bg-black/50 backdrop-blur-sm flex items-center justify-center hidden">
    
    <div class="bg-card w-full max-w-lg p-6 rounded-xl shadow-2xl transform transition-all scale-100 opacity-100 border border-primary/20">
        
        <%-- Header --%>
        <div class="flex justify-between items-center pb-4 border-b border-border">
            <h3 class="text-xl font-bold text-foreground">Share Your Experience or Ask for Support</h3>
            <button onclick="closeNewPostModal()" class="p-1 rounded-full text-muted-foreground hover:bg-gray-100 transition-colors" aria-label="Close">
                <i data-lucide="x" class="h-5 w-5"></i>
            </button>
        </div>
        
        <%-- Form Content --%>
        <form class="mt-6 space-y-4">
            
            <%-- Support Category (Matching the drop-down visual) --%>
            <div class="space-y-2">
                <label for="support-category" class="text-sm font-medium text-foreground block">Support Category</label>
                <select id="support-category" name="category" 
                    class="w-full px-4 py-2 border border-input rounded-lg bg-background text-foreground focus:ring-2 focus:ring-primary focus:border-primary transition duration-150 appearance-none">
                    
                    <option value="General Support" selected>General Support</option>
                    <option value="Anxiety Support">Anxiety Support</option>
                    <option value="Depression Support">Depression Support</option>
                    <option value="Stress Management">Stress Management</option>
                    <option value="Sleep Issues">Sleep Issues</option>
                    <option value="Relationships">Relationships</option>
                    <option value="Academic Pressure">Academic Pressure</option>
                </select>
            </div>
            
            <%-- Title Input --%>
            <div class="space-y-2">
                <label for="post-title" class="text-sm font-medium text-foreground block">Title</label>
                <input type="text" id="post-title" name="title" placeholder="What would you like to share or ask about?" 
                    class="w-full px-4 py-2 border border-primary/50 rounded-lg bg-primary/5 text-foreground placeholder:text-muted-foreground focus:ring-2 focus:ring-primary focus:border-primary transition duration-150" required>
            </div>
            
            <%-- Story or Question Textarea --%>
            <div class="space-y-2">
                <label for="post-story" class="text-sm font-medium text-foreground block">Your Story or Question</label>
                <textarea id="post-story" name="story" rows="5" placeholder="Share your experience, ask for advice, or offer support to others. This is a judgment-free space..." 
                    class="w-full px-4 py-2 border border-input rounded-lg bg-background text-foreground placeholder:text-muted-foreground focus:ring-2 focus:ring-primary focus:border-primary transition duration-150 resize-y" required></textarea>
            </div>
            
            <%-- Anonymity Checkbox and Warning --%>
            <div class="space-y-3">
                <label class="flex items-center space-x-2 cursor-pointer">
                    <input type="checkbox" id="post-anonymous" name="anonymous" checked class="form-checkbox text-primary rounded border-gray-300 focus:ring-primary h-4 w-4">
                    <span class="text-sm font-medium text-foreground">Post anonymously (recommended)</span>
                </label>
                
                <div class="flex items-start p-3 bg-secondary/50 rounded-lg text-sm text-primary border border-primary/20">
                    <i data-lucide="lock" class="h-4 w-4 text-primary shrink-0 mt-0.5"></i>
                    <p class="ml-2">Anonymous posts protect your privacy with randomly generated usernames. Your identity is never revealed.</p>
                </div>
            </div>
            
            <%-- Submit Button --%>
            <div class="pt-2">
                <button type="submit" onclick="alert('Post submitted! (Demo Mode)')" class="w-full bg-primary text-primary-foreground py-2.5 rounded-xl font-semibold text-lg shadow-lg hover:bg-primary/90 transition-colors">
                    Share with Community
                </button>
            </div>
        </form>
        
    </div>
</div>

================================================================================
File: src\main\webapp\WEB-INF\jsp\student\profile.jsp
Size: 23 B
================================================================================

<h1>Coming Soon...</h1>

================================================================================
File: src\main\webapp\WEB-INF\jsp\student\telehealth-book.jsp
Size: 21.56 kB
================================================================================

<%@ page language="java" contentType="text/html; charset=UTF-8" pageEncoding="UTF-8"%>
<%@ taglib prefix="c" uri="jakarta.tags.core" %>
<jsp:include page="../common/header.jsp" />

<div class="container mx-auto px-4 py-8">
    <div class="mb-8">
        <h1 class="text-3xl font-bold text-foreground mb-2">Book Counseling Session</h1>
        <p class="text-muted-foreground">Schedule your appointment with a counselor</p>
    </div>

    <div class="grid grid-cols-1 lg:grid-cols-3 gap-8">
        
        <!-- Left Column - Counselor Selection -->
        <div class="lg:col-span-1">
            <div class="bg-card p-6 rounded-lg shadow-sm border border-border">
                <div class="flex items-center mb-4">
                    <i data-lucide="user" class="w-5 h-5 mr-2 text-info"></i>
                    <h2 class="text-xl font-semibold text-foreground">Choose Your Counselor</h2>
                </div>

                <div class="space-y-4" id="counselor-list">
                    <c:forEach var="counselor" items="${counselors}">
                        <div class="counselor-card p-4 border rounded-lg cursor-pointer transition-all hover:border-primary/50" 
                             data-id="${counselor.id}" 
                             data-name="${counselor.name}"
                             data-specialization="${counselor.specialization}"
                             data-rating="${counselor.rating}"
                             data-experience="${counselor.experience}"
                             data-availability="${counselor.availability}">
                            <div class="flex items-start space-x-3">
                                <div class="w-12 h-12 bg-primary rounded-full flex items-center justify-center text-primary-foreground font-semibold">
                                    ${counselor.avatar}
                                </div>
                                <div class="flex-1">
                                    <h4 class="font-semibold text-foreground">${counselor.name}</h4>
                                    <p class="text-sm text-muted-foreground mb-2">${counselor.specialization}</p>
                                    <div class="flex items-center space-x-2 text-xs">
                                        <div class="flex items-center">
                                            <i data-lucide="star" class="w-3 h-3 text-yellow-500 mr-1"></i>
                                            <span>${counselor.rating}</span>
                                        </div>
                                        <span class="text-muted-foreground">‚Ä¢</span>
                                        <span>${counselor.experience}</span>
                                    </div>
                                    <c:choose>
                                        <c:when test="${counselor.availability == 'High'}">
                                            <span class="inline-block mt-2 px-2 py-0.5 text-xs rounded-full bg-green-100 text-green-800">
                                                High Availability
                                            </span>
                                        </c:when>
                                        <c:when test="${counselor.availability == 'Medium'}">
                                            <span class="inline-block mt-2 px-2 py-0.5 text-xs rounded-full bg-yellow-100 text-yellow-800">
                                                Medium Availability
                                            </span>
                                        </c:when>
                                        <c:otherwise>
                                            <span class="inline-block mt-2 px-2 py-0.5 text-xs rounded-full bg-red-100 text-red-800">
                                                Low Availability
                                            </span>
                                        </c:otherwise>
                                    </c:choose>
                                </div>
                            </div>
                        </div>
                    </c:forEach>
                </div>
            </div>
        </div>

        <!-- Middle Column - Date & Session Type -->
        <div class="lg:col-span-1">
            <div class="space-y-6">
                
                <!-- Simple Calendar -->
                <div class="bg-card p-6 rounded-lg shadow-sm border border-border">
                    <div class="flex items-center mb-4">
                        <i data-lucide="calendar" class="w-5 h-5 mr-2 text-success"></i>
                        <h2 class="text-xl font-semibold text-foreground">Select Date</h2>
                    </div>
                    
                    <!-- Month Header -->
                    <div class="flex items-center justify-between mb-4">
                        <button type="button" class="p-1 hover:bg-secondary rounded">
                            <i data-lucide="chevron-left" class="w-5 h-5"></i>
                        </button>
                        <span class="font-semibold" id="current-month">December 2025</span>
                        <button type="button" class="p-1 hover:bg-secondary rounded">
                            <i data-lucide="chevron-right" class="w-5 h-5"></i>
                        </button>
                    </div>

                    <!-- Calendar Grid -->
                    <div class="grid grid-cols-7 gap-1 text-center text-sm">
                        <!-- Week Headers -->
                        <div class="text-muted-foreground font-medium p-2">Su</div>
                        <div class="text-muted-foreground font-medium p-2">Mo</div>
                        <div class="text-muted-foreground font-medium p-2">Tu</div>
                        <div class="text-muted-foreground font-medium p-2">We</div>
                        <div class="text-muted-foreground font-medium p-2">Th</div>
                        <div class="text-muted-foreground font-medium p-2">Fr</div>
                        <div class="text-muted-foreground font-medium p-2">Sa</div>

                        <!-- Calendar dates (simplified for demo) -->
                        <div class="p-2 text-muted-foreground/50">30</div>
                        <div class="p-2 hover:bg-secondary rounded cursor-pointer calendar-date" data-date="2025-12-01">1</div>
                        <div class="p-2 hover:bg-secondary rounded cursor-pointer calendar-date" data-date="2025-12-02">2</div>
                        <div class="p-2 bg-primary text-primary-foreground rounded cursor-pointer calendar-date" data-date="2025-12-03">3</div>
                        <div class="p-2 hover:bg-secondary rounded cursor-pointer calendar-date" data-date="2025-12-04">4</div>
                        <div class="p-2 hover:bg-secondary rounded cursor-pointer calendar-date" data-date="2025-12-05">5</div>
                        <div class="p-2 hover:bg-secondary rounded cursor-pointer calendar-date" data-date="2025-12-06">6</div>
                        
                        <!-- Additional weeks would go here -->
                        <c:forEach begin="7" end="31" var="day">
                            <div class="p-2 hover:bg-secondary rounded cursor-pointer calendar-date" data-date="2025-12-${day}">${day}</div>
                        </c:forEach>
                    </div>
                </div>

                <!-- Session Type -->
                <div class="bg-card p-6 rounded-lg shadow-sm border border-border">
                    <h2 class="text-xl font-semibold text-foreground mb-4">Session Type</h2>
                    <select id="session-type" class="w-full px-3 py-2 border border-input rounded-md focus:outline-none focus:ring-2 focus:ring-ring bg-background">
                        <option value="">Choose session type</option>
                        <option value="Individual Session (50 min)">Individual Session (50 min) - Free</option>
                        <option value="Group Session (90 min)">Group Session (90 min) - Free</option>
                        <option value="Crisis Support (30 min)">Crisis Support (30 min) - Free</option>
                    </select>
                </div>

            </div>
        </div>

        <!-- Right Column - Time Slots & Booking -->
        <div class="lg:col-span-1">
            <div class="bg-card p-6 rounded-lg shadow-sm border border-border">
                <div class="flex items-center mb-2">
                    <i data-lucide="clock" class="w-5 h-5 mr-2 text-primary"></i>
                    <h2 class="text-xl font-semibold text-foreground">Available Times</h2>
                </div>
                <p class="text-sm text-muted-foreground mb-4" id="selected-date-display">Wednesday, December 03, 2025</p>

                <div id="time-slots-container">
                    <!-- Default: No counselor selected -->
                    <div class="text-center py-8 text-muted-foreground" id="no-counselor-message">
                        <i data-lucide="alert-triangle" class="w-8 h-8 mx-auto mb-2 text-muted-foreground/50"></i>
                        <p>Please select a counselor first</p>
                    </div>

                    <!-- Time Slots (Hidden by default) -->
                    <div class="space-y-3 hidden" id="time-slots-list">
                        <button type="button" class="time-slot w-full flex items-center justify-start px-4 py-2 border border-border rounded-md hover:bg-secondary transition-colors" data-time="09:00">
                            <i data-lucide="clock" class="w-4 h-4 mr-2"></i>
                            09:00 AM
                        </button>
                        <button type="button" class="time-slot w-full flex items-center justify-start px-4 py-2 border border-border rounded-md hover:bg-secondary transition-colors" data-time="10:00">
                            <i data-lucide="clock" class="w-4 h-4 mr-2"></i>
                            10:00 AM
                        </button>
                        <button type="button" class="time-slot w-full flex items-center justify-start px-4 py-2 border border-border rounded-md hover:bg-secondary transition-colors" data-time="14:00">
                            <i data-lucide="clock" class="w-4 h-4 mr-2"></i>
                            02:00 PM
                        </button>
                        <button type="button" class="time-slot w-full flex items-center justify-start px-4 py-2 border border-border rounded-md hover:bg-secondary transition-colors" data-time="15:00">
                            <i data-lucide="clock" class="w-4 h-4 mr-2"></i>
                            03:00 PM
                        </button>
                        <button type="button" class="time-slot w-full flex items-center justify-start px-4 py-2 border border-border rounded-md hover:bg-secondary transition-colors" data-time="16:00">
                            <i data-lucide="clock" class="w-4 h-4 mr-2"></i>
                            04:00 PM
                        </button>
                    </div>
                </div>

                <!-- Booking Summary (Hidden by default) -->
                <div class="mt-6 pt-6 border-t hidden" id="booking-summary">
                    <div class="bg-muted p-4 rounded-lg mb-4">
                        <h4 class="font-semibold mb-2">Booking Summary</h4>
                        <div class="space-y-1 text-sm">
                            <p><strong>Counselor:</strong> <span id="summary-counselor">-</span></p>
                            <p><strong>Date:</strong> <span id="summary-date">-</span></p>
                            <p><strong>Time:</strong> <span id="summary-time">-</span></p>
                            <p><strong>Type:</strong> <span id="summary-type">-</span></p>
                        </div>
                        <div class="mt-3 p-3 bg-info/10 rounded-md">
                            <p class="text-xs text-foreground">
                                <strong>Note:</strong> Join Telehealth button will be enabled 10 minutes before your session.
                            </p>
                        </div>
                    </div>

                    <button type="button" id="book-button" class="w-full bg-primary text-primary-foreground px-4 py-2 rounded-md hover:opacity-90 transition-opacity font-medium flex items-center justify-center gap-2">
                        <i data-lucide="check-circle" class="w-4 h-4"></i>
                        Book Appointment
                    </button>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Confirmation Modal -->
<div id="confirmation-modal" class="fixed inset-0 bg-black/50 z-50 hidden flex items-center justify-center p-4">
    <div class="bg-card rounded-lg shadow-xl w-full max-w-md transform transition-all">
        <div class="p-6 border-b border-border">
            <h2 class="text-xl font-semibold text-foreground">Confirm Your Appointment</h2>
        </div>
        
        <div class="p-6">
            <p class="mb-4 text-foreground">Please confirm the details of your counseling session:</p>
            <div class="bg-info/10 p-4 rounded-lg space-y-2 border border-info/20">
                <p class="text-foreground"><strong>Counselor:</strong> <span id="confirm-counselor">-</span></p>
                <p class="text-foreground"><strong>Specialization:</strong> <span id="confirm-specialization">-</span></p>
                <p class="text-foreground"><strong>Date & Time:</strong> <span id="confirm-datetime">-</span></p>
                <p class="text-foreground"><strong>Session Type:</strong> <span id="confirm-type">-</span></p>
            </div>
            <div class="mt-4 text-sm text-muted-foreground space-y-1">
                <p>‚Ä¢ You will receive a confirmation email shortly</p>
                <p>‚Ä¢ You can reschedule or cancel up to 24 hours before your appointment</p>
                <p>‚Ä¢ Please arrive 5 minutes early for your session</p>
            </div>
        </div>

        <div class="p-6 border-t border-border flex justify-end gap-3">
            <button type="button" id="cancel-button" class="px-4 py-2 border border-border rounded-md hover:bg-secondary transition-colors">
                Cancel
            </button>
            <form method="POST" action="/student/telehealth/book" id="booking-form">
                <input type="hidden" name="counselorId" id="form-counselor-id">
                <input type="hidden" name="counselorName" id="form-counselor-name">
                <input type="hidden" name="date" id="form-date">
                <input type="hidden" name="time" id="form-time">
                <input type="hidden" name="sessionType" id="form-session-type">
                <button type="submit" class="px-4 py-2 bg-primary text-primary-foreground rounded-md hover:opacity-90 transition-opacity">
                    Confirm Booking
                </button>
            </form>
        </div>
    </div>
</div>

<script>
// Booking state
let selectedCounselor = null;
let selectedDate = '2025-12-03';
let selectedTime = null;
let selectedSessionType = null;

// Initialize
document.addEventListener('DOMContentLoaded', function() {
    lucide.createIcons();
    
    // Counselor selection
    document.querySelectorAll('.counselor-card').forEach(card => {
        card.addEventListener('click', function() {
            // Remove previous selection
            document.querySelectorAll('.counselor-card').forEach(c => {
                c.classList.remove('border-primary', 'bg-primary/10');
                c.classList.add('border-border');
            });
            
            // Mark as selected
            this.classList.add('border-primary', 'bg-primary/10');
            this.classList.remove('border-border');
            
            // Store selection
            selectedCounselor = {
                id: this.dataset.id,
                name: this.dataset.name,
                specialization: this.dataset.specialization,
                rating: this.dataset.rating,
                experience: this.dataset.experience,
                availability: this.dataset.availability
            };
            
            // Show time slots
            document.getElementById('no-counselor-message').classList.add('hidden');
            document.getElementById('time-slots-list').classList.remove('hidden');
            
            updateSummary();
        });
    });
    
    // Calendar date selection
    document.querySelectorAll('.calendar-date').forEach(date => {
        date.addEventListener('click', function() {
            document.querySelectorAll('.calendar-date').forEach(d => {
                d.classList.remove('bg-primary', 'text-primary-foreground');
            });
            this.classList.add('bg-primary', 'text-primary-foreground');
            
            selectedDate = this.dataset.date;
            updateDateDisplay();
            updateSummary();
        });
    });
    
    // Time slot selection
    document.querySelectorAll('.time-slot').forEach(slot => {
        slot.addEventListener('click', function() {
            // Remove previous selection
            document.querySelectorAll('.time-slot').forEach(s => {
                s.classList.remove('bg-primary', 'text-primary-foreground');
                s.classList.add('border-border');
            });
            
            // Mark as selected
            this.classList.add('bg-primary', 'text-primary-foreground');
            this.classList.remove('border-border');
            
            selectedTime = this.dataset.time;
            updateSummary();
        });
    });
    
    // Session type selection
    document.getElementById('session-type').addEventListener('change', function() {
        selectedSessionType = this.value;
        updateSummary();
    });
    
    // Book button
    document.getElementById('book-button').addEventListener('click', function() {
        openConfirmationModal();
    });
    
    // Modal actions
    document.getElementById('cancel-button').addEventListener('click', closeConfirmationModal);
    document.getElementById('confirmation-modal').addEventListener('click', function(e) {
        if (e.target === this) closeConfirmationModal();
    });
});

function updateDateDisplay() {
    const dateObj = new Date(selectedDate);
    const formatted = dateObj.toLocaleDateString('en-US', { 
        weekday: 'long', 
        year: 'numeric', 
        month: 'long', 
        day: 'numeric' 
    });
    document.getElementById('selected-date-display').textContent = formatted;
}

function updateSummary() {
    const allSelected = selectedCounselor && selectedTime && selectedSessionType;
    
    if (allSelected) {
        const dateObj = new Date(selectedDate);
        const formattedDate = dateObj.toLocaleDateString('en-US', { 
            month: 'short', 
            day: 'numeric', 
            year: 'numeric' 
        });
        
        document.getElementById('summary-counselor').textContent = selectedCounselor.name;
        document.getElementById('summary-date').textContent = formattedDate;
        document.getElementById('summary-time').textContent = selectedTime;
        document.getElementById('summary-type').textContent = selectedSessionType;
        document.getElementById('booking-summary').classList.remove('hidden');
    } else {
        document.getElementById('booking-summary').classList.add('hidden');
    }
}

function openConfirmationModal() {
    const dateObj = new Date(selectedDate);
    const formattedDateTime = dateObj.toLocaleDateString('en-US', { 
        weekday: 'long', 
        month: 'long', 
        day: 'numeric', 
        year: 'numeric' 
    }) + ' at ' + selectedTime;
    
    const formattedDate = dateObj.toLocaleDateString('en-US', { 
        month: 'short', 
        day: 'numeric', 
        year: 'numeric' 
    });
    
    document.getElementById('confirm-counselor').textContent = selectedCounselor.name;
    document.getElementById('confirm-specialization').textContent = selectedCounselor.specialization;
    document.getElementById('confirm-datetime').textContent = formattedDateTime;
    document.getElementById('confirm-type').textContent = selectedSessionType;
    
    // Set form values
    document.getElementById('form-counselor-id').value = selectedCounselor.id;
    document.getElementById('form-counselor-name').value = selectedCounselor.name;
    document.getElementById('form-date').value = formattedDate;
    document.getElementById('form-time').value = selectedTime;
    document.getElementById('form-session-type').value = selectedSessionType;
    
    document.getElementById('confirmation-modal').classList.remove('hidden');
    document.body.style.overflow = 'hidden';
}

function closeConfirmationModal() {
    document.getElementById('confirmation-modal').classList.add('hidden');
    document.body.style.overflow = 'auto';
}
</script>

<jsp:include page="../common/footer.jsp" />

================================================================================
File: src\main\webapp\WEB-INF\jsp\student\telehealth-my-appointments.jsp
Size: 5.12 kB
================================================================================

<%@ page language="java" contentType="text/html; charset=UTF-8" pageEncoding="UTF-8"%>
<%@ taglib prefix="c" uri="jakarta.tags.core" %>
<jsp:include page="../common/header.jsp" />

<div class="space-y-6">
    <h1 class="text-3xl font-bold text-foreground">My Appointments</h1>

    <!-- Success Message (only show if coming from booking) -->
    <c:if test="${param.success eq 'true'}">
        <div class="bg-green-50 border border-green-200 rounded-lg p-4 flex items-start gap-3">
            <i data-lucide="check-circle-2" class="h-5 w-5 text-green-600 mt-0.5"></i>
            <div>
                <h3 class="text-sm font-medium text-green-800">Success</h3>
                <p class="text-sm text-green-700 mt-1">
                    Your appointment has been booked successfully.
                </p>
            </div>
        </div>
    </c:if>

    <div class="bg-card shadow-sm border border-border rounded-lg overflow-hidden">
        <div class="px-6 py-5 border-b border-border">
            <h3 class="text-lg font-semibold text-foreground">Upcoming Sessions</h3>
        </div>
        
        <c:choose>
            <c:when test="${not empty bookedAppointments}">
                <ul class="divide-y divide-border">
                    <c:forEach var="appointment" items="${bookedAppointments}">
                        <li class="px-6 py-5 hover:bg-secondary/20 transition-colors">
                            <div class="flex items-center justify-between mb-2">
                                <p class="text-lg font-medium text-foreground">
                                    Session with <span class="text-primary">${appointment.counselorName}</span>
                                </p>
                                <span class="px-2.5 py-0.5 rounded-full text-xs font-semibold bg-green-100 text-green-800 border border-green-200">
                                    ${appointment.status}
                                </span>
                            </div>
                            
                            <div class="sm:flex sm:justify-between">
                                <div class="sm:flex gap-6">
                                    <p class="flex items-center text-sm text-muted-foreground">
                                        <i data-lucide="calendar" class="mr-2 h-4 w-4 text-primary"></i>
                                        ${appointment.date}
                                    </p>
                                    <p class="mt-2 flex items-center text-sm text-muted-foreground sm:mt-0">
                                        <i data-lucide="clock" class="mr-2 h-4 w-4 text-primary"></i>
                                        ${appointment.time}
                                    </p>
                                </div>
                                <div class="mt-3 sm:mt-0">
                                    <span class="text-sm text-muted-foreground">${appointment.sessionType}</span>
                                </div>
                            </div>
                            
                            <div class="flex space-x-2 mt-4">
                                <button class="text-xs px-3 py-1.5 border border-border rounded-md hover:bg-secondary transition-colors">
                                    Join Session
                                </button>
                                <button class="text-xs px-3 py-1.5 border border-border rounded-md hover:bg-secondary transition-colors">
                                    Reschedule
                                </button>
                                <form action="/student/telehealth/cancel" method="post" class="inline">
                                    <input type="hidden" name="appointmentId" value="${appointment.id}" />
                                    <button type="submit" class="text-xs px-3 py-1.5 border border-destructive text-destructive rounded-md hover:bg-destructive/10 transition-colors">
                                        Cancel
                                    </button>
                                </form>
                            </div>
                        </li>
                    </c:forEach>
                </ul>
            </c:when>
            <c:otherwise>
                <div class="px-6 py-12 text-center">
                    <i data-lucide="calendar" class="w-12 h-12 mx-auto mb-3 text-muted-foreground/50"></i>
                    <p class="text-muted-foreground mb-4">No upcoming appointments</p>
                    <a href="/student/telehealth" class="inline-flex items-center gap-2 bg-primary text-primary-foreground px-4 py-2 rounded-md hover:opacity-90 transition-opacity">
                        <i data-lucide="calendar" class="w-4 h-4"></i>
                        Book New Session
                    </a>
                </div>
            </c:otherwise>
        </c:choose>
    </div>
</div>

<jsp:include page="chatbot-widget.jsp" /> 
<jsp:include page="../common/footer.jsp" />

================================================================================
File: target\classes\application.properties
Size: 211 B
================================================================================

# Spring MVC View Resolver Configuration
spring.mvc.view.prefix=/WEB-INF/jsp/
spring.mvc.view.suffix=.jsp

# Server Configuration
server.port=8080

# Application Name
spring.application.name=MindMate



================================================================================
File: target\maven-archiver\pom.properties
Size: 58 B
================================================================================

artifactId=mindmate
groupId=com.mindmate
version=1.0.0


================================================================================
File: target\maven-status\maven-compiler-plugin\compile\default-compile\createdFiles.lst
Size: 228 B
================================================================================

com\mindmate\controller\AdminController.class
com\mindmate\controller\StudentController.class
com\mindmate\controller\CounselorController.class
com\mindmate\controller\AuthController.class
com\mindmate\MindMateApplication.class


================================================================================
File: target\maven-status\maven-compiler-plugin\compile\default-compile\inputFiles.lst
Size: 1.67 kB
================================================================================

C:\Users\samyh\OneDrive\Desktop\Homework\UTM\Degree\Sem 5\IP\Project\Source Code\IPman-MindMate\src\main\java\com\mindmate\controller\AdminController.java
C:\Users\samyh\OneDrive\Desktop\Homework\UTM\Degree\Sem 5\IP\Project\Source Code\IPman-MindMate\src\main\java\com\mindmate\controller\AssessmentController.java
C:\Users\samyh\OneDrive\Desktop\Homework\UTM\Degree\Sem 5\IP\Project\Source Code\IPman-MindMate\src\main\java\com\mindmate\controller\AuthController.java
C:\Users\samyh\OneDrive\Desktop\Homework\UTM\Degree\Sem 5\IP\Project\Source Code\IPman-MindMate\src\main\java\com\mindmate\controller\CounselorController.java
C:\Users\samyh\OneDrive\Desktop\Homework\UTM\Degree\Sem 5\IP\Project\Source Code\IPman-MindMate\src\main\java\com\mindmate\controller\ForumController.java
C:\Users\samyh\OneDrive\Desktop\Homework\UTM\Degree\Sem 5\IP\Project\Source Code\IPman-MindMate\src\main\java\com\mindmate\controller\StudentController.java
C:\Users\samyh\OneDrive\Desktop\Homework\UTM\Degree\Sem 5\IP\Project\Source Code\IPman-MindMate\src\main\java\com\mindmate\MindMateApplication.java
C:\Users\samyh\OneDrive\Desktop\Homework\UTM\Degree\Sem 5\IP\Project\Source Code\IPman-MindMate\src\main\java\com\mindmate\model\Content.java
C:\Users\samyh\OneDrive\Desktop\Homework\UTM\Degree\Sem 5\IP\Project\Source Code\IPman-MindMate\src\main\java\com\mindmate\model\ForumPost.java
C:\Users\samyh\OneDrive\Desktop\Homework\UTM\Degree\Sem 5\IP\Project\Source Code\IPman-MindMate\src\main\java\com\mindmate\model\Message.java
C:\Users\samyh\OneDrive\Desktop\Homework\UTM\Degree\Sem 5\IP\Project\Source Code\IPman-MindMate\src\main\java\com\mindmate\model\Question.java


================================================================================
File: target\mindmate-1.0.0\WEB-INF\classes\application.properties
Size: 211 B
================================================================================

# Spring MVC View Resolver Configuration
spring.mvc.view.prefix=/WEB-INF/jsp/
spring.mvc.view.suffix=.jsp

# Server Configuration
server.port=8080

# Application Name
spring.application.name=MindMate



================================================================================
File: target\mindmate-1.0.0\WEB-INF\jsp\admin\dashboard.jsp
Size: 1.63 kB
================================================================================

<%@ page language="java" contentType="text/html; charset=UTF-8" pageEncoding="UTF-8"%>
<jsp:include page="../common/header.jsp" />
<h1 class="text-3xl font-bold mb-6">Admin Dashboard</h1>
<div class="mb-8">
    <h2 class="text-2xl font-semibold text-gray-800">Welcome, Administrator!</h2>
    <p class="text-gray-600 mt-2">Manage users, system settings, and platform analytics.</p>
</div>

<div class="grid grid-cols-1 md:grid-cols-3 gap-6">
    <div class="bg-white p-6 rounded-lg shadow-md">
        <h3 class="text-xl font-semibold mb-3 text-blue-600">User Management</h3>
        <p class="text-gray-600 mb-4">Manage students, counselors, and admin accounts.</p>
        <button class="bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700">
            Manage Users
        </button>
    </div>

    <div class="bg-white p-6 rounded-lg shadow-md">
        <h3 class="text-xl font-semibold mb-3 text-green-600">System Analytics</h3>
        <p class="text-gray-600 mb-4">View platform usage statistics and reports.</p>
        <button class="bg-green-600 text-white px-4 py-2 rounded-md hover:bg-green-700">
            View Analytics
        </button>
    </div>

    <div class="bg-white p-6 rounded-lg shadow-md">
        <h3 class="text-xl font-semibold mb-3 text-purple-600">System Settings</h3>
        <p class="text-gray-600 mb-4">Configure platform settings and preferences.</p>
        <button class="bg-purple-600 text-white px-4 py-2 rounded-md hover:bg-purple-700">
            Settings
        </button>
    </div>
</div>
<jsp:include page="../common/footer.jsp" />



================================================================================
File: target\mindmate-1.0.0\WEB-INF\jsp\auth\login.jsp
Size: 2.95 kB
================================================================================

<%@ page language="java" contentType="text/html; charset=UTF-8" pageEncoding="UTF-8"%>
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Login - MindMate</title>
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-100 min-h-screen flex items-center justify-center">
    <div class="bg-white p-8 rounded-lg shadow-md w-full max-w-md">
        <h1 class="text-3xl font-bold text-center mb-6 text-blue-600">MindMate</h1>
        <h2 class="text-2xl font-semibold text-center mb-6">Login</h2>
        
        <form method="POST" action="/login" class="space-y-4">
            <div>
                <label for="email" class="block text-sm font-medium text-gray-700 mb-1">Email</label>
                <input type="email" id="email" name="email" 
                       class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500" 
                       required>
            </div>
            
            <div>
                <label for="password" class="block text-sm font-medium text-gray-700 mb-1">Password</label>
                <input type="password" id="password" name="password" 
                       class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500" 
                       required>
            </div>
            
            <button type="submit" 
                    class="w-full bg-blue-600 text-white py-2 px-4 rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500">
                Login
            </button>
        </form>
        
        <div class="mt-6 text-center">
            <p class="text-sm text-gray-600 mb-4">Don't have an account? 
                <a href="/register" class="text-blue-600 hover:underline">Register here</a>
            </p>
        </div>
        
        <div class="mt-8 pt-6 border-t border-gray-300">
            <p class="text-sm text-gray-500 text-center mb-4">Demo Access (Bypass Login):</p>
            <div class="space-y-2">
                <a href="/student/dashboard" 
                   class="block w-full bg-green-600 text-white py-2 px-4 rounded-md hover:bg-green-700 text-center">
                    Login as Student
                </a>
                <a href="/counselor/dashboard" 
                   class="block w-full bg-purple-600 text-white py-2 px-4 rounded-md hover:bg-purple-700 text-center">
                    Login as Counselor
                </a>
                <a href="/admin/dashboard" 
                   class="block w-full bg-red-600 text-white py-2 px-4 rounded-md hover:bg-red-700 text-center">
                    Login as Admin
                </a>
            </div>
        </div>
    </div>
</body>
</html>



================================================================================
File: target\mindmate-1.0.0\WEB-INF\jsp\auth\register.jsp
Size: 2.79 kB
================================================================================

<%@ page language="java" contentType="text/html; charset=UTF-8" pageEncoding="UTF-8"%>
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Register - MindMate</title>
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-100 min-h-screen flex items-center justify-center">
    <div class="max-w-md mx-auto bg-white p-8 rounded-lg shadow-md">
        <h1 class="text-3xl font-bold text-center mb-6 text-blue-600">Register</h1>
        
        <form method="POST" action="/register" class="space-y-4">
            <div>
                <label for="name" class="block text-sm font-medium text-gray-700 mb-1">Full Name</label>
                <input type="text" id="name" name="name" 
                       class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500" 
                       required>
            </div>
            
            <div>
                <label for="email" class="block text-sm font-medium text-gray-700 mb-1">Email</label>
                <input type="email" id="email" name="email" 
                       class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500" 
                       required>
            </div>
            
            <div>
                <label for="password" class="block text-sm font-medium text-gray-700 mb-1">Password</label>
                <input type="password" id="password" name="password" 
                       class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500" 
                       required>
            </div>
            
            <div>
                <label for="confirmPassword" class="block text-sm font-medium text-gray-700 mb-1">Confirm Password</label>
                <input type="password" id="confirmPassword" name="confirmPassword" 
                       class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500" 
                       required>
            </div>
            
            <button type="submit" 
                    class="w-full bg-blue-600 text-white py-2 px-4 rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500">
                Register
            </button>
        </form>
        
        <div class="mt-6 text-center">
            <p class="text-sm text-gray-600">Already have an account? 
                <a href="/login" class="text-blue-600 hover:underline">Login here</a>
            </p>
        </div>
    </div>
</body>
</html>



================================================================================
File: target\mindmate-1.0.0\WEB-INF\jsp\common\footer.jsp
Size: 328 B
================================================================================

</main>
<footer class="bg-white border-t border-gray-200 mt-12">
    <div class="max-w-7xl mx-auto py-6 px-4 sm:px-6 lg:px-8">
        <p class="text-center text-sm text-gray-500">&copy; 2025 MindMate Project. All rights reserved.</p>
    </div>
</footer>

<script>
    lucide.createIcons();
</script>
</body>
</html>

================================================================================
File: target\mindmate-1.0.0\WEB-INF\jsp\common\header.jsp
Size: 5.34 kB
================================================================================

<%@ page language="java" contentType="text/html; charset=UTF-8" pageEncoding="UTF-8"%>
<%@ taglib prefix="c" uri="jakarta.tags.core" %>
<%@ taglib prefix="fn" uri="jakarta.tags.functions" %>

<c:set var="currentUrl" value="${pageContext.request.requestURI}" />

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MindMate</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/lucide@latest"></script>
</head>
<body class="bg-gray-50 text-gray-900 font-sans antialiased">
    <nav class="bg-white border-b border-gray-200">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between h-16">
                <div class="flex">
                    <div class="shrink-0 flex items-center">
                        <a href="${role == 'counselor' ? '/counselor/dashboard' : (role == 'admin' ? '/admin/dashboard' : '/student/dashboard')}" 
                           class="text-2xl font-bold text-indigo-600">MindMate</a>
                    </div>
    
                    <c:if test="${role == 'student' || role == null}">
                        <div class="hidden sm:ml-6 sm:flex sm:space-x-8">
                            <a href="/student/dashboard" 
                               class="${fn:contains(currentUrl, '/student/dashboard') ? 'border-indigo-500 text-gray-900' : 'border-transparent text-gray-500 hover:border-gray-300 hover:text-gray-700'} inline-flex items-center px-1 pt-1 border-b-2 text-sm font-medium">
                               Dashboard
                            </a>
                            <a href="/student/assessment" 
                               class="${fn:contains(currentUrl, '/student/assessment') ? 'border-indigo-500 text-gray-900' : 'border-transparent text-gray-500 hover:border-gray-300 hover:text-gray-700'} inline-flex items-center px-1 pt-1 border-b-2 text-sm font-medium">
                               Assessment
                            </a>
                            <a href="/student/library" 
                               class="${fn:contains(currentUrl, '/student/library') ? 'border-indigo-500 text-gray-900' : 'border-transparent text-gray-500 hover:border-gray-300 hover:text-gray-700'} inline-flex items-center px-1 pt-1 border-b-2 text-sm font-medium">
                               Library
                            </a>
                            <a href="/student/telehealth" 
                               class="${fn:contains(currentUrl, '/student/telehealth') ? 'border-indigo-500 text-gray-900' : 'border-transparent text-gray-500 hover:border-gray-300 hover:text-gray-700'} inline-flex items-center px-1 pt-1 border-b-2 text-sm font-medium">
                               Telehealth
                            </a>
                        </div>
                    </c:if>
    
                    <c:if test="${role == 'counselor'}">
                        <div class="hidden sm:ml-6 sm:flex sm:space-x-8">
                            <a href="/counselor/dashboard" 
                               class="${fn:contains(currentUrl, '/counselor/dashboard') ? 'border-indigo-500 text-gray-900' : 'border-transparent text-gray-500 hover:border-gray-300 hover:text-gray-700'} inline-flex items-center px-1 pt-1 border-b-2 text-sm font-medium">
                               Dashboard
                            </a>
                            <a href="/counselor/schedule" 
                               class="${fn:contains(currentUrl, '/counselor/schedule') ? 'border-indigo-500 text-gray-900' : 'border-transparent text-gray-500 hover:border-gray-300 hover:text-gray-700'} inline-flex items-center px-1 pt-1 border-b-2 text-sm font-medium">
                               Schedule
                            </a>
                            <a href="/counselor/content" 
                               class="${fn:contains(currentUrl, '/counselor/content') ? 'border-indigo-500 text-gray-900' : 'border-transparent text-gray-500 hover:border-gray-300 hover:text-gray-700'} inline-flex items-center px-1 pt-1 border-b-2 text-sm font-medium">
                               Content
                            </a>
                        </div>
                    </c:if>
    
                    <c:if test="${role == 'admin'}">
                        <div class="hidden sm:ml-6 sm:flex sm:space-x-8">
                            <a href="/admin/dashboard" 
                               class="${fn:contains(currentUrl, '/admin/dashboard') ? 'border-indigo-500 text-gray-900' : 'border-transparent text-gray-500 hover:border-gray-300 hover:text-gray-700'} inline-flex items-center px-1 pt-1 border-b-2 text-sm font-medium">
                               Analytics
                            </a>
                        </div>
                    </c:if>
                </div>
                
                <div class="flex items-center">
                    <a href="/logout" class="text-sm text-red-600 hover:text-red-800">Logout</a>
                </div>
            </div>
        </div>
    </nav>
    <main class="max-w-7xl mx-auto py-6 sm:px-6 lg:px-8">

================================================================================
File: target\mindmate-1.0.0\WEB-INF\jsp\counselor\content-manager.jsp
Size: 1.18 kB
================================================================================

<%@ page language="java" contentType="text/html; charset=UTF-8" pageEncoding="UTF-8"%>
<jsp:include page="../common/header.jsp" />
<h1 class="text-3xl font-bold mb-6">Content Manager</h1>
<div class="mb-6">
    <a href="/counselor/content/new" class="bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700 inline-block">
        Create New Content
    </a>
</div>
<div class="bg-white p-6 rounded-lg shadow-md">
    <h2 class="text-xl font-semibold mb-4">Published Content</h2>
    <div class="space-y-4">
        <div class="border-b pb-4">
            <h3 class="text-lg font-semibold">Understanding Anxiety</h3>
            <p class="text-gray-600 text-sm mb-2">Published on: January 1, 2024</p>
            <div class="flex space-x-2">
                <button class="bg-blue-600 text-white px-3 py-1 rounded-md hover:bg-blue-700 text-sm">
                    Edit
                </button>
                <button class="bg-red-600 text-white px-3 py-1 rounded-md hover:bg-red-700 text-sm">
                    Delete
                </button>
            </div>
        </div>
    </div>
</div>
<jsp:include page="../common/footer.jsp" />



================================================================================
File: target\mindmate-1.0.0\WEB-INF\jsp\counselor\dashboard.jsp
Size: 1.31 kB
================================================================================

<%@ page language="java" contentType="text/html; charset=UTF-8" pageEncoding="UTF-8"%>
<jsp:include page="../common/header.jsp" />
<h1 class="text-3xl font-bold mb-6">Counselor Dashboard</h1>
<div class="mb-8">
    <h2 class="text-2xl font-semibold text-gray-800">Welcome, Counselor!</h2>
    <p class="text-gray-600 mt-2">Manage your schedule and content from here.</p>
</div>

<div class="grid grid-cols-1 md:grid-cols-2 gap-6">
    <div class="bg-white p-6 rounded-lg shadow-md">
        <h3 class="text-xl font-semibold mb-3 text-blue-600">Today's Schedule</h3>
        <p class="text-gray-600 mb-4">View and manage your appointments for today.</p>
        <a href="/counselor/schedule" class="bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700 inline-block">
            View Schedule
        </a>
    </div>

    <div class="bg-white p-6 rounded-lg shadow-md">
        <h3 class="text-xl font-semibold mb-3 text-green-600">Content Manager</h3>
        <p class="text-gray-600 mb-4">Create and manage educational content for students.</p>
        <a href="/counselor/content" class="bg-green-600 text-white px-4 py-2 rounded-md hover:bg-green-700 inline-block">
            Manage Content
        </a>
    </div>
</div>
<jsp:include page="../common/footer.jsp" />



================================================================================
File: target\mindmate-1.0.0\WEB-INF\jsp\counselor\schedule.jsp
Size: 1.27 kB
================================================================================

<%@ page language="java" contentType="text/html; charset=UTF-8" pageEncoding="UTF-8"%>
<jsp:include page="../common/header.jsp" />
<h1 class="text-3xl font-bold mb-6">Schedule</h1>
<div class="bg-white p-6 rounded-lg shadow-md">
    <h2 class="text-xl font-semibold mb-4">Upcoming Appointments</h2>
    <div class="space-y-4">
        <div class="border border-gray-200 rounded-md p-4">
            <div class="flex justify-between items-center">
                <div>
                    <h3 class="text-lg font-semibold">Student: John Doe</h3>
                    <p class="text-gray-600">January 15, 2024 at 10:00 AM</p>
                    <p class="text-gray-500 text-sm mt-1">Reason: General consultation</p>
                </div>
                <div class="flex space-x-2">
                    <button class="bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700 text-sm">
                        View Details
                    </button>
                    <button class="bg-red-600 text-white px-4 py-2 rounded-md hover:bg-red-700 text-sm">
                        Cancel
                    </button>
                </div>
            </div>
        </div>
    </div>
</div>
<jsp:include page="../common/footer.jsp" />



================================================================================
File: target\mindmate-1.0.0\WEB-INF\jsp\student\assessment-list.jsp
Size: 842 B
================================================================================

<%@ page language="java" contentType="text/html; charset=UTF-8" pageEncoding="UTF-8"%>
<jsp:include page="../common/header.jsp" />
<h1 class="text-3xl font-bold mb-6">Assessment List</h1>
<p class="text-gray-600 mb-6">Select an assessment to begin or view your previous results.</p>
<div class="bg-white p-6 rounded-lg shadow-md">
    <h2 class="text-xl font-semibold mb-4">Available Assessments</h2>
    <ul class="space-y-3">
        <li class="border-b pb-3">
            <a href="/student/assessment/take" class="text-blue-600 hover:underline font-medium">
                Mental Health Screening Assessment
            </a>
            <p class="text-gray-600 text-sm mt-1">A comprehensive assessment to evaluate your mental health status.</p>
        </li>
    </ul>
</div>
<jsp:include page="../common/footer.jsp" />



================================================================================
File: target\mindmate-1.0.0\WEB-INF\jsp\student\assessment-questions.jsp
Size: 1.37 kB
================================================================================

<%@ page language="java" contentType="text/html; charset=UTF-8" pageEncoding="UTF-8"%>
<jsp:include page="../common/header.jsp" />
<h1 class="text-3xl font-bold mb-6">Assessment Questions</h1>
<div class="bg-white p-6 rounded-lg shadow-md">
    <form method="POST" action="/student/assessment/submit" class="space-y-6">
        <div>
            <label class="block text-lg font-medium mb-2">Question 1: How often do you feel anxious?</label>
            <div class="space-y-2">
                <label class="flex items-center"><input type="radio" name="q1" value="never" class="mr-2"> Never</label>
                <label class="flex items-center"><input type="radio" name="q1" value="rarely" class="mr-2"> Rarely</label>
                <label class="flex items-center"><input type="radio" name="q1" value="sometimes" class="mr-2"> Sometimes</label>
                <label class="flex items-center"><input type="radio" name="q1" value="often" class="mr-2"> Often</label>
                <label class="flex items-center"><input type="radio" name="q1" value="always" class="mr-2"> Always</label>
            </div>
        </div>
        <button type="submit" class="bg-blue-600 text-white px-6 py-2 rounded-md hover:bg-blue-700">
            Submit Assessment
        </button>
    </form>
</div>
<jsp:include page="../common/footer.jsp" />



================================================================================
File: target\mindmate-1.0.0\WEB-INF\jsp\student\assessment-result.jsp
Size: 635 B
================================================================================

<%@ page language="java" contentType="text/html; charset=UTF-8" pageEncoding="UTF-8"%>
<jsp:include page="../common/header.jsp" />
<h1 class="text-3xl font-bold mb-6">Assessment Result</h1>
<div class="bg-white p-6 rounded-lg shadow-md">
    <h2 class="text-xl font-semibold mb-4">Your Assessment Results</h2>
    <p class="text-gray-600 mb-4">Based on your responses, here are your results and recommendations.</p>
    <div class="bg-blue-50 p-4 rounded-md">
        <p class="text-gray-700">Results will be displayed here after completing an assessment.</p>
    </div>
</div>
<jsp:include page="../common/footer.jsp" />



================================================================================
File: target\mindmate-1.0.0\WEB-INF\jsp\student\chatbot.jsp
Size: 1.08 kB
================================================================================

<%@ page language="java" contentType="text/html; charset=UTF-8" pageEncoding="UTF-8"%>
<jsp:include page="../common/header.jsp" />
<h1 class="text-3xl font-bold mb-6">Chatbot</h1>
<div class="bg-white p-6 rounded-lg shadow-md">
    <div class="h-96 border border-gray-300 rounded-md p-4 mb-4 bg-gray-50">
        <div class="space-y-4">
            <div class="bg-blue-100 p-3 rounded-md">
                <p class="text-gray-700">Hello! I'm here to help you with your mental health questions. How can I assist you today?</p>
            </div>
        </div>
    </div>
    <form method="POST" action="/student/chatbot/message" class="flex space-x-2">
        <input type="text" name="message" placeholder="Type your message..." 
               class="flex-1 px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500">
        <button type="submit" class="bg-blue-600 text-white px-6 py-2 rounded-md hover:bg-blue-700">
            Send
        </button>
    </form>
</div>
<jsp:include page="../common/footer.jsp" />



================================================================================
File: target\mindmate-1.0.0\WEB-INF\jsp\student\content-library.jsp
Size: 1.54 kB
================================================================================

<%@ page language="java" contentType="text/html; charset=UTF-8" pageEncoding="UTF-8"%>
<jsp:include page="../common/header.jsp" />
<h1 class="text-3xl font-bold mb-6">Content Library</h1>
<p class="text-gray-600 mb-6">Browse articles, videos, and resources to support your mental health journey.</p>
<div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
    <div class="bg-white p-6 rounded-lg shadow-md hover:shadow-lg transition-shadow">
        <h3 class="text-xl font-semibold mb-2">Understanding Anxiety</h3>
        <p class="text-gray-600 text-sm mb-4">Learn about anxiety and effective coping strategies.</p>
        <a href="/student/library/view" class="text-blue-600 hover:underline">Read More ‚Üí</a>
    </div>
    <div class="bg-white p-6 rounded-lg shadow-md hover:shadow-lg transition-shadow">
        <h3 class="text-xl font-semibold mb-2">Stress Management Techniques</h3>
        <p class="text-gray-600 text-sm mb-4">Practical tips for managing daily stress.</p>
        <a href="/student/library/view" class="text-blue-600 hover:underline">Read More ‚Üí</a>
    </div>
    <div class="bg-white p-6 rounded-lg shadow-md hover:shadow-lg transition-shadow">
        <h3 class="text-xl font-semibold mb-2">Building Resilience</h3>
        <p class="text-gray-600 text-sm mb-4">Develop resilience to overcome life's challenges.</p>
        <a href="/student/library/view" class="text-blue-600 hover:underline">Read More ‚Üí</a>
    </div>
</div>
<jsp:include page="../common/footer.jsp" />



================================================================================
File: target\mindmate-1.0.0\WEB-INF\jsp\student\content-view.jsp
Size: 828 B
================================================================================

<jsp:include page="../common/header.jsp" />
<div class="max-w-7xl mx-auto py-6 sm:px-6 lg:px-8">
    <div class="bg-white shadow overflow-hidden sm:rounded-lg p-6">
        <h1 class="text-3xl font-bold text-gray-900 mb-4">Understanding Anxiety</h1>
        <p class="text-gray-600 mb-4">By Dr. Smith ‚Ä¢ 5 min read</p>
        <div class="prose max-w-none text-gray-500">
            <p>[Placeholder Content] Anxiety is a normal reaction to stress...</p>
            <p>(This is a demo article view. In the real app, this content would be pulled from the database based on the ID.)</p>
        </div>
        <div class="mt-6">
            <a href="/student/library" class="text-indigo-600 hover:text-indigo-900">‚Üê Back to Library</a>
        </div>
    </div>
</div>
<jsp:include page="../common/footer.jsp" />

================================================================================
File: target\mindmate-1.0.0\WEB-INF\jsp\student\dashboard.jsp
Size: 1.96 kB
================================================================================

<%@ page language="java" contentType="text/html; charset=UTF-8" pageEncoding="UTF-8"%>
<jsp:include page="../common/header.jsp" />
<h1 class="text-3xl font-bold mb-6">Student Dashboard</h1>
<div class="mb-8">
    <h2 class="text-2xl font-semibold text-gray-800">Welcome Back!</h2>
    <p class="text-gray-600 mt-2">Here's what's happening with your mental health journey today.</p>
</div>

<div class="grid grid-cols-1 md:grid-cols-3 gap-6">
    <!-- Take Assessment Card -->
    <div class="bg-white p-6 rounded-lg shadow-md hover:shadow-lg transition-shadow">
        <h3 class="text-xl font-semibold mb-3 text-blue-600">Take Assessment</h3>
        <p class="text-gray-600 mb-4">Complete a mental health assessment to track your progress.</p>
        <a href="/student/assessment" class="bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700 inline-block">
            Start Assessment
        </a>
    </div>

    <!-- Next Appointment Card -->
    <div class="bg-white p-6 rounded-lg shadow-md hover:shadow-lg transition-shadow">
        <h3 class="text-xl font-semibold mb-3 text-green-600">Next Appointment</h3>
        <p class="text-gray-600 mb-4">Your next telehealth session is scheduled.</p>
        <a href="/student/telehealth/my-appointments" class="bg-green-600 text-white px-4 py-2 rounded-md hover:bg-green-700 inline-block">
            View Appointments
        </a>
    </div>

    <!-- Latest Article Card -->
    <div class="bg-white p-6 rounded-lg shadow-md hover:shadow-lg transition-shadow">
        <h3 class="text-xl font-semibold mb-3 text-purple-600">Latest Article</h3>
        <p class="text-gray-600 mb-4">Read our latest content on mental wellness.</p>
        <a href="/student/library" class="bg-purple-600 text-white px-4 py-2 rounded-md hover:bg-purple-700 inline-block">
            Browse Library
        </a>
    </div>
</div>
<jsp:include page="../common/footer.jsp" />



================================================================================
File: target\mindmate-1.0.0\WEB-INF\jsp\student\forum-list.jsp
Size: 958 B
================================================================================

<%@ page language="java" contentType="text/html; charset=UTF-8" pageEncoding="UTF-8"%>
<%@ taglib prefix="c" uri="http://java.sun.com/jsp/jstl/core" %>
<jsp:include page="../common/header.jsp" />
<h1 class="text-3xl font-bold mb-6">Forum</h1>
<p class="text-gray-600 mb-6">Join discussions and share experiences with the community.</p>
<div class="bg-white p-6 rounded-lg shadow-md">
    <h2 class="text-xl font-semibold mb-4">Discussion Threads</h2>
    <ul class="space-y-4">
        <c:forEach var="thread" items="${forumThreads}">
            <li class="border-b pb-4">
                <a href="/student/forum/thread" class="text-blue-600 hover:underline font-medium text-lg">
                    ${thread}
                </a>
                <p class="text-gray-500 text-sm mt-1">Click to view replies and join the discussion.</p>
            </li>
        </c:forEach>
    </ul>
</div>
<jsp:include page="../common/footer.jsp" />



================================================================================
File: target\mindmate-1.0.0\WEB-INF\jsp\student\forum-thread.jsp
Size: 1.49 kB
================================================================================

<%@ page language="java" contentType="text/html; charset=UTF-8" pageEncoding="UTF-8"%>
<jsp:include page="../common/header.jsp" />
<h1 class="text-3xl font-bold mb-6">Forum Thread</h1>
<div class="bg-white p-6 rounded-lg shadow-md">
    <div class="mb-6">
        <h2 class="text-2xl font-semibold mb-2">Thread Title</h2>
        <p class="text-gray-500 text-sm">Posted by: User123 ‚Ä¢ 2 days ago</p>
    </div>
    <div class="border-b pb-4 mb-4">
        <p class="text-gray-700 leading-relaxed">Original post content will be displayed here...</p>
    </div>
    <h3 class="text-xl font-semibold mb-4">Replies</h3>
    <div class="space-y-4">
        <div class="bg-gray-50 p-4 rounded-md">
            <p class="font-medium mb-2">Reply Author</p>
            <p class="text-gray-700">Reply content will be displayed here...</p>
        </div>
    </div>
    <div class="mt-6">
        <h3 class="text-lg font-semibold mb-3">Post a Reply</h3>
        <form method="POST" action="/student/forum/thread/reply" class="space-y-4">
            <textarea name="reply" rows="4" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500" placeholder="Write your reply..."></textarea>
            <button type="submit" class="bg-blue-600 text-white px-6 py-2 rounded-md hover:bg-blue-700">
                Post Reply
            </button>
        </form>
    </div>
</div>
<jsp:include page="../common/footer.jsp" />



================================================================================
File: target\mindmate-1.0.0\WEB-INF\jsp\student\telehealth-book.jsp
Size: 2.49 kB
================================================================================

<%@ page language="java" contentType="text/html; charset=UTF-8" pageEncoding="UTF-8"%>
<jsp:include page="../common/header.jsp" />
<h1 class="text-3xl font-bold mb-6">Book Telehealth Appointment</h1>
<div class="bg-white p-6 rounded-lg shadow-md max-w-2xl">
    <form method="POST" action="/student/telehealth/book" class="space-y-4">
        <div>
            <label for="counselor" class="block text-sm font-medium text-gray-700 mb-1">Select Counselor</label>
            <select id="counselor" name="counselor" 
                    class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500">
                <option value="1">Dr. Jane Smith - Licensed Therapist</option>
                <option value="2">Dr. John Doe - Clinical Psychologist</option>
            </select>
        </div>
        <div>
            <label for="date" class="block text-sm font-medium text-gray-700 mb-1">Select Date</label>
            <input type="date" id="date" name="date" 
                   class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500" 
                   required>
        </div>
        <div>
            <label for="time" class="block text-sm font-medium text-gray-700 mb-1">Select Time</label>
            <select id="time" name="time" 
                    class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500">
                <option value="09:00">9:00 AM</option>
                <option value="10:00">10:00 AM</option>
                <option value="11:00">11:00 AM</option>
                <option value="14:00">2:00 PM</option>
                <option value="15:00">3:00 PM</option>
            </select>
        </div>
        <div>
            <label for="reason" class="block text-sm font-medium text-gray-700 mb-1">Reason for Appointment</label>
            <textarea id="reason" name="reason" rows="4" 
                      class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500" 
                      placeholder="Briefly describe the reason for your appointment..."></textarea>
        </div>
        <button type="submit" class="bg-blue-600 text-white px-6 py-2 rounded-md hover:bg-blue-700">
            Book Appointment
        </button>
    </form>
</div>
<jsp:include page="../common/footer.jsp" />



================================================================================
File: target\mindmate-1.0.0\WEB-INF\jsp\student\telehealth-my-appointments.jsp
Size: 2.07 kB
================================================================================

<jsp:include page="../common/header.jsp" />
<div class="max-w-7xl mx-auto py-6 sm:px-6 lg:px-8">
    <div class="bg-green-50 border-l-4 border-green-400 p-4 mb-6">
        <div class="flex">
            <div class="ml-3">
                <p class="text-sm text-green-700">
                    Success! Your appointment has been booked.
                </p>
            </div>
        </div>
    </div>

    <div class="bg-white shadow overflow-hidden sm:rounded-lg">
        <div class="px-4 py-5 sm:px-6">
            <h3 class="text-lg leading-6 font-medium text-gray-900">My Upcoming Appointments</h3>
        </div>
        <div class="border-t border-gray-200">
            <ul class="divide-y divide-gray-200">
                <li class="px-4 py-4 sm:px-6">
                    <div class="flex items-center justify-between">
                        <p class="text-sm font-medium text-indigo-600 truncate">Session with Dr. Emily Chen</p>
                        <div class="ml-2 flex-shrink-0 flex">
                            <span class="px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-green-100 text-green-800">Confirmed</span>
                        </div>
                    </div>
                    <div class="mt-2 sm:flex sm:justify-between">
                        <div class="sm:flex">
                            <p class="flex items-center text-sm text-gray-500">
                                <i data-lucide="calendar" class="mr-1.5 h-5 w-5 text-gray-400"></i>
                                Nov 28, 2025
                            </p>
                            <p class="mt-2 flex items-center text-sm text-gray-500 sm:mt-0 sm:ml-6">
                                <i data-lucide="clock" class="mr-1.5 h-5 w-5 text-gray-400"></i>
                                10:00 AM
                            </p>
                        </div>
                    </div>
                </li>
            </ul>
        </div>
    </div>
</div>
<jsp:include page="../common/footer.jsp" />
